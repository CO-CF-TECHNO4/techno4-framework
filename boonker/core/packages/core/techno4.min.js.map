{"version":3,"file":"techno4.min.js","names":["isObject","obj","constructor","Object","extend","target","src","keys","forEach","key","length","ssrDocument","body","addEventListener","removeEventListener","activeElement","blur","nodeName","querySelector","querySelectorAll","getElementById","createEvent","initEvent","createElement","children","childNodes","style","setAttribute","getElementsByTagName","createElementNS","importNode","location","hash","host","hostname","href","origin","pathname","protocol","search","getDocument","doc","document","ssrWindow","navigator","userAgent","history","replaceState","pushState","go","back","CustomEvent","this","getComputedStyle","getPropertyValue","Image","Date","screen","setTimeout","clearTimeout","matchMedia","requestAnimationFrame","callback","cancelAnimationFrame","id","getWindow","win","window","DOM64","Array","items","super","proto","__proto__","defineProperty","get","set","value","makeReactive","arrayFlat","arr","res","el","isArray","push","arrayFilter","prototype","filter","call","$","selector","context","html","trim","indexOf","toCreate","tempParent","innerHTML","i","a","qsa","nodeType","uniqueArray","arrayUnique","fn","noTrigger","split","shortcut","name","_len14","arguments","args","_key14","trigger","on","click","focus","focusin","focusout","keyup","keydown","keypress","submit","change","mousedown","mousemove","mouseup","mouseenter","mouseleave","mouseout","mouseover","touchstart","touchend","touchmove","resize","scroll","dom","j","_len10","els","_key10","toAdd","_len","classes","_key","classNames","map","c","classList","add","initialProps","initialParams","props","assign","params","duration","easing","elements","animating","que","easingProgress","progress","Math","cos","PI","stop","frameId","each","dom64AnimateInstance","done","complete","shift","animate","index","initialFullValue","initialValue","unit","finalValue","finalFullValue","container","prop","replace","parseFloat","currentValue","time","startTime","elementsDone","propsDone","began","render","easeProgress","getTime","begin","max","min","element","animateInstance","fireCallBack","e","off","newChild","k","undefined","tempDiv","firstChild","appendChild","parent","append","attrs","getAttribute","attrName","is","closest","parents","eq","dom64ElementDataStorage","dataKey","dataset","attributes","attr","string","toLowerCase","match","group","toUpperCase","remove","apply","parentNode","removeChild","textContent","returnIndex","foundElements","found","_len4","_key4","className","contains","innerHeight","css","display","child","previousSibling","after","insertBefore","nextSibling","cloneNode","before","compareWith","matches","webkitMatchesSelector","msMatchesSelector","nextElementSibling","nextEls","next","_len6","_key6","eventType","targetSelector","listener","capture","events","event","handlers","dom64Listeners","dom64LiveListeners","handler","dom64proxy","proxyListener","splice","box","getBoundingClientRect","clientTop","clientLeft","scrollTop","scrollY","scrollLeft","scrollX","top","left","_len5","_key5","handleLiveEvent","eventData","dom64EventData","unshift","handleEvent","_len7","_key7","eventName","onceHandler","_len8","eventArgs","_key8","includeMargins","styles","offsetHeight","offsetWidth","prepend","previousElementSibling","prevEls","prev","propName","removeAttribute","_len2","_key2","_len13","_key13","scrollTo","_len11","_key11","currentTop","currentLeft","maxTop","maxLeft","newTop","newLeft","animateTop","animateLeft","scrollHeight","scrollWidth","_len12","_key12","nextAll","prevAll","text","_len3","_key3","toggle","transform","transitionDuration","_len9","_key9","evt","detail","bubbles","cancelable","data","dataIndex","dispatchEvent","multiple","values","selectedOptions","options","selected","val","innerWidth","methods","methodName","uniqueNum","mask","floor","random","mdPreloaderContent","iosPreloaderContent","join","eventNameToColonCase","hasColon","char","deleteProps","object","nextTick","delay","nextFrame","now","parseUrlQuery","url","query","param","urlToParse","paramsPart","decodeURIComponent","slice","serializeObject","resultArray","newParents","varName","parentParts","encodeURIComponent","varValue","toPush","String","o","merge","to","from","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","enumerable","deep","colorHexToRgb","hex","h","m","r","g","b","result","exec","n","parseInt","colorRgbToHex","toString","colorRgbToHsl","d","l","abs","colorHslToRgb","s","hp","x","rgb1","Number","isNaN","round","bindMethods","instance","subKey","bind","flattenArray","arg","axis","matrix","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","webkitTransform","MozTransform","OTransform","MsTransform","msTransform","m41","m42","HSL","HSB","t","rgb","hsl","hslShade","hslTint","shade","tint","support","deviceCalculated","getSupport","touch","DocumentTouch","pointerEvents","PointerEvent","maxTouchPoints","passiveListener","supportsPassive","opts","intersectionObserver","calcSupport","getDevice","overrides","reset","_temp","platform","ua","device","ios","android","androidChrome","desktop","iphone","ipod","ipad","edge","ie","firefox","macos","windows","cordova","electron","capacitor","Capacitor","nwjs","screenWidth","width","screenHeight","height","nw","process","versions","os","osVersion","webView","standalone","webview","pixelRatio","devicePixelRatio","prefersColorScheme","theme","calcDevice","EventsClass","eventsParents","eventsListeners","priority","self","method","once","t4proxy","eventHandler","emit","local","eventsArray","localEvents","parentEvents","eventsParent","techno4Class","useModuleParams","module","instanceParams","originalParams","paramKey","useModulesParams","modules","moduleName","useModule","moduleParams","modulePropName","moduleProp","moduleEventName","vnode","vnodeHooks","vnodeId","hookName","create","useModules","modulesParams","components","use","static","Class","install","installModule","ConstructorMethods","parameters","defaultSelector","Constructor","domProp","app","addMethods","$el","destroy","fetchedModules","techno4","Error","passedParams","w","defaults","version","language","routes","lazyModulesPath","initOnDeviceReady","init","autoDarkMode","iosTranslucentBars","iosTranslucentModals","component","componentUrl","online","onLine","store","t4","initStore","mount","rootEl","$rootEl","rtl","DARK","LIGHT","mq","dark","light","colorSchemeListener","_ref","media","darkMode","__store","createStore","enableAutoDarkMode","addListener","disableAutoDarkMode","removeListener","initAppComponent","router","componentLoader","componentOptions","$elComponent","t4Component","initialized","addClass","removeClass","loadModule","loadModules","getVnodeHooks","hook","Dom64","Events","$jsx","tag","attrsString","ModalMethods","open","targetEl","$targetPage","modalEl","$modalEl","t4Modal","close","$parentEl","$targetEl","moduleToLoad","Promise","resolve","reject","modulePath","moduleObj","moduleFunc","matchNamePattern","scriptLoad","resolveScript","rejectScript","request","scriptContent","callbackLoadName","scriptEl","xhr","status","styleLoad","resolveStyle","styleContent","styleEl","all","then","catch","err","DeviceModule","metaStatusbar","content","SupportModule","UtilsModule","utils","ResizeModule","getSize","offset","orientationchange","globals","jsonpRequests","RequestResponse","RequestError","requestOptions","globalsNoCallbacks","callbackName","async","cache","user","password","headers","xhrFields","statusCode","processData","dataType","contentType","timeout","proceedRequest","abortController","canceled","message","fireCallback","globalCallbackValue","optionCallbackValue","type","paramsPrefix","stringData","abortTimeout","callbackSplit","requestUrl","addVars","script","onerror","XMLHttpRequest","aborted","onAbort","abort","requestParameters","postData","ArrayBuffer","Blob","Document","FormData","boundary","setRequestHeader","newData","JSON","stringify","Accept","headerName","crossDomain","test","RegExp","$2","onload","responseData","parseError","parse","responseText","responseType","response","statusText","ontimeout","send","requestShortcut","success","error","post","json","getJSON","postJSON","contoller","setup","RequestModule","TouchModule","touchClicksDistanceThreshold","disableContextMenu","tapHold","tapHoldDelay","tapHoldPreventClicks","activeState","activeStateElements","activeStateOnMouseMove","mdTouchRipple","iosTouchRipple","auroraTouchRipple","touchRippleElements","touchRippleInsetElements","touchEvents","start","move","end","useRipple","touchStartX","touchStartY","targetElement","isMoved","tapHoldFired","tapHoldTimeout","preventClick","activableElement","activeTimeout","rippleWave","rippleTarget","rippleTimeout","isScrolling","findActivableElement","activable","newActivable","preventPropagation","hasClass","isInsideScrollableView","addActive","removeActive","createRipple","y","touchRipple","removeRipple","rippleTouchStart","rippleElements","rippleParent","findRippleElement","rippleTouchMove","rippleTouchEnd","handleMouseUp","isSegmentedStrong","segmentedStrongEl","touchMoveActivableIos","isTouchMoveActivable","touchmoveActivableEl","emitAppTouchEvent","appTouchStartActive","appTouchMoveActive","appTouchEndActive","appTouchStartPassive","appTouchMovePassive","appTouchEndPassive","passive","passiveListenerCapture","activeListener","activeListenerCapture","isOverswipe","isSegmented","localPreventClick","stopImmediatePropagation","stopPropagation","preventDefault","targetTouches","touches","pageX","pageY","distance","shouldRemoveActive","touchCurrentX","touchCurrentY","buttonEl","elementFromPoint","clientX","clientY","$activableEl","which","isNative","str","tokens","count","pattern","TypeError","concat","code","charCodeAt","lexer","_a","prefixes","defaultPattern","escapeString","delimiter","path","tryConsume","mustConsume","nextType","consumeText","prefix","suffix","modifier","name_1","pattern_1","compile","reFlags","flags","encode","_b","validate","token","optional","repeat","segment","typeOfMessage","tokensToFunction","sensitive","stringToRegexp","strict","_c","_d","_e","_f","endsWith","endsWithRe","delimiterRe","route","_i","tokens_1","mod","endToken","isEndDelimited","tokensToRegexp","pathToRegexp","groupsRegex","execResult","source","regexpToRegexp","paths","parts","arrayToRegexp","History","queue","clearQueue","currentQueue","routerQueue","clearRouterQueue","pop","stateUrl","action","browserHistoryAnimate","browserHistory","navigate","handle","blockPopstate","state","previousState","allowChange","views","view","viewState","allowPageChange","initViewState","viewId","newState","substr","includes","readyState","SwipeBack","$navbarsEl","isTouched","touchesStart","viewContainerWidth","touchesDiff","touchStartTime","dynamicNavbar","$pageShadowEl","$pageOpacityEl","animatableNavEls","$currentPageEl","$previousPageEl","allowViewTouchMove","$currentNavbarEl","$previousNavbarEl","paramsSwipeBackAnimateShadow","paramsSwipeBackAnimateOpacity","paramsSwipeBackActiveArea","paramsSwipeBackThreshold","transformOrigin","transformOriginTitleLarge","setAnimatableNavElements","transition","reflow","_clientLeft","classNameSet","styleProp","handleTouchStart","swipeBackEnabled","swipeout","masterDetailBreakpoint","handleTouchMove","t4PreventSwipeBack","preventSwipeBack","cancel","find","notFromBorder","inverter","currentNavIsTransparent","currentNavIsLarge","currentNavIsCollapsed","currentNavIsLargeTransparent","previousNavIsTransparent","previousNavIsLarge","previousNavIsCollapsed","previousNavIsLargeTransparent","fromLarge","toLarge","$currentNavElements","$previousNavElements","activeNavBackIconText","previousNavBackIconText","iosAnimateNavbarBackIcon","t4NavbarLeftOffset","navEl","$navEl","isSubnavbar","isLeft","isTitle","isBg","overflow","subNavEl","opacity","isSliding","transformTarget","textEl","activeNavTranslate","t4NavbarRightOffset","previousNavTranslate","animatableNavElements","sheet","t4PreventSwipePanel","preventSwipePanelBySwipeBack","percentage","callbackData","currentPageEl","previousPageEl","currentNavbarEl","previousNavbarEl","currentPageTranslate","previousPageTranslate","swipeBackActive","handleTouchEnd","$pages","timeDiff","pageChanged","removeAttr","setNavbarPosition","currentRoute","t4Page","currentPage","pageCallback","swipeBack","transitionEnd","saveHistory","stackPages","initialPages","removePage","removeNavbar","previousRoute","preloadPreviousPage","preload","attachEvents","redirect","direction","initial","redirectUrl","redirectOptions","processQueue","routeQueue","processRouteQueue","enterNextRoute","routesBeforeEnter","beforeEnter","routesBeforeLeave","beforeLeave","appRouterCheck","asyncComponent","resolvePromise","componentPromise","default","_default","asyncComponentResult","forward","forwardOptions","reloadCurrent","reloadPages","reloadPrevious","reloadAll","clearPreviousHistory","reloadDetail","masterDetailEnabled","isMaster","master","masterPageEl","otherDetailPageEl","modalType","detailsInBetweenRemoved","currentRouteIsModal","modal","modalLoadProp","modalToClose","modalInstance","previousUrl","findMatchingRoute","modalRemove","$viewEl","$newPage","reload","$oldPage","$newNavbarEl","$oldNavbarEl","removeThemeElements","$navbarEl","keepAlive","keepAliveData","pageEl","$pagesInView","pageInView","$navbarsInView","isDetail","isDetailRoot","navbarInView","newPagePosition","position","role","root","detailRoot","navbar","getElByPage","navbarEl","removedPageEls","removedNavbarEls","oldNavbarEl","browserHistoryRoot","browserHistorySeparator","newPageInDom","componentEl","t4PageMounted","$oldPageEl","$oldNavbarElEl","tab","tabLoad","checkMasterDetailBreakpoint","setPagePosition","afterAnimation","keepOldPage","setPositionClasses","t4PageTransition","load","loadParams","loadOptions","ignorePageChange","pageName","parentPath","sameParams","paramName","allowDuplicateUrls","parseRouteUrl","getPageEl","pageComponentLoader","routerEl","newOptions","xhrAbortController","xhrRequest","pageContent","backward","backwardOptions","masterPageRemoved","initialPreload","currentIsMaster","backIndex","masterRoute","force","pageToRemove","$pageToRemove","$navbarToRemove","insertPage","$previousPages","loadBack","backParams","backOptions","Router","isAppRouter","routerId","scrollHistory","iosDynamicNavbar","initialNavbars","configurable","newRoute","tempDom","navbarsEl","animateIcon","newNavEls","oldNavEls","animatableNavEl","$navbarInner","needsOpacityTransition","$iconEl","isIconLabel","leftOffset","rightOffset","navEls","otherEls","otherNavEl","iconTextEl","offsetLeft","$newPageEl","animateCustom","routerCustomTransitionClass","onCustomTransitionDone","animationEnd","routerTransitionClass","toDifferent","oldIsLarge","newIsLarge","animateNavbars","setProperty","removeModal","removeEl","removeTabContent","tabEl","tabChild","removeElements","removeElementsWithTimeout","removeElementsTimeout","findElement","stringSelector","notStacked","$container","viewMainClass","flattenRoutes","flattenedRoutes","hasTabRoutes","tabs","mergedPathsRoutes","tabRoute","tRoute","detailRoutes","detailRoute","dRoute","masterRoutePath","childRoute","cRoute","generateUrl","findRouteByKey","constructRouteUrl","toUrl","findTabRouteUrl","$tabEl","tabId","foundTabRouteUrl","matchingRoute","pathsToMatch","matched","alias","aliasPath","pathToMatch","keyObj","paramValue","replaceRequestUrlParams","compiledUrl","regExp","removeFromXhrCache","xhrCache","ignoreCache","hasQuery","passRouteQueryToRequest","passRouteParamsToRequest","xhrCacheIgnoreGetParameters","xhrCacheIgnore","cachedUrl","xhrCacheDuration","beforeSend","ariaHidden","toRemove","getPageData","pageFromEl","$pageEl","pageFrom","fromPage","$pageFromEl","page","restoreScrollTopOnBack","camelName","colonName","t4RouteEventsAttached","t4RouteEventsOn","t4RouteEventsOnce","$pageContent","pageContentEl","t4PageInitialized","browserHistoryStoreHistory","localStorage","restoreHistory","clearHistory","updateCurrentUrl","newUrl","getInitialUrl","initialUrl","historyRestored","URL","documentUrl","browserHistoryOnLoad","console","warn","iosSwipeBack","mdSwipeBack","auroraSwipeBack","browserHistoryAnimateOnLoad","browserHistoryInitialMatch","initUrl","loadInitialPage","modalOpen","pageAfterIn","hasTabRoute","initOptions","routerProp","navigateParams","navigateOptions","createRoute","navigateUrl","currentPath","viewName","anotherViewName","anotherView","openIn","ignoreOpenIn","routerLoaded","asyncResolve","resolveParams","resolveOptions","resolvedAsModal","modalRoute","modalLoad","asyncReject","pageLoadProp","preloadMaster","masterLoaded","refreshPage","parentPageEl","browserHistoryTabs","$parentPageEl","tabShowResult","show","$newTabEl","$oldTabEl","animated","onTabsChanged","tabParentPageData","t4RouterTabLoaded","loadTab","loadTabParams","loadTabOptions","contentEl","tabEventTarget","unloadTabContent","tabRemove","onTabLoaded","tabComponentLoader","tabContent","hasContentLoadProp","tabLoadProp","hasTabComponentChild","isPanel","modalOrPanel","modalParams","routeCallback","panelOpen","modalClose","panelClose","modalClosed","panelClosed","onModalLoaded","hasEl","closeOnSwipeBack","closeByRouter","modalComponent","loadModal","loadModalParams","loadModalOptions","modalComponentLoader","modalContent","foundLoadProp","prevOpenedModals","forceOtherUrl","isBrokenBrowserHistory","needHistoryBack","currentRouteWithoutBrowserHistory","skipMaster","$previousPage","$previousMaster","expectedPreviousPageUrl","expectedPreviousPageRoute","previousPageRoute","backForceLoaded","panel","clearPreviousPages","RouterModule","templates","resizableView","resizableInitialized","resizable","resizableWidth","$htmlEl","$resizeHandlerEl","minWidth","maxWidth","transformCSSWidth","v","newV","$pageMasterEl","newWidth","handleResize","View","viewParams","routesAdd","main","t4View","viewProp","wasMasterDetail","isMasterDetail","initMasterDetail","masterDetailResizable","viewEl","initRouterOnTabShow","ClicksModule","clicks","externalLinks","$clickedEl","$clickedLinkEl","isLink","InAppBrowser","Plugins","Browser","moduleClicks","preventt4Router","clickSelector","matchingClickedElement","clickedLinkData","clickedEl","current","linksView","ViewClass","t4RouteProps","initClicks","RouterComponentLoaderModule","popup","loginScreen","popover","side","effect","componentFunction","componentContext","t4route","t4router","componentProps","routeProps","componentRoot","createdComponent","cachedComponent","componentCache","cached","loadedComponent","parsedComponent","_temp2","_temp3","u","p","Map","ignoreChildren","$h","sel","elm","array","primitive","addNS","ns","childData","customComponents","SELF_CLOSING","PROPS_ATTRS","BOOLEAN_PROPS","getTagName","treeNode","propsFromAttrs","word","isCustomComponent","treeNodeType","getHooks","isRoot","hooks","insert","update","postpatch","isFakeElement","tagName","isCustom","__component__","createCustomComponent","destroyCustomComponent","oldVnode","newProps","updateCustomComponent","class","vn","f","getChildren","nodes","childNode","treeNodeToVNode","isTreeNode","getSlots","slotName","slotNodes","childTreeNode","childSlotName","slot","subTreeNode","getData","attrValue","prevent","eventNamePart","eventNameIndex","fired","getEventHandler","prepatch","vdom","tree","htmlDomApi","namespaceURI","qualifiedName","createTextNode","createComment","newNode","referenceNode","node","setTextContent","getTextContent","isElement","isText","isComment","isUndef","isDef","emptyNode","sameVnode","vnode1","vnode2","createKeyToOldIdx","beginIdx","endIdx","ch","updateAttrs","oldAttrs","cur","setAttributeNS","attributesModule","updateProps","oldProps","propsModule","raf","setNextFrame","updateStyle","oldStyle","oldHasDel","removeProperty","delayed","name2","styleModule","rm","amount","applied","ev","updateEvents","oldOn","oldListener","oldElm","invokeHandler","patch","domApi","cbs","api","emptyNodeAt","createRmCb","childElm","listeners","parent_1","createElm","insertedVnodeQueue","hashIdx","dotIdx","dot","addVnodes","parentElm","vnodes","startIdx","invokeDestroyHook","removeVnodes","i_1","patchVnode","oldCh","newCh","oldKeyToIdx","idxInOld","elmToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","updateChildren","pre","isVnode","Component","generateId","md","aurora","__updateQueue","__eventHandlers","__onceEventHandlers","__onBeforeMount","__onMounted","__onBeforeUpdate","__onUpdated","__onBeforeUnmount","__onUnmounted","createComponent","getComponentContext","componentResult","getRenderFuncion","renderFunction","getComponentRef","getComponentStore","_gettersPlain","dispatch","$store","getters","Proxy","onUpdated","includeHooks","ctx","$t4route","$t4router","$id","$t4","$t4ready","t4ready","$theme","$tick","tick","$update","$emit","$ref","$on","$once","$onBeforeMount","$onMounted","$onBeforeUpdate","$onUpdated","$onBeforeUnmount","$onUnmounted","_ref2","detachEvents","_ref3","_ref4","startUpdateQueue","__requestAnimationFrameId","newVNode","__updateIsPending","resolvers","resolver","__destroyed","setState","mountMethod","parseComponent","componentString","componentId","callbackCreateName","template","item","scripts","registerComponent","unregisterComponent","flatChildren","ComponentModule","HistoryModule","SW","registrations","register","scope","serviceWorker","reg","unregister","registration","ServiceWorkerModule","storeParams","originalState","actions","propsQueue","gettersDependencies","gettersCallbacks","getterKey","getGetterValue","addGetterCallback","__removeCallback","stateKey","callbacks","removeGetterCallback","getterValue","addCallback","addGetterDependencies","deps","dep","__callback","actionName","StoreModule","isCapacitor","StatusBar","Statusbar","hide","onClick","setTextColor","color","styleLightContent","styleDefault","setStyle","setBackgroundColor","backgroundColorByHexString","isVisible","getInfo","info","visible","overlaysWebView","overlays","setOverlaysWebView","overlay","statusbar","enabled","isCordova","isCap","scrollTopOnClick","iosOverlaysWebView","iosTextColor","androidOverlaysWebView","androidTextColor","iosBackgroundColor","androidBackgroundColor","Statusbar$1","iosSwipeBackAnimateShadow","iosSwipeBackAnimateOpacity","iosSwipeBackActiveArea","iosSwipeBackThreshold","mdSwipeBackAnimateShadow","mdSwipeBackAnimateOpacity","mdSwipeBackActiveArea","mdSwipeBackThreshold","auroraSwipeBackAnimateShadow","auroraSwipeBackAnimateOpacity","auroraSwipeBackActiveArea","auroraSwipeBackThreshold","iosPageLoadDelay","mdPageLoadDelay","auroraPageLoadDelay","$popoverView","$popupView","$panelView","$viewsEl","getCurrentView","Navbar","size","$innerEl","needCenterTitle","needLeftTitle","iosCenterTitle","right","title","subnavbar","noLeft","noRight","leftWidth","outerWidth","rightWidth","titleWidth","navbarStyles","navbarInnerWidth","paddingLeft","paddingRight","isPrevious","sliding","currLeft","diff","requiredLeft","titleLeftOffset","titleRightOffset","activeNavbarBackLink","titleLeft","hideStatusbar","hideOnlyCurrent","isDynamic","subEl","pageData","getPageByEl","collapseLargeTitle","expandLargeTitle","toggleLargeTitle","initNavbarOnScroll","needHide","needCollapse","needTransparent","$titleLargeEl","isLarge","navbarHideHeight","snapPageScrollToLargeTitle","snapPageScrollToTransparentNavbar","previousScrollTop","currentScrollTop","reachEnd","navbarHidden","navbarCollapsed","navbarTitleLargeHeight","navbarOffsetHeight","scrollChanged","scrollContent","scrollTimeoutId","touchEndTimeoutId","calcScrollableDistance","t4ScrollableDistance","snapLargeNavbar","snapTransparentNavbar","previousCollapseProgress","collapseProgress","handleScroll","isLargeTransparent","scrollableDistance","previousCollapseWasInMiddle","handleLargeNavbarCollapse","isHidden","notTransparent","handleNavbarTransparent","showOnPageScrollEnd","showOnPageScrollTop","handeTouchStart","t4DetachNavbarScrollHandlers","Navbar$1","scrollTopOnTitleClick","mdCenterTitle","auroraCenterTitle","hideOnPageScroll","collapseLargeTitleOnScroll","pageBeforeRemove","pageBeforeIn","pageReinit","pageInit","needCollapseOnScrollHandler","needTransparentOnScroll","needHideOnScrollHandler","tabShow","clickedData","$pageContentEl","Toolbar","setHighlight","tabbarEl","$tabbarEl","$highlightEl","tabLinksCount","$activeLink","highlightWidth","highlightTranslate","activeIndex","toolbar","initToolbarOnScroll","toolbarHidden","$toolbarEl","t4ScrollToolbarHandler","Toolbar$1","tabbar","Subnavbar","subnavbarEl","TouchRipple","ripple","center","diameter","isInset","insetElements","rippleTransform","scale","$rippleWaveEl","shouldBeRemoved","out","removeTimeout","openedModals","dialogsQueue","Modal","opened","$containerEl","containerEl","onOpen","onOpened","onClose","onClosed","backdrop","backdropUnique","forceBackdropUnique","$backdropEl","animateModal","queueDialogs","pushToQueue","openedModal","$modalParentEl","wasInDom","needToHideBackdrop","popupEl","popupInstance","closeByBackdropClick","backdropEl","clearDialogsQueue","destroyed","CustomModal","extendedParams","customModal","handleClick"],"sources":["../../node_modules/ssr-window/ssr-window.esm.js","../../node_modules/dom64/dom64.esm.js","../../src/core/shared/dom64.js","../../src/core/shared/utils.js","../../src/core/shared/get-support.js","../../src/core/shared/get-device.js","../../src/core/shared/events-class.js","../../src/core/shared/class.js","../../src/core/shared/constructor-methods.js","../../src/core/components/app/load-module.js","../../src/core/components/app/app-class.js","../../src/core/shared/$jsx.js","../../src/core/shared/modal-methods.js","../../src/core/modules/device/device.js","../../src/core/modules/support/support.js","../../src/core/modules/utils/utils.js","../../src/core/modules/resize/resize.js","../../src/core/shared/request.js","../../src/core/modules/request/request.js","../../src/core/modules/touch/touch.js","../../node_modules/path-to-regexp/dist.es2015/index.js","../../src/core/shared/history.js","../../src/core/modules/router/swipe-back.js","../../src/core/modules/router/redirect.js","../../src/core/modules/router/process-route-queue.js","../../src/core/modules/router/app-router-check.js","../../src/core/modules/router/async-component.js","../../src/core/modules/router/navigate.js","../../src/core/modules/router/back.js","../../src/core/modules/router/router-class.js","../../src/core/modules/router/tab.js","../../src/core/modules/router/modal.js","../../src/core/modules/router/clear-previous-history.js","../../src/core/modules/router/router.js","../../src/core/components/view/resizable-view.js","../../src/core/components/view/view-class.js","../../src/core/modules/clicks/clicks.js","../../src/core/modules/router/component-loader.js","../../node_modules/htm/dist/htm.mjs","../../src/core/modules/component/$h.js","../../src/core/modules/component/snabbdom/vnode.js","../../src/core/modules/component/snabbdom/is.js","../../src/core/modules/component/snabbdom/h.js","../../src/core/modules/component/custom-components.js","../../src/core/modules/component/vdom.js","../../src/core/modules/component/snabbdom/htmldomapi.js","../../src/core/modules/component/snabbdom/snabbdom.js","../../src/core/modules/component/snabbdom/modules/attributes.js","../../src/core/modules/component/snabbdom/modules/props.js","../../src/core/modules/component/snabbdom/modules/style.js","../../src/core/modules/component/eventslisteners.js","../../src/core/modules/component/patch.js","../../src/core/modules/component/$jsx.js","../../src/core/modules/component/component-class.js","../../src/core/modules/component/parse-component.js","../../src/core/modules/component/component.js","../../src/core/modules/history/history.js","../../src/core/modules/service-worker/service-worker.js","../../src/core/modules/store/create-store.js","../../src/core/modules/store/store.js","../../src/core/components/statusbar/statusbar.js","../../src/core/components/view/view.js","../../src/core/components/navbar/navbar.js","../../src/core/components/toolbar/toolbar.js","../../src/core/components/subnavbar/subnavbar.js","../../src/core/components/touch-ripple/touch-ripple-class.js","../../src/core/components/touch-ripple/touch-ripple.js","../../src/core/components/modal/modal-class.js","../../src/core/components/modal/custom-modal-class.js","../../src/core/components/modal/modal.js","../../src/core/techno4.js"],"sourcesContent":["/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * DOM64 0.1.0\n * DOM64 – Document Object Model manipulation library.\n * https://techno4.online\n *\n * Copyright 2023, TECHNO4\n *\n * Licensed under proprietary\n *\n * Released on: March 24, 2023\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass DOM64 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof DOM64) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new DOM64(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof DOM64) return selector;\n    arr = selector;\n  }\n\n  return new DOM64(arrayUnique(arr));\n}\n\n$.fn = DOM64.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom64ElementDataStorage && key in el.dom64ElementDataStorage) {\n      return el.dom64ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom64ElementDataStorage) el.dom64ElementDataStorage = {};\n    el.dom64ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom64ElementDataStorage && el.dom64ElementDataStorage[key]) {\n      el.dom64ElementDataStorage[key] = null;\n      delete el.dom64ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom64EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom64EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom64Listeners) el.dom64Listeners = {};\n        if (!el.dom64Listeners[event]) el.dom64Listeners[event] = [];\n        el.dom64Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom64LiveListeners) el.dom64LiveListeners = {};\n        if (!el.dom64LiveListeners[event]) el.dom64LiveListeners[event] = [];\n        el.dom64LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom64Listeners) {\n        handlers = el.dom64Listeners[event];\n      } else if (targetSelector && el.dom64LiveListeners) {\n        handlers = el.dom64LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom64proxy && handler.listener.dom64proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom64proxy) {\n      delete onceHandler.dom64proxy;\n    }\n  }\n\n  onceHandler.dom64proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom64EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom64EventData = [];\n        delete el.dom64EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionStart(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionstart', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionstart', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof DOM64) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof DOM64) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof DOM64) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom64AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom64AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom64AnimateInstance) a.elements[index].dom64AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom64AnimateInstance) {\n      animateInstance = a.elements[i].dom64AnimateInstance;\n    } else a.elements[i].dom64AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom64AnimateInstance) {\n      els[i].dom64AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, transitionStart, trigger, val, value, width };\n","// eslint-disable-next-line\nimport * as methods from 'dom64';\n\nObject.keys(methods).forEach((methodName) => {\n  if (methodName === '$') return;\n  methods.$.fn[methodName] = methods[methodName];\n});\n\nexport default methods.$;\n","import { getWindow } from 'ssr-window';\n\nlet uniqueNum = 0;\nexport function uniqueNumber() {\n  uniqueNum += 1;\n  return uniqueNum;\n}\nexport function id(mask = 'xxxxxxxxxx', map = '0123456789abcdef') {\n  const length = map.length;\n  return mask.replace(/x/g, () => map[Math.floor(Math.random() * length)]);\n}\nexport const mdPreloaderContent = `\n  <span class=\"preloader-inner\">\n    <svg viewBox=\"0 0 36 36\">\n      <circle cx=\"18\" cy=\"18\" r=\"16\"></circle>\n    </svg>\n  </span>\n`.trim();\n\nexport const iosPreloaderContent = `\n  <span class=\"preloader-inner\">\n    ${[0, 1, 2, 3, 4, 5, 6, 7].map(() => '<span class=\"preloader-inner-line\"></span>').join('')}\n  </span>\n`.trim();\n\nexport const auroraPreloaderContent = `\n  <span class=\"preloader-inner\">\n    <span class=\"preloader-inner-circle\"></span>\n  </span>\n`;\nexport function eventNameToColonCase(eventName) {\n  let hasColon;\n  return eventName\n    .split('')\n    .map((char, index) => {\n      if (char.match(/[A-Z]/) && index !== 0 && !hasColon) {\n        hasColon = true;\n        return `:${char.toLowerCase()}`;\n      }\n      return char.toLowerCase();\n    })\n    .join('');\n}\nexport function deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach((key) => {\n    try {\n      object[key] = null;\n    } catch (e) {\n      // no setter for object\n    }\n    try {\n      delete object[key];\n    } catch (e) {\n      // something got wrong\n    }\n  });\n}\nexport function requestAnimationFrame(callback) {\n  const window = getWindow();\n  return window.requestAnimationFrame(callback);\n}\nexport function cancelAnimationFrame(frameId) {\n  const window = getWindow();\n  return window.cancelAnimationFrame(frameId);\n}\nexport function nextTick(callback, delay = 0) {\n  return setTimeout(callback, delay);\n}\nexport function nextFrame(callback) {\n  return requestAnimationFrame(() => {\n    requestAnimationFrame(callback);\n  });\n}\nexport function now() {\n  return Date.now();\n}\n\nexport function parseUrlQuery(url) {\n  const window = getWindow();\n  const query = {};\n  let urlToParse = url || window.location.href;\n  let i;\n  let params;\n  let param;\n  let length;\n  if (typeof urlToParse === 'string' && urlToParse.length) {\n    urlToParse = urlToParse.indexOf('?') > -1 ? urlToParse.replace(/\\S*\\?/, '') : '';\n    params = urlToParse.split('&').filter((paramsPart) => paramsPart !== '');\n    length = params.length;\n\n    for (i = 0; i < length; i += 1) {\n      param = params[i].replace(/#\\S+/g, '').split('=');\n      query[decodeURIComponent(param[0])] =\n        typeof param[1] === 'undefined'\n          ? undefined\n          : decodeURIComponent(param.slice(1).join('=')) || '';\n    }\n  }\n  return query;\n}\nexport function getTranslate(el, axis = 'x') {\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n\n  const curStyle = window.getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform\n        .split(', ')\n        .map((a) => a.replace(',', '.'))\n        .join(', ');\n    }\n    // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix =\n      curStyle.MozTransform ||\n      curStyle.OTransform ||\n      curStyle.MsTransform ||\n      curStyle.msTransform ||\n      curStyle.transform ||\n      curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41;\n    // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]);\n    // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42;\n    // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]);\n    // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n  return curTransform || 0;\n}\nexport function serializeObject(obj, parents = []) {\n  if (typeof obj === 'string') return obj;\n  const resultArray = [];\n  const separator = '&';\n  let newParents;\n  function varName(name) {\n    if (parents.length > 0) {\n      let parentParts = '';\n      for (let j = 0; j < parents.length; j += 1) {\n        if (j === 0) parentParts += parents[j];\n        else parentParts += `[${encodeURIComponent(parents[j])}]`;\n      }\n      return `${parentParts}[${encodeURIComponent(name)}]`;\n    }\n    return encodeURIComponent(name);\n  }\n  function varValue(value) {\n    return encodeURIComponent(value);\n  }\n  Object.keys(obj).forEach((prop) => {\n    let toPush;\n    if (Array.isArray(obj[prop])) {\n      toPush = [];\n      for (let i = 0; i < obj[prop].length; i += 1) {\n        if (!Array.isArray(obj[prop][i]) && typeof obj[prop][i] === 'object') {\n          newParents = parents.slice();\n          newParents.push(prop);\n          newParents.push(String(i));\n          toPush.push(serializeObject(obj[prop][i], newParents));\n        } else {\n          toPush.push(`${varName(prop)}[]=${varValue(obj[prop][i])}`);\n        }\n      }\n      if (toPush.length > 0) resultArray.push(toPush.join(separator));\n    } else if (obj[prop] === null || obj[prop] === '') {\n      resultArray.push(`${varName(prop)}=`);\n    } else if (typeof obj[prop] === 'object') {\n      // Object, convert to named array\n      newParents = parents.slice();\n      newParents.push(prop);\n      toPush = serializeObject(obj[prop], newParents);\n      if (toPush !== '') resultArray.push(toPush);\n    } else if (typeof obj[prop] !== 'undefined' && obj[prop] !== '') {\n      // Should be string or plain value\n      resultArray.push(`${varName(prop)}=${varValue(obj[prop])}`);\n    } else if (obj[prop] === '') resultArray.push(varName(prop));\n  });\n  return resultArray.join(separator);\n}\nexport function isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && o.constructor === Object;\n}\nexport function merge(...args) {\n  const to = args[0];\n  args.splice(0, 1);\n  const from = args;\n\n  for (let i = 0; i < from.length; i += 1) {\n    const nextSource = args[i];\n    if (nextSource !== undefined && nextSource !== null) {\n      const keysArray = Object.keys(Object(nextSource));\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n        if (desc !== undefined && desc.enumerable) {\n          to[nextKey] = nextSource[nextKey];\n        }\n      }\n    }\n  }\n  return to;\n}\nexport function extend(...args) {\n  let deep = true;\n  let to;\n  let from;\n  if (typeof args[0] === 'boolean') {\n    deep = args[0];\n    to = args[1];\n    args.splice(0, 2);\n    from = args;\n  } else {\n    to = args[0];\n    args.splice(0, 1);\n    from = args;\n  }\n  for (let i = 0; i < from.length; i += 1) {\n    const nextSource = args[i];\n    if (nextSource !== undefined && nextSource !== null) {\n      const keysArray = Object.keys(Object(nextSource));\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n        if (desc !== undefined && desc.enumerable) {\n          if (!deep) {\n            to[nextKey] = nextSource[nextKey];\n          } else if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            extend(to[nextKey], nextSource[nextKey]);\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n            extend(to[nextKey], nextSource[nextKey]);\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n  return to;\n}\nexport function colorHexToRgb(hex) {\n  const h = hex.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, (m, r, g, b) => r + r + g + g + b + b);\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(h);\n  return result ? result.slice(1).map((n) => parseInt(n, 16)) : null;\n}\nexport function colorRgbToHex(r, g, b) {\n  const result = [r, g, b]\n    .map((n) => {\n      const hex = n.toString(16);\n      return hex.length === 1 ? `0${hex}` : hex;\n    })\n    .join('');\n  return `#${result}`;\n}\nexport function colorRgbToHsl(r, g, b) {\n  r /= 255; // eslint-disable-line\n  g /= 255; // eslint-disable-line\n  b /= 255; // eslint-disable-line\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const d = max - min;\n  let h;\n  if (d === 0) h = 0;\n  else if (max === r) h = ((g - b) / d) % 6;\n  else if (max === g) h = (b - r) / d + 2;\n  else if (max === b) h = (r - g) / d + 4;\n  const l = (min + max) / 2;\n  const s = d === 0 ? 0 : d / (1 - Math.abs(2 * l - 1));\n  if (h < 0) h = 360 / 60 + h;\n  return [h * 60, s, l];\n}\nexport function colorHslToRgb(h, s, l) {\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const hp = h / 60;\n  const x = c * (1 - Math.abs((hp % 2) - 1));\n  let rgb1;\n  if (Number.isNaN(h) || typeof h === 'undefined') {\n    rgb1 = [0, 0, 0];\n  } else if (hp <= 1) rgb1 = [c, x, 0];\n  else if (hp <= 2) rgb1 = [x, c, 0];\n  else if (hp <= 3) rgb1 = [0, c, x];\n  else if (hp <= 4) rgb1 = [0, x, c];\n  else if (hp <= 5) rgb1 = [x, 0, c];\n  else if (hp <= 6) rgb1 = [c, 0, x];\n  const m = l - c / 2;\n  return rgb1.map((n) => Math.max(0, Math.min(255, Math.round(255 * (n + m)))));\n}\nexport function colorHsbToHsl(h, s, b) {\n  const HSL = {\n    h,\n    s: 0,\n    l: 0,\n  };\n  const HSB = { h, s, b };\n\n  HSL.l = ((2 - HSB.s) * HSB.b) / 2;\n  HSL.s = HSL.l && HSL.l < 1 ? (HSB.s * HSB.b) / (HSL.l < 0.5 ? HSL.l * 2 : 2 - HSL.l * 2) : HSL.s;\n\n  return [HSL.h, HSL.s, HSL.l];\n}\nexport function colorHslToHsb(h, s, l) {\n  const HSB = {\n    h,\n    s: 0,\n    b: 0,\n  };\n  const HSL = { h, s, l };\n\n  const t = HSL.s * (HSL.l < 0.5 ? HSL.l : 1 - HSL.l);\n  HSB.b = HSL.l + t;\n  HSB.s = HSL.l > 0 ? (2 * t) / HSB.b : HSB.s;\n\n  return [HSB.h, HSB.s, HSB.b];\n}\nexport function colorThemeCSSProperties(...args) {\n  let hex;\n  let rgb;\n  if (args.length === 1) {\n    hex = args[0];\n    rgb = colorHexToRgb(hex);\n  } else if (args.length === 3) {\n    rgb = args;\n    hex = colorRgbToHex(...rgb);\n  }\n  if (!rgb) return {};\n  const hsl = colorRgbToHsl(...rgb);\n  const hslShade = [hsl[0], hsl[1], Math.max(0, hsl[2] - 0.08)];\n  const hslTint = [hsl[0], hsl[1], Math.max(0, hsl[2] + 0.08)];\n  const shade = colorRgbToHex(...colorHslToRgb(...hslShade));\n  const tint = colorRgbToHex(...colorHslToRgb(...hslTint));\n  return {\n    '--t4-theme-color': hex,\n    '--t4-theme-color-rgb': rgb.join(', '),\n    '--t4-theme-color-shade': shade,\n    '--t4-theme-color-tint': tint,\n  };\n}\n\nexport function bindMethods(instance, obj) {\n  Object.keys(obj).forEach((key) => {\n    if (isObject(obj[key])) {\n      Object.keys(obj[key]).forEach((subKey) => {\n        if (typeof obj[key][subKey] === 'function') {\n          obj[key][subKey] = obj[key][subKey].bind(instance);\n        }\n      });\n    }\n    instance[key] = obj[key];\n  });\n}\n\nexport function flattenArray(...args) {\n  const arr = [];\n  args.forEach((arg) => {\n    if (Array.isArray(arg)) arr.push(...flattenArray(...arg));\n    else arr.push(arg);\n  });\n  return arr;\n}\n","import { getWindow, getDocument } from 'ssr-window';\n\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n\n  return {\n    touch: !!(\n      'ontouchstart' in window ||\n      (window.DocumentTouch && document instanceof window.DocumentTouch)\n    ),\n\n    pointerEvents:\n      !!window.PointerEvent &&\n      'maxTouchPoints' in window.navigator &&\n      window.navigator.maxTouchPoints >= 0,\n\n    passiveListener: (function checkPassiveListener() {\n      let supportsPassive = false;\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          },\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {\n        // No support\n      }\n      return supportsPassive;\n    })(),\n\n    intersectionObserver: (function checkObserver() {\n      return 'IntersectionObserver' in window;\n    })(),\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n  return support;\n}\n\nexport { getSupport };\n","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\n\nlet deviceCalculated;\n\nfunction calcDevice({ userAgent } = {}) {\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n\n  const device = {\n    ios: false,\n    android: false,\n    androidChrome: false,\n    desktop: false,\n    iphone: false,\n    ipod: false,\n    ipad: false,\n    edge: false,\n    ie: false,\n    firefox: false,\n    macos: false,\n    windows: false,\n    cordova: !!window.cordova,\n    electron: false,\n    capacitor: !!window.Capacitor,\n    nwjs: false,\n  };\n\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS|iPhone;\\sCPU\\sOS)\\s([\\d_]+)/);\n  const ie = ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;\n  const edge = ua.indexOf('Edge/') >= 0;\n  const firefox = ua.indexOf('Gecko/') >= 0 && ua.indexOf('Firefox/') >= 0;\n  const windows = platform === 'Win32';\n  const electron = ua.toLowerCase().indexOf('electron') >= 0;\n  const nwjs =\n    typeof nw !== 'undefined' &&\n    typeof process !== 'undefined' &&\n    typeof process.versions !== 'undefined' &&\n    typeof process.versions.nw !== 'undefined';\n  let macos = platform === 'MacIntel';\n\n  // iPadOs 13 fix\n  const iPadScreens = [\n    '1024x1366',\n    '1366x1024',\n    '834x1194',\n    '1194x834',\n    '834x1112',\n    '1112x834',\n    '768x1024',\n    '1024x768',\n    '820x1180',\n    '1180x820',\n    '810x1080',\n    '1080x810',\n  ];\n  if (\n    !ipad &&\n    macos &&\n    support.touch &&\n    iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0\n  ) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  }\n\n  device.ie = ie;\n  device.edge = edge;\n  device.firefox = firefox;\n\n  // Android\n  if (android) {\n    device.os = 'android';\n    device.osVersion = android[2];\n    device.android = true;\n    device.androidChrome = ua.toLowerCase().indexOf('chrome') >= 0;\n  }\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  }\n  // iOS\n  if (iphone && !ipod) {\n    device.osVersion = iphone[2].replace(/_/g, '.');\n    device.iphone = true;\n  }\n  if (ipad) {\n    device.osVersion = ipad[2].replace(/_/g, '.');\n    device.ipad = true;\n  }\n  if (ipod) {\n    device.osVersion = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n    device.ipod = true;\n  }\n  // iOS 8+ changed UA\n  if (device.ios && device.osVersion && ua.indexOf('Version/') >= 0) {\n    if (device.osVersion.split('.')[0] === '10') {\n      device.osVersion = ua.toLowerCase().split('version/')[1].split(' ')[0];\n    }\n  }\n\n  // Webview\n  device.webView =\n    !!(\n      (iphone || ipad || ipod) &&\n      (ua.match(/.*AppleWebKit(?!.*Safari)/i) || window.navigator.standalone)\n    ) ||\n    (window.matchMedia && window.matchMedia('(display-mode: standalone)').matches);\n  device.webview = device.webView;\n  device.standalone = device.webView;\n\n  // Desktop\n  device.desktop = !(device.ios || device.android) || electron || nwjs;\n  if (device.desktop) {\n    device.electron = electron;\n    device.nwjs = nwjs;\n    device.macos = macos;\n    device.windows = windows;\n    if (device.macos) {\n      device.os = 'macos';\n    }\n    if (device.windows) {\n      device.os = 'windows';\n    }\n  }\n\n  // Pixel Ratio\n  device.pixelRatio = window.devicePixelRatio || 1;\n\n  // Color Scheme\n  const DARK = '(prefers-color-scheme: dark)';\n  const LIGHT = '(prefers-color-scheme: light)';\n  device.prefersColorScheme = function prefersColorTheme() {\n    let theme;\n    if (window.matchMedia && window.matchMedia(LIGHT).matches) {\n      theme = 'light';\n    }\n    if (window.matchMedia && window.matchMedia(DARK).matches) {\n      theme = 'dark';\n    }\n    return theme;\n  };\n\n  // Export object\n  return device;\n}\n\nfunction getDevice(overrides = {}, reset) {\n  if (!deviceCalculated || reset) {\n    deviceCalculated = calcDevice(overrides);\n  }\n  return deviceCalculated;\n}\n\nexport { getDevice };\n","class EventsClass {\n  constructor(parents = []) {\n    const self = this;\n    self.eventsParents = parents;\n    self.eventsListeners = {};\n  }\n\n  on(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach((event) => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  }\n\n  once(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    function onceHandler(...args) {\n      self.off(events, onceHandler);\n      if (onceHandler.t4proxy) {\n        delete onceHandler.t4proxy;\n      }\n      handler.apply(self, args);\n    }\n    onceHandler.t4proxy = handler;\n    return self.on(events, onceHandler, priority);\n  }\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach((event) => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (\n            eventHandler === handler ||\n            (eventHandler.t4proxy && eventHandler.t4proxy === handler)\n          ) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  }\n\n  emit(...args) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n    let eventsParents;\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n      eventsParents = self.eventsParents;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n      eventsParents = args[0].local ? [] : args[0].parents || self.eventsParents;\n    }\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    const localEvents = eventsArray.map((eventName) => eventName.replace('local::', ''));\n    const parentEvents = eventsArray.filter((eventName) => eventName.indexOf('local::') < 0);\n\n    localEvents.forEach((event) => {\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        const handlers = [];\n        self.eventsListeners[event].forEach((eventHandler) => {\n          handlers.push(eventHandler);\n        });\n        handlers.forEach((eventHandler) => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    if (eventsParents && eventsParents.length > 0) {\n      eventsParents.forEach((eventsParent) => {\n        eventsParent.emit(parentEvents, ...data);\n      });\n    }\n    return self;\n  }\n}\n\nexport default EventsClass;\n","import { extend, now } from './utils.js';\nimport EventsClass from './events-class.js';\n\nclass techno4Class extends EventsClass {\n  constructor(params = {}, parents = []) {\n    super(parents);\n    const self = this;\n    self.params = params;\n\n    if (self.params && self.params.on) {\n      Object.keys(self.params.on).forEach((eventName) => {\n        self.on(eventName, self.params.on[eventName]);\n      });\n    }\n  }\n\n  // eslint-disable-next-line\n  useModuleParams(module, instanceParams) {\n    if (module.params) {\n      const originalParams = {};\n      Object.keys(module.params).forEach((paramKey) => {\n        if (typeof instanceParams[paramKey] === 'undefined') return;\n        originalParams[paramKey] = extend({}, instanceParams[paramKey]);\n      });\n      extend(instanceParams, module.params);\n      Object.keys(originalParams).forEach((paramKey) => {\n        extend(instanceParams[paramKey], originalParams[paramKey]);\n      });\n    }\n  }\n\n  useModulesParams(instanceParams) {\n    const instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach((moduleName) => {\n      const module = instance.modules[moduleName];\n      // Extend params\n      if (module.params) {\n        extend(instanceParams, module.params);\n      }\n    });\n  }\n\n  useModule(moduleName = '', moduleParams = {}) {\n    const instance = this;\n    if (!instance.modules) return;\n    const module = typeof moduleName === 'string' ? instance.modules[moduleName] : moduleName;\n    if (!module) return;\n\n    // Extend instance methods and props\n    if (module.instance) {\n      Object.keys(module.instance).forEach((modulePropName) => {\n        const moduleProp = module.instance[modulePropName];\n        if (typeof moduleProp === 'function') {\n          instance[modulePropName] = moduleProp.bind(instance);\n        } else {\n          instance[modulePropName] = moduleProp;\n        }\n      });\n    }\n    // Add event listeners\n    if (module.on && instance.on) {\n      Object.keys(module.on).forEach((moduleEventName) => {\n        instance.on(moduleEventName, module.on[moduleEventName]);\n      });\n    }\n    // Add vnode hooks\n    if (module.vnode) {\n      if (!instance.vnodeHooks) instance.vnodeHooks = {};\n      Object.keys(module.vnode).forEach((vnodeId) => {\n        Object.keys(module.vnode[vnodeId]).forEach((hookName) => {\n          const handler = module.vnode[vnodeId][hookName];\n          if (!instance.vnodeHooks[hookName]) instance.vnodeHooks[hookName] = {};\n          if (!instance.vnodeHooks[hookName][vnodeId]) instance.vnodeHooks[hookName][vnodeId] = [];\n          instance.vnodeHooks[hookName][vnodeId].push(handler.bind(instance));\n        });\n      });\n    }\n    // Module create callback\n    if (module.create) {\n      module.create.bind(instance)(moduleParams);\n    }\n  }\n\n  useModules(modulesParams = {}) {\n    const instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach((moduleName) => {\n      const moduleParams = modulesParams[moduleName] || {};\n      instance.useModule(moduleName, moduleParams);\n    });\n  }\n\n  static set components(components) {\n    const Class = this;\n    if (!Class.use) return;\n    Class.use(components);\n  }\n\n  static installModule(module, ...params) {\n    const Class = this;\n    if (!Class.prototype.modules) Class.prototype.modules = {};\n    const name = module.name || `${Object.keys(Class.prototype.modules).length}_${now()}`;\n    Class.prototype.modules[name] = module;\n    // Prototype\n    if (module.proto) {\n      Object.keys(module.proto).forEach((key) => {\n        Class.prototype[key] = module.proto[key];\n      });\n    }\n    // Class\n    if (module.static) {\n      Object.keys(module.static).forEach((key) => {\n        Class[key] = module.static[key];\n      });\n    }\n    // Callback\n    if (module.install) {\n      module.install.apply(Class, params);\n    }\n    return Class;\n  }\n\n  static use(module, ...params) {\n    const Class = this;\n    if (Array.isArray(module)) {\n      module.forEach((m) => Class.installModule(m));\n      return Class;\n    }\n    return Class.installModule(module, ...params);\n  }\n}\n\nexport default techno4Class;\n","import $ from './dom64.js';\n\nexport default function ConstructorMethods(parameters = {}) {\n  const { defaultSelector, constructor: Constructor, domProp, app, addMethods } = parameters;\n  const methods = {\n    create(...args) {\n      if (app) return new Constructor(app, ...args);\n      return new Constructor(...args);\n    },\n    get(el = defaultSelector) {\n      if (el instanceof Constructor) return el;\n      const $el = $(el);\n      if ($el.length === 0) return undefined;\n      return $el[0][domProp];\n    },\n    destroy(el) {\n      const instance = methods.get(el);\n      if (instance && instance.destroy) return instance.destroy();\n      return undefined;\n    },\n  };\n  if (addMethods && Array.isArray(addMethods)) {\n    addMethods.forEach((methodName) => {\n      methods[methodName] = (el = defaultSelector, ...args) => {\n        const instance = methods.get(el);\n        if (instance && instance[methodName]) return instance[methodName](...args);\n        return undefined;\n      };\n    });\n  }\n  return methods;\n}\n","import { getWindow, getDocument } from 'ssr-window';\nimport { id } from '../../shared/utils.js';\nimport $ from '../../shared/dom64.js';\n\nconst fetchedModules = [];\nfunction loadModule(moduleToLoad) {\n  const techno4 = this;\n  const window = getWindow();\n  const document = getDocument();\n  return new Promise((resolve, reject) => {\n    const app = techno4.instance;\n    let modulePath;\n    let moduleObj;\n    let moduleFunc;\n    if (!moduleToLoad) {\n      reject(new Error('techno4: Lazy module must be specified'));\n      return;\n    }\n\n    function install(module) {\n      techno4.use(module);\n\n      if (app) {\n        app.useModuleParams(module, app.params);\n        app.useModule(module);\n      }\n    }\n\n    if (typeof moduleToLoad === 'string') {\n      const matchNamePattern = moduleToLoad.match(/([a-z0-9-]*)/i);\n      if (\n        moduleToLoad.indexOf('.') < 0 &&\n        matchNamePattern &&\n        matchNamePattern[0].length === moduleToLoad.length\n      ) {\n        if (!app || (app && !app.params.lazyModulesPath)) {\n          reject(\n            new Error(\n              'techno4: \"lazyModulesPath\" app parameter must be specified to fetch module by name',\n            ),\n          );\n          return;\n        }\n        modulePath = `${app.params.lazyModulesPath}/${moduleToLoad}/${moduleToLoad}.lazy.js`;\n      } else {\n        modulePath = moduleToLoad;\n      }\n    } else if (typeof moduleToLoad === 'function') {\n      moduleFunc = moduleToLoad;\n    } else {\n      // considering t4-Plugin object\n      moduleObj = moduleToLoad;\n    }\n\n    if (moduleFunc) {\n      const module = moduleFunc(techno4, false);\n      if (!module) {\n        reject(\n          new Error(\"techno4: Can't find techno4 component in specified component function\"),\n        );\n        return;\n      }\n      // Check if it was added\n      if (techno4.prototype.modules && techno4.prototype.modules[module.name]) {\n        resolve();\n        return;\n      }\n      // Install It\n      install(module);\n\n      resolve();\n    }\n    if (moduleObj) {\n      const module = moduleObj;\n      if (!module) {\n        reject(new Error(\"techno4: Can't find techno4 component in specified component\"));\n        return;\n      }\n      // Check if it was added\n      if (techno4.prototype.modules && techno4.prototype.modules[module.name]) {\n        resolve();\n        return;\n      }\n      // Install It\n      install(module);\n\n      resolve();\n    }\n    if (modulePath) {\n      if (fetchedModules.indexOf(modulePath) >= 0) {\n        resolve();\n        return;\n      }\n      fetchedModules.push(modulePath);\n      const scriptLoad = new Promise((resolveScript, rejectScript) => {\n        techno4.request.get(\n          modulePath,\n          (scriptContent) => {\n            const callbackId = id();\n            const callbackLoadName = `t4_component_loader_callback_${callbackId}`;\n\n            const scriptEl = document.createElement('script');\n            scriptEl.innerHTML = `window.${callbackLoadName} = function (techno4, techno4AutoInstallComponent) {return ${scriptContent.trim()}}`;\n            $('head').append(scriptEl);\n\n            const componentLoader = window[callbackLoadName];\n            delete window[callbackLoadName];\n            $(scriptEl).remove();\n\n            const module = componentLoader(techno4, false);\n\n            if (!module) {\n              rejectScript(\n                new Error(`techno4: Can't find techno4 component in ${modulePath} file`),\n              );\n              return;\n            }\n\n            // Check if it was added\n            if (techno4.prototype.modules && techno4.prototype.modules[module.name]) {\n              resolveScript();\n              return;\n            }\n\n            // Install It\n            install(module);\n\n            resolveScript();\n          },\n          (xhr, status) => {\n            rejectScript(xhr, status);\n          },\n        );\n      });\n      const styleLoad = new Promise((resolveStyle) => {\n        techno4.request.get(\n          modulePath\n            .replace('.lazy.js', app.rtl ? '.rtl.css' : '.css')\n            .replace('.js', app.rtl ? '.rtl.css' : '.css'),\n          (styleContent) => {\n            const styleEl = document.createElement('style');\n            styleEl.innerHTML = styleContent;\n            $('head').append(styleEl);\n\n            resolveStyle();\n          },\n          () => {\n            resolveStyle();\n          },\n        );\n      });\n\n      Promise.all([scriptLoad, styleLoad])\n        .then(() => {\n          resolve();\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    }\n  });\n}\n\nexport default loadModule;\n","/* eslint-disable no-underscore-dangle */\n\nimport { getWindow, getDocument } from 'ssr-window';\nimport { extend, nextFrame } from '../../shared/utils.js';\nimport { getDevice } from '../../shared/get-device.js';\nimport { getSupport } from '../../shared/get-support.js';\nimport techno4Class from '../../shared/class.js';\nimport EventsClass from '../../shared/events-class.js';\nimport ConstructorMethods from '../../shared/constructor-methods.js';\nimport ModalMethods from '../../shared/modal-methods.js';\nimport $ from '../../shared/dom64.js';\nimport loadModule from './load-module.js';\nimport $jsx from '../../shared/$jsx.js';\n\nclass techno4 extends techno4Class {\n  constructor(params = {}) {\n    super(params);\n    // eslint-disable-next-line\n    if (techno4.instance && typeof window !== 'undefined') {\n      throw new Error(\"techno4 is already initialized and can't be initialized more than once\");\n    }\n    const device = getDevice({ userAgent: params.userAgent || undefined });\n    const support = getSupport();\n\n    const passedParams = extend({}, params);\n\n    // App Instance\n    const app = this;\n\n    app.device = device;\n    app.support = support;\n\n    const w = getWindow();\n    const d = getDocument();\n\n    techno4.instance = app;\n\n    // Default\n    const defaults = {\n      version: '1.0.0',\n      id: 'io.techno4.myapp',\n      el: 'body',\n      theme: 'auto',\n      language: w.navigator.language,\n      routes: [],\n      name: 'techno4',\n      lazyModulesPath: null,\n      initOnDeviceReady: true,\n      init: true,\n      autoDarkMode: false,\n      iosTranslucentBars: true,\n      iosTranslucentModals: true,\n      component: undefined,\n      componentUrl: undefined,\n      userAgent: null,\n      url: null,\n    };\n\n    // Extend defaults with modules params\n    app.useModulesParams(defaults);\n\n    // Extend defaults with passed params\n    app.params = extend(defaults, params);\n\n    extend(app, {\n      // App Id\n      id: app.params.id,\n      // App Name\n      name: app.params.name,\n      // App version\n      version: app.params.version,\n      // Routes\n      routes: app.params.routes,\n      // Lang\n      language: app.params.language,\n\n      // Theme\n      theme: (function getTheme() {\n        if (app.params.theme === 'auto') {\n          if (device.ios) return 'ios';\n          if (device.desktop && device.electron) return 'aurora';\n          return 'md';\n        }\n        return app.params.theme;\n      })(),\n\n      // Initially passed parameters\n      passedParams,\n      online: w.navigator.onLine,\n    });\n\n    if (params.store) app.params.store = params.store;\n\n    // Save Root\n    if (app.$el && app.$el[0]) {\n      app.$el[0].t4 = app;\n    }\n\n    // Install Modules\n    app.useModules();\n\n    // Init Store\n    app.initStore();\n\n    // Init\n    if (app.params.init) {\n      if (device.cordova && app.params.initOnDeviceReady) {\n        $(d).on('deviceready', () => {\n          app.init();\n        });\n      } else {\n        app.init();\n      }\n    }\n\n    // Return app instance\n    return app;\n  }\n\n  mount(rootEl) {\n    const app = this;\n    const window = getWindow();\n    const document = getDocument();\n    const $rootEl = $(rootEl || app.params.el).eq(0);\n    app.$el = $rootEl;\n    if (app.$el && app.$el[0]) {\n      app.el = app.$el[0];\n      app.el.t4 = app;\n      app.rtl = $rootEl.css('direction') === 'rtl';\n    }\n\n    // Auto Dark Mode\n    const DARK = '(prefers-color-scheme: dark)';\n    const LIGHT = '(prefers-color-scheme: light)';\n    app.mq = {};\n    if (window.matchMedia) {\n      app.mq.dark = window.matchMedia(DARK);\n      app.mq.light = window.matchMedia(LIGHT);\n    }\n    app.colorSchemeListener = function colorSchemeListener({ matches, media }) {\n      if (!matches) {\n        return;\n      }\n      const html = document.querySelector('html');\n      if (media === DARK) {\n        html.classList.add('dark');\n        app.darkMode = true;\n        app.emit('darkModeChange', true);\n      } else if (media === LIGHT) {\n        html.classList.remove('dark');\n        app.darkMode = false;\n        app.emit('darkModeChange', false);\n      }\n    };\n    app.emit('mount');\n  }\n\n  initStore() {\n    const app = this;\n    if (typeof app.params.store !== 'undefined' && app.params.store.__store) {\n      app.store = app.params.store;\n    } else {\n      app.store = app.createStore(app.params.store);\n    }\n  }\n\n  enableAutoDarkMode() {\n    const window = getWindow();\n    const document = getDocument();\n    if (!window.matchMedia) return;\n    const app = this;\n    const html = document.querySelector('html');\n    if (app.mq.dark && app.mq.light) {\n      app.mq.dark.addListener(app.colorSchemeListener);\n      app.mq.light.addListener(app.colorSchemeListener);\n    }\n    if (app.mq.dark && app.mq.dark.matches) {\n      html.classList.add('dark');\n      app.darkMode = true;\n      app.emit('darkModeChange', true);\n    } else if (app.mq.light && app.mq.light.matches) {\n      html.classList.remove('dark');\n      app.darkMode = false;\n      app.emit('darkModeChange', false);\n    }\n  }\n\n  disableAutoDarkMode() {\n    const window = getWindow();\n    if (!window.matchMedia) return;\n    const app = this;\n    if (app.mq.dark) app.mq.dark.removeListener(app.colorSchemeListener);\n    if (app.mq.light) app.mq.light.removeListener(app.colorSchemeListener);\n  }\n\n  initAppComponent(callback) {\n    const app = this;\n    app.router.componentLoader(\n      app.params.component,\n      app.params.componentUrl,\n      { componentOptions: { el: app.$el[0] } },\n      (el) => {\n        app.$el = $(el);\n        app.$el[0].t4 = app;\n        app.$elComponent = el.t4Component;\n        app.el = app.$el[0];\n        if (callback) callback();\n      },\n      () => {},\n    );\n  }\n\n  init(rootEl) {\n    const app = this;\n\n    app.mount(rootEl);\n\n    const init = () => {\n      if (app.initialized) return;\n\n      app.$el.addClass('techno4-initializing');\n\n      // RTL attr\n      if (app.rtl) {\n        $('html').attr('dir', 'rtl');\n      }\n\n      // Auto Dark Mode\n      if (app.params.autoDarkMode) {\n        app.enableAutoDarkMode();\n      }\n\n      // Watch for online/offline state\n      const window = getWindow();\n      window.addEventListener('offline', () => {\n        app.online = false;\n        app.emit('offline');\n        app.emit('connection', false);\n      });\n      window.addEventListener('online', () => {\n        app.online = true;\n        app.emit('online');\n        app.emit('connection', true);\n      });\n\n      // Root class\n      app.$el.addClass('techno4-root');\n\n      // Theme class\n      $('html').removeClass('ios md aurora').addClass(app.theme);\n\n      // iOS Translucent\n      const device = app.device;\n      if (app.params.iosTranslucentBars && app.theme === 'ios' && device.ios) {\n        $('html').addClass('ios-translucent-bars');\n      }\n      if (app.params.iosTranslucentModals && app.theme === 'ios' && device.ios) {\n        $('html').addClass('ios-translucent-modals');\n      }\n\n      // Init class\n      nextFrame(() => {\n        app.$el.removeClass('techno4-initializing');\n      });\n      // Emit, init other modules\n      app.initialized = true;\n      app.emit('init');\n    };\n    if (app.params.component || app.params.componentUrl) {\n      app.initAppComponent(() => {\n        init();\n      });\n    } else {\n      init();\n    }\n    return app;\n  }\n\n  // eslint-disable-next-line\n  loadModule(...args) {\n    return techno4.loadModule(...args);\n  }\n\n  // eslint-disable-next-line\n  loadModules(...args) {\n    return techno4.loadModules(...args);\n  }\n\n  getVnodeHooks(hook, id) {\n    const app = this;\n    if (!app.vnodeHooks || !app.vnodeHooks[hook]) return [];\n    return app.vnodeHooks[hook][id] || [];\n  }\n\n  // eslint-disable-next-line\n  get $() {\n    return $;\n  }\n\n  static get Dom64() {\n    return $;\n  }\n\n  static get $() {\n    return $;\n  }\n\n  static get device() {\n    return getDevice();\n  }\n\n  static get support() {\n    return getSupport();\n  }\n\n  static get Class() {\n    return techno4Class;\n  }\n\n  static get Events() {\n    return EventsClass;\n  }\n}\n\ntechno4.$jsx = $jsx;\ntechno4.ModalMethods = ModalMethods;\ntechno4.ConstructorMethods = ConstructorMethods;\n\ntechno4.loadModule = loadModule;\ntechno4.loadModules = function loadModules(modules) {\n  return Promise.all(modules.map((module) => techno4.loadModule(module)));\n};\n\nexport default techno4;\n","/* eslint-disable prefer-rest-params */\nconst $jsx = (tag, props, ...args) => {\n  const attrs = props || {};\n  const children = args || [];\n\n  const attrsString = Object.keys(attrs)\n    .map((attr) => {\n      if (attr[0] === '_') {\n        if (attrs[attr]) return attr.replace('_', '');\n        return '';\n      }\n      return `${attr}=\"${attrs[attr]}\"`;\n    })\n    .filter((attr) => !!attr)\n    .join(' ');\n\n  if (['path', 'img', 'circle', 'polygon', 'line', 'input'].indexOf(tag) >= 0) {\n    return `<${tag} ${attrsString} />`.trim();\n  }\n  const childrenContent = children\n    .filter((c) => !!c)\n    .map((c) => (Array.isArray(c) ? c.join('') : c))\n    .join('');\n  return `<${tag} ${attrsString}>${childrenContent}</${tag}>`.trim();\n};\n\nexport default $jsx;\n","import $ from './dom64.js';\nimport { extend } from './utils.js';\nimport ConstructorMethods from './constructor-methods.js';\n\nexport default function ModalMethods(parameters = {}) {\n  const { defaultSelector, constructor: Constructor, app } = parameters;\n  const methods = extend(\n    ConstructorMethods({\n      defaultSelector,\n      constructor: Constructor,\n      app,\n      domProp: 't4Modal',\n    }),\n    {\n      open(el, animate, targetEl) {\n        let $el = $(el);\n        if ($el.length > 1 && targetEl) {\n          // check if same modal in other page\n          const $targetPage = $(targetEl).parents('.page');\n          if ($targetPage.length) {\n            $el.each((modalEl) => {\n              const $modalEl = $(modalEl);\n              if ($modalEl.parents($targetPage)[0] === $targetPage[0]) {\n                $el = $modalEl;\n              }\n            });\n          }\n        }\n        if ($el.length > 1) {\n          $el = $el.eq($el.length - 1);\n        }\n        if (!$el.length) return undefined;\n        let instance = $el[0].t4Modal;\n        if (!instance) {\n          const params = $el.dataset();\n          instance = new Constructor(app, { el: $el, ...params });\n        }\n        return instance.open(animate);\n      },\n      close(el = defaultSelector, animate, targetEl) {\n        let $el = $(el);\n        if (!$el.length) return undefined;\n        if ($el.length > 1) {\n          // check if close link (targetEl) in this modal\n          let $parentEl;\n          if (targetEl) {\n            const $targetEl = $(targetEl);\n            if ($targetEl.length) {\n              $parentEl = $targetEl.parents($el);\n            }\n          }\n          if ($parentEl && $parentEl.length > 0) {\n            $el = $parentEl;\n          } else {\n            $el = $el.eq($el.length - 1);\n          }\n        }\n        let instance = $el[0].t4Modal;\n        if (!instance) {\n          const params = $el.dataset();\n          instance = new Constructor(app, { el: $el, ...params });\n        }\n        return instance.close(animate);\n      },\n    },\n  );\n  return methods;\n}\n","import { getDocument } from 'ssr-window';\nimport { getDevice } from '../../shared/get-device.js';\n\nexport default {\n  name: 'device',\n  static: {\n    getDevice,\n  },\n  on: {\n    init() {\n      const document = getDocument();\n      const device = getDevice();\n      const classNames = [];\n      const html = document.querySelector('html');\n      const metaStatusbar = document.querySelector(\n        'meta[name=\"apple-mobile-web-app-status-bar-style\"]',\n      );\n      if (!html) return;\n      if (\n        device.standalone &&\n        device.ios &&\n        metaStatusbar &&\n        metaStatusbar.content === 'black-translucent'\n      ) {\n        classNames.push('device-full-viewport');\n      }\n\n      // Pixel Ratio\n      classNames.push(`device-pixel-ratio-${Math.floor(device.pixelRatio)}`);\n      // OS classes\n      if (device.os && !device.desktop) {\n        classNames.push(`device-${device.os}`);\n      } else if (device.desktop) {\n        classNames.push('device-desktop');\n        if (device.os) {\n          classNames.push(`device-${device.os}`);\n        }\n      }\n      if (device.cordova) {\n        classNames.push('device-cordova');\n      }\n      if (device.capacitor) {\n        classNames.push('device-capacitor');\n      }\n\n      // Add html classes\n      classNames.forEach((className) => {\n        html.classList.add(className);\n      });\n    },\n  },\n};\n","import { getSupport } from '../../shared/get-support.js';\n\nexport default {\n  name: 'support',\n  static: {\n    getSupport,\n  },\n};\n","import * as utils from '../../shared/utils.js';\n\nexport default {\n  name: 'utils',\n  proto: {\n    utils,\n  },\n  static: {\n    utils,\n  },\n};\n","import { getWindow, getDocument } from 'ssr-window';\nimport { getDevice } from '../../shared/get-device.js';\n\nexport default {\n  name: 'resize',\n  create() {\n    const app = this;\n    app.getSize = () => {\n      if (!app.el) return { width: 0, height: 0, left: 0, top: 0 };\n      const offset = app.$el.offset();\n      const [width, height, left, top] = [\n        app.el.offsetWidth,\n        app.el.offsetHeight,\n        offset.left,\n        offset.top,\n      ];\n      app.width = width;\n      app.height = height;\n      app.left = left;\n      app.top = top;\n      return { width, height, left, top };\n    };\n  },\n  on: {\n    init() {\n      const app = this;\n      const window = getWindow();\n\n      // Get Size\n      app.getSize();\n\n      // Emit resize\n      window.addEventListener(\n        'resize',\n        () => {\n          app.emit('resize');\n        },\n        false,\n      );\n\n      // Emit orientationchange\n      window.addEventListener('orientationchange', () => {\n        app.emit('orientationchange');\n      });\n    },\n    orientationchange() {\n      const document = getDocument();\n      const device = getDevice();\n      // Fix iPad weird body scroll\n      if (device.ipad) {\n        document.body.scrollLeft = 0;\n        setTimeout(() => {\n          document.body.scrollLeft = 0;\n        }, 0);\n      }\n    },\n    resize() {\n      const app = this;\n      app.getSize();\n    },\n  },\n};\n","/* eslint-disable max-classes-per-file */\nimport { getWindow, getDocument } from 'ssr-window';\nimport { extend, serializeObject } from './utils.js';\n\nconst globals = {};\nlet jsonpRequests = 0;\n\nclass RequestResponse {\n  constructor(obj) {\n    Object.assign(this, obj);\n  }\n}\n\nclass RequestError extends Error {\n  constructor(obj) {\n    super();\n    Object.assign(this, obj);\n  }\n}\n\nconst request = (requestOptions) =>\n  new Promise((resolve, reject) => {\n    const window = getWindow();\n    const document = getDocument();\n    const globalsNoCallbacks = extend({}, globals);\n    'beforeCreate beforeOpen beforeSend error complete success statusCode'\n      .split(' ')\n      .forEach((callbackName) => {\n        delete globalsNoCallbacks[callbackName];\n      });\n    const defaults = extend(\n      {\n        url: window.location.toString(),\n        method: 'GET',\n        data: false,\n        async: true,\n        cache: true,\n        user: '',\n        password: '',\n        headers: {},\n        xhrFields: {},\n        statusCode: {},\n        processData: true,\n        dataType: 'text',\n        contentType: 'application/x-www-form-urlencoded',\n        timeout: 0,\n      },\n      globalsNoCallbacks,\n    );\n\n    let proceedRequest;\n\n    const options = extend({}, defaults, requestOptions);\n    if (requestOptions.abortController) {\n      options.abortController = requestOptions.abortController;\n    }\n\n    if (options.abortController && options.abortController.canceled) {\n      reject(new RequestError({ options, status: 'canceled', message: 'canceled' }));\n      return;\n    }\n\n    // Function to run XHR callbacks and events\n    function fireCallback(callbackName, ...data) {\n      /*\n      Callbacks:\n      beforeCreate (options),\n      beforeOpen (xhr, options),\n      beforeSend (xhr, options),\n      error (xhr, status, message),\n      complete (xhr, status),\n      success (response, status, xhr),\n      statusCode ()\n    */\n      let globalCallbackValue;\n      let optionCallbackValue;\n      if (globals[callbackName]) {\n        globalCallbackValue = globals[callbackName](...data);\n      }\n      if (options[callbackName]) {\n        optionCallbackValue = options[callbackName](...data);\n      }\n      if (typeof globalCallbackValue !== 'boolean') globalCallbackValue = true;\n      if (typeof optionCallbackValue !== 'boolean') optionCallbackValue = true;\n      if (\n        options.abortController &&\n        options.abortController.canceled &&\n        (callbackName === 'beforeCreate' ||\n          callbackName === 'beforeOpen' ||\n          callbackName === 'beforeSend')\n      ) {\n        return false;\n      }\n      return globalCallbackValue && optionCallbackValue;\n    }\n\n    // Before create callback\n    proceedRequest = fireCallback('beforeCreate', options);\n    if (proceedRequest === false) {\n      reject(new RequestError({ options, status: 'canceled', message: 'canceled' }));\n      return;\n    }\n\n    // For jQuery guys\n    if (options.type) options.method = options.type;\n\n    // Parameters Prefix\n    let paramsPrefix = options.url.indexOf('?') >= 0 ? '&' : '?';\n\n    // UC method\n    const method = options.method.toUpperCase();\n\n    // Data to modify GET URL\n    if (\n      (method === 'GET' || method === 'HEAD' || method === 'OPTIONS' || method === 'DELETE') &&\n      options.data\n    ) {\n      let stringData;\n      if (typeof options.data === 'string') {\n        // Should be key=value string\n        if (options.data.indexOf('?') >= 0) stringData = options.data.split('?')[1];\n        else stringData = options.data;\n      } else {\n        // Should be key=value object\n        stringData = serializeObject(options.data);\n      }\n      if (stringData.length) {\n        options.url += paramsPrefix + stringData;\n        if (paramsPrefix === '?') paramsPrefix = '&';\n      }\n    }\n\n    // JSONP\n    if (options.dataType === 'json' && options.url.indexOf('callback=') >= 0) {\n      const callbackName = `t4jsonp_${Date.now() + (jsonpRequests += 1)}`;\n      let abortTimeout;\n      const callbackSplit = options.url.split('callback=');\n      let requestUrl = `${callbackSplit[0]}callback=${callbackName}`;\n      if (callbackSplit[1].indexOf('&') >= 0) {\n        const addVars = callbackSplit[1]\n          .split('&')\n          .filter((el) => el.indexOf('=') > 0)\n          .join('&');\n        if (addVars.length > 0) requestUrl += `&${addVars}`;\n      }\n\n      // Create script\n      let script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.onerror = function onerror() {\n        clearTimeout(abortTimeout);\n        fireCallback('error', null, 'scripterror', 'scripterror');\n        reject(new RequestError({ options, status: 'scripterror', message: 'scripterror' }));\n        fireCallback('complete', null, 'scripterror');\n      };\n      script.src = requestUrl;\n\n      // Handler\n      window[callbackName] = function jsonpCallback(data) {\n        clearTimeout(abortTimeout);\n        fireCallback('success', data);\n        script.parentNode.removeChild(script);\n        script = null;\n        delete window[callbackName];\n        resolve(new RequestResponse({ options, data }));\n      };\n      document.querySelector('head').appendChild(script);\n\n      if (options.timeout > 0) {\n        abortTimeout = setTimeout(() => {\n          script.parentNode.removeChild(script);\n          script = null;\n          fireCallback('error', null, 'timeout', 'timeout');\n          reject(new RequestError({ options, status: 'timeout', message: 'timeout' }));\n        }, options.timeout);\n      }\n\n      return;\n    }\n\n    // Cache for GET/HEAD requests\n    if (method === 'GET' || method === 'HEAD' || method === 'OPTIONS' || method === 'DELETE') {\n      if (options.cache === false) {\n        options.url += `${paramsPrefix}_nocache${Date.now()}`;\n      }\n    }\n\n    // Create XHR\n    const xhr = new XMLHttpRequest();\n\n    if (options.abortController) {\n      let aborted = false;\n      options.abortController.onAbort = () => {\n        if (aborted) return;\n        aborted = true;\n        xhr.abort();\n        reject(new RequestError({ options, xhr, status: 'canceled', message: 'canceled' }));\n      };\n    }\n\n    // Save Request URL\n    xhr.requestUrl = options.url;\n    xhr.requestParameters = options;\n\n    // Before open callback\n    proceedRequest = fireCallback('beforeOpen', xhr, options);\n    if (proceedRequest === false) {\n      reject(new RequestError({ options, xhr, status: 'canceled', message: 'canceled' }));\n      return;\n    }\n\n    // Open XHR\n    xhr.open(method, options.url, options.async, options.user, options.password);\n\n    // Create POST Data\n    let postData = null;\n\n    if ((method === 'POST' || method === 'PUT' || method === 'PATCH') && options.data) {\n      if (options.processData) {\n        const postDataInstances = [ArrayBuffer, Blob, Document, FormData];\n        // Post Data\n        if (postDataInstances.indexOf(options.data.constructor) >= 0) {\n          postData = options.data;\n        } else {\n          // POST Headers\n          const boundary = `---------------------------${Date.now().toString(16)}`;\n\n          if (options.contentType === 'multipart/form-data') {\n            xhr.setRequestHeader('Content-Type', `multipart/form-data; boundary=${boundary}`);\n          } else {\n            xhr.setRequestHeader('Content-Type', options.contentType);\n          }\n          postData = '';\n          let data = serializeObject(options.data);\n          if (options.contentType === 'multipart/form-data') {\n            data = data.split('&');\n            const newData = [];\n            for (let i = 0; i < data.length; i += 1) {\n              newData.push(\n                `Content-Disposition: form-data; name=\"${data[i].split('=')[0]}\"\\r\\n\\r\\n${\n                  data[i].split('=')[1]\n                }\\r\\n`,\n              );\n            }\n            postData = `--${boundary}\\r\\n${newData.join(`--${boundary}\\r\\n`)}--${boundary}--\\r\\n`;\n          } else if (options.contentType === 'application/json') {\n            postData = JSON.stringify(options.data);\n          } else {\n            postData = data;\n          }\n        }\n      } else {\n        postData = options.data;\n        xhr.setRequestHeader('Content-Type', options.contentType);\n      }\n    }\n    if (options.dataType === 'json' && (!options.headers || !options.headers.Accept)) {\n      xhr.setRequestHeader('Accept', 'application/json');\n    }\n\n    // Additional headers\n    if (options.headers) {\n      Object.keys(options.headers).forEach((headerName) => {\n        if (typeof options.headers[headerName] === 'undefined') return;\n        xhr.setRequestHeader(headerName, options.headers[headerName]);\n      });\n    }\n\n    // Check for crossDomain\n    if (typeof options.crossDomain === 'undefined') {\n      options.crossDomain =\n        // eslint-disable-next-line\n        /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(options.url) && RegExp.$2 !== window.location.host;\n    }\n\n    if (!options.crossDomain) {\n      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n\n    if (options.xhrFields) {\n      extend(xhr, options.xhrFields);\n    }\n\n    // Handle XHR\n    xhr.onload = function onload() {\n      if ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 0) {\n        let responseData;\n        if (options.dataType === 'json') {\n          let parseError;\n          try {\n            responseData = JSON.parse(xhr.responseText);\n          } catch (err) {\n            parseError = true;\n          }\n          if (!parseError) {\n            fireCallback('success', responseData, xhr.status, xhr);\n            resolve(new RequestResponse({ options, data: responseData, status: xhr.status, xhr }));\n          } else {\n            fireCallback('error', xhr, 'parseerror', 'parseerror');\n            reject(new RequestError({ options, xhr, status: 'parseerror', message: 'parseerror' }));\n          }\n        } else {\n          responseData =\n            xhr.responseType === 'text' || xhr.responseType === ''\n              ? xhr.responseText\n              : xhr.response;\n          fireCallback('success', responseData, xhr.status, xhr);\n          resolve(new RequestResponse({ options, data: responseData, status: xhr.status, xhr }));\n        }\n      } else {\n        fireCallback('error', xhr, xhr.status, xhr.statusText);\n        reject(new RequestError({ options, xhr, status: xhr.status, message: xhr.statusText }));\n      }\n      if (options.statusCode) {\n        if (globals.statusCode && globals.statusCode[xhr.status])\n          globals.statusCode[xhr.status](xhr);\n        if (options.statusCode[xhr.status]) options.statusCode[xhr.status](xhr);\n      }\n      fireCallback('complete', xhr, xhr.status);\n    };\n\n    xhr.onerror = function onerror() {\n      fireCallback('error', xhr, xhr.status, xhr.status);\n      reject(new RequestError({ options, xhr, status: xhr.status, message: xhr.statusText }));\n      fireCallback('complete', xhr, 'error');\n    };\n\n    // Timeout\n    if (options.timeout > 0) {\n      xhr.timeout = options.timeout;\n      xhr.ontimeout = () => {\n        fireCallback('error', xhr, 'timeout', 'timeout');\n        reject(new RequestError({ options, xhr, status: 'timeout', message: 'timeout' }));\n        fireCallback('complete', xhr, 'timeout');\n      };\n    }\n\n    // Ajax start callback\n    proceedRequest = fireCallback('beforeSend', xhr, options);\n    if (proceedRequest === false) {\n      reject(new RequestError({ options, xhr, status: 'canceled', message: 'canceled' }));\n      return;\n    }\n\n    // Send XHR\n    xhr.send(postData);\n  });\n\nfunction requestShortcut(method, ...args) {\n  let [url, data, success, error, dataType] = [];\n  if (typeof args[1] === 'function') {\n    [url, success, error, dataType] = args;\n  } else {\n    [url, data, success, error, dataType] = args;\n  }\n  [success, error].forEach((callback) => {\n    if (typeof callback === 'string') {\n      dataType = callback;\n      if (callback === success) success = undefined;\n      else error = undefined;\n    }\n  });\n  dataType = dataType || (method === 'json' || method === 'postJSON' ? 'json' : undefined);\n  const requestOptions = {\n    url,\n    method: method === 'post' || method === 'postJSON' ? 'POST' : 'GET',\n    data,\n    success,\n    error,\n    dataType,\n  };\n  if (method === 'postJSON') {\n    extend(requestOptions, {\n      contentType: 'application/json',\n      processData: false,\n      crossDomain: true,\n      data: typeof data === 'string' ? data : JSON.stringify(data),\n    });\n  }\n  return request(requestOptions);\n}\n\nObject.assign(request, {\n  get: (...args) => requestShortcut('get', ...args),\n  post: (...args) => requestShortcut('post', ...args),\n  json: (...args) => requestShortcut('json', ...args),\n  getJSON: (...args) => requestShortcut('json', ...args),\n  postJSON: (...args) => requestShortcut('postJSON', ...args),\n});\n\nrequest.abortController = () => {\n  const contoller = {\n    canceled: false,\n    onAbort: null,\n    abort() {\n      contoller.canceled = true;\n      if (contoller.onAbort) contoller.onAbort();\n    },\n  };\n  return contoller;\n};\n\nrequest.setup = function setup(options) {\n  if (options.type && !options.method) {\n    extend(options, { method: options.type });\n  }\n  extend(globals, options);\n};\n\nexport default request;\n","/* eslint no-param-reassign: \"off\" */\nimport request from '../../shared/request.js';\n\nexport default {\n  name: 'request',\n  proto: {\n    request,\n  },\n  static: {\n    request,\n  },\n};\n","/* eslint-disable no-nested-ternary */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom64.js';\nimport { getSupport } from '../../shared/get-support.js';\nimport { getDevice } from '../../shared/get-device.js';\nimport { extend } from '../../shared/utils.js';\n\nfunction initTouch() {\n  const app = this;\n  const device = getDevice();\n  const support = getSupport();\n  const window = getWindow();\n  const document = getDocument();\n  const params = app.params.touch;\n  const useRipple = params[`${app.theme}TouchRipple`];\n\n  if (device.ios && device.webView) {\n    // Strange hack required for iOS 8 webview to work on inputs\n    window.addEventListener('touchstart', () => {});\n  }\n\n  let touchStartX;\n  let touchStartY;\n  let targetElement;\n  let isMoved;\n  let tapHoldFired;\n  let tapHoldTimeout;\n  let preventClick;\n\n  let activableElement;\n  let activeTimeout;\n\n  let rippleWave;\n  let rippleTarget;\n  let rippleTimeout;\n\n  function findActivableElement(el) {\n    const target = $(el);\n    const parents = target.parents(params.activeStateElements);\n    if (target.closest('.no-active-state').length) {\n      return null;\n    }\n    let activable;\n    if (target.is(params.activeStateElements)) {\n      activable = target;\n    }\n    if (parents.length > 0) {\n      activable = activable ? activable.add(parents) : parents;\n    }\n    if (activable && activable.length > 1) {\n      const newActivable = [];\n      let preventPropagation;\n      for (let i = 0; i < activable.length; i += 1) {\n        if (!preventPropagation) {\n          newActivable.push(activable[i]);\n          if (\n            activable.eq(i).hasClass('prevent-active-state-propagation') ||\n            activable.eq(i).hasClass('no-active-state-propagation')\n          ) {\n            preventPropagation = true;\n          }\n        }\n      }\n      activable = $(newActivable);\n    }\n    return activable || target;\n  }\n\n  function isInsideScrollableView(el) {\n    const pageContent = el.parents('.page-content');\n    return pageContent.length > 0;\n  }\n\n  function addActive() {\n    if (!activableElement) return;\n    activableElement.addClass('active-state');\n  }\n  function removeActive() {\n    if (!activableElement) return;\n    activableElement.removeClass('active-state');\n    activableElement = null;\n  }\n\n  // Ripple handlers\n  function findRippleElement(el) {\n    const rippleElements = params.touchRippleElements;\n    const $el = $(el);\n    if ($el.is(rippleElements)) {\n      if ($el.hasClass('no-ripple')) {\n        return false;\n      }\n      return $el;\n    }\n    if ($el.parents(rippleElements).length > 0) {\n      const rippleParent = $el.parents(rippleElements).eq(0);\n      if (rippleParent.hasClass('no-ripple')) {\n        return false;\n      }\n      return rippleParent;\n    }\n    return false;\n  }\n  function createRipple($el, x, y) {\n    if (!$el) return;\n    rippleWave = app.touchRipple.create(app, $el, x, y);\n  }\n\n  function removeRipple() {\n    if (!rippleWave) return;\n    rippleWave.remove();\n    rippleWave = undefined;\n    rippleTarget = undefined;\n  }\n  function rippleTouchStart(el) {\n    rippleTarget = findRippleElement(el);\n    if (!rippleTarget || rippleTarget.length === 0) {\n      rippleTarget = undefined;\n      return;\n    }\n    const inScrollable = isInsideScrollableView(rippleTarget);\n\n    if (!inScrollable) {\n      removeRipple();\n      createRipple(rippleTarget, touchStartX, touchStartY);\n    } else {\n      clearTimeout(rippleTimeout);\n      rippleTimeout = setTimeout(() => {\n        removeRipple();\n        createRipple(rippleTarget, touchStartX, touchStartY);\n      }, 80);\n    }\n  }\n  function rippleTouchMove() {\n    clearTimeout(rippleTimeout);\n    removeRipple();\n  }\n  function rippleTouchEnd() {\n    if (!rippleWave && rippleTarget && !isMoved) {\n      clearTimeout(rippleTimeout);\n      createRipple(rippleTarget, touchStartX, touchStartY);\n      setTimeout(removeRipple, 0);\n    } else {\n      removeRipple();\n    }\n  }\n\n  // Mouse Handlers\n  function handleMouseDown(e) {\n    const $activableEl = findActivableElement(e.target);\n    if ($activableEl) {\n      $activableEl.addClass('active-state');\n      if ('which' in e && e.which === 3) {\n        setTimeout(() => {\n          $('.active-state').removeClass('active-state');\n        }, 0);\n      }\n    }\n\n    if (useRipple) {\n      touchStartX = e.pageX;\n      touchStartY = e.pageY;\n      rippleTouchStart(e.target, e.pageX, e.pageY);\n    }\n  }\n  function handleMouseMove() {\n    if (!params.activeStateOnMouseMove) {\n      $('.active-state').removeClass('active-state');\n    }\n    if (useRipple) {\n      rippleTouchMove();\n    }\n  }\n  function handleMouseUp() {\n    $('.active-state').removeClass('active-state');\n    if (useRipple) {\n      rippleTouchEnd();\n    }\n  }\n\n  function handleTouchCancel() {\n    targetElement = null;\n\n    // Remove Active State\n    clearTimeout(activeTimeout);\n    clearTimeout(tapHoldTimeout);\n    if (params.activeState) {\n      removeActive();\n    }\n\n    // Remove Ripple\n    if (useRipple) {\n      rippleTouchEnd();\n    }\n  }\n\n  let isScrolling;\n  let isSegmentedStrong = false;\n  let segmentedStrongEl = null;\n\n  const touchMoveActivableIos = '.dialog-button, .actions-button';\n  let isTouchMoveActivable = false;\n  let touchmoveActivableEl = null;\n\n  function handleTouchStart(e) {\n    isMoved = false;\n    tapHoldFired = false;\n    preventClick = false;\n    isScrolling = undefined;\n    if (e.targetTouches.length > 1) {\n      if (activableElement) removeActive();\n      return true;\n    }\n    if (e.touches.length > 1 && activableElement) {\n      removeActive();\n    }\n    if (params.tapHold) {\n      if (tapHoldTimeout) clearTimeout(tapHoldTimeout);\n      tapHoldTimeout = setTimeout(() => {\n        if (e && e.touches && e.touches.length > 1) return;\n        tapHoldFired = true;\n        e.preventDefault();\n        preventClick = true;\n        $(e.target).trigger('taphold', e);\n        app.emit('taphold', e);\n      }, params.tapHoldDelay);\n    }\n    targetElement = e.target;\n    touchStartX = e.targetTouches[0].pageX;\n    touchStartY = e.targetTouches[0].pageY;\n    isSegmentedStrong = e.target.closest(\n      '.segmented-strong .button-active, .segmented-strong .tab-link-active',\n    );\n    isTouchMoveActivable = app.theme === 'ios' && e.target.closest(touchMoveActivableIos);\n    if (isSegmentedStrong) {\n      segmentedStrongEl = isSegmentedStrong.closest('.segmented-strong');\n    }\n\n    if (params.activeState) {\n      activableElement = findActivableElement(targetElement);\n      if (activableElement && !isInsideScrollableView(activableElement)) {\n        addActive();\n      } else if (activableElement) {\n        activeTimeout = setTimeout(addActive, 80);\n      }\n    }\n    if (useRipple) {\n      rippleTouchStart(targetElement, touchStartX, touchStartY);\n    }\n    return true;\n  }\n  function handleTouchMove(e) {\n    let touch;\n    let distance;\n    let shouldRemoveActive = true;\n\n    if (e.type === 'touchmove') {\n      touch = e.targetTouches[0];\n      distance = params.touchClicksDistanceThreshold;\n    }\n\n    const touchCurrentX = e.targetTouches[0].pageX;\n    const touchCurrentY = e.targetTouches[0].pageY;\n\n    if (typeof isScrolling === 'undefined') {\n      isScrolling = !!(\n        isScrolling || Math.abs(touchCurrentY - touchStartY) > Math.abs(touchCurrentX - touchStartX)\n      );\n    }\n\n    if (isTouchMoveActivable || (!isScrolling && isSegmentedStrong && segmentedStrongEl)) {\n      if (e.cancelable) e.preventDefault();\n    }\n\n    if (!isScrolling && isSegmentedStrong && segmentedStrongEl) {\n      const elementFromPoint = document.elementFromPoint(\n        e.targetTouches[0].clientX,\n        e.targetTouches[0].clientY,\n      );\n      const buttonEl = elementFromPoint.closest(\n        '.segmented-strong .button:not(.button-active):not(.tab-link-active)',\n      );\n      if (buttonEl && segmentedStrongEl.contains(buttonEl)) {\n        $(buttonEl).trigger('click', 't4Segmented');\n        targetElement = buttonEl;\n      }\n    }\n\n    if (distance && touch) {\n      const pageX = touch.pageX;\n      const pageY = touch.pageY;\n      if (Math.abs(pageX - touchStartX) > distance || Math.abs(pageY - touchStartY) > distance) {\n        isMoved = true;\n      }\n    } else {\n      isMoved = true;\n    }\n    if (isMoved) {\n      preventClick = true;\n      // Keep active state on touchMove (for dialog and actions buttons)\n      if (isTouchMoveActivable) {\n        const elementFromPoint = document.elementFromPoint(\n          e.targetTouches[0].clientX,\n          e.targetTouches[0].clientY,\n        );\n        touchmoveActivableEl = elementFromPoint.closest(touchMoveActivableIos);\n        if (\n          touchmoveActivableEl &&\n          activableElement &&\n          activableElement[0] === touchmoveActivableEl\n        ) {\n          shouldRemoveActive = false;\n        } else if (touchmoveActivableEl) {\n          setTimeout(() => {\n            activableElement = findActivableElement(touchmoveActivableEl);\n            addActive();\n          });\n        }\n      }\n      if (params.tapHold) {\n        clearTimeout(tapHoldTimeout);\n      }\n      if (params.activeState && shouldRemoveActive) {\n        clearTimeout(activeTimeout);\n        removeActive();\n      }\n      if (useRipple) {\n        rippleTouchMove();\n      }\n    }\n  }\n  function handleTouchEnd(e) {\n    isScrolling = undefined;\n    isSegmentedStrong = false;\n    segmentedStrongEl = null;\n    isTouchMoveActivable = false;\n    clearTimeout(activeTimeout);\n    clearTimeout(tapHoldTimeout);\n    if (touchmoveActivableEl) {\n      $(touchmoveActivableEl).trigger('click', 't4TouchMoveActivable');\n      touchmoveActivableEl = null;\n    }\n    if (document.activeElement === e.target) {\n      if (params.activeState) removeActive();\n      if (useRipple) {\n        rippleTouchEnd();\n      }\n      return true;\n    }\n    if (params.activeState) {\n      addActive();\n      setTimeout(removeActive, 0);\n    }\n    if (useRipple) {\n      rippleTouchEnd();\n    }\n    if ((params.tapHoldPreventClicks && tapHoldFired) || preventClick) {\n      if (e.cancelable) e.preventDefault();\n      preventClick = true;\n      return false;\n    }\n    return true;\n  }\n  function handleClick(e) {\n    const isOverswipe = e && e.detail && e.detail === 't4Overswipe';\n    const isSegmented = e && e.detail && e.detail === 't4Segmented';\n    // eslint-disable-next-line\n    const isTouchMoveActivable = e && e.detail && e.detail === 't4TouchMoveActivable';\n    let localPreventClick = preventClick;\n    if (targetElement && e.target !== targetElement) {\n      if (isOverswipe || isSegmented || isTouchMoveActivable) {\n        localPreventClick = false;\n      } else {\n        localPreventClick = true;\n      }\n    } else if (isTouchMoveActivable) {\n      localPreventClick = false;\n    }\n    if (params.tapHold && params.tapHoldPreventClicks && tapHoldFired) {\n      localPreventClick = true;\n    }\n    if (localPreventClick) {\n      e.stopImmediatePropagation();\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    if (params.tapHold) {\n      tapHoldTimeout = setTimeout(\n        () => {\n          tapHoldFired = false;\n        },\n        device.ios || device.androidChrome ? 100 : 400,\n      );\n    }\n    preventClick = false;\n    targetElement = null;\n\n    return !localPreventClick;\n  }\n\n  function emitAppTouchEvent(name, e) {\n    app.emit({\n      events: name,\n      data: [e],\n    });\n  }\n  function appClick(e) {\n    emitAppTouchEvent('click', e);\n  }\n  function appTouchStartActive(e) {\n    emitAppTouchEvent('touchstart touchstart:active', e);\n  }\n  function appTouchMoveActive(e) {\n    emitAppTouchEvent('touchmove touchmove:active', e);\n  }\n  function appTouchEndActive(e) {\n    emitAppTouchEvent('touchend touchend:active', e);\n  }\n  function appTouchStartPassive(e) {\n    emitAppTouchEvent('touchstart:passive', e);\n  }\n  function appTouchMovePassive(e) {\n    emitAppTouchEvent('touchmove:passive', e);\n  }\n  function appTouchEndPassive(e) {\n    emitAppTouchEvent('touchend:passive', e);\n  }\n\n  const passiveListener = support.passiveListener ? { passive: true } : false;\n  const passiveListenerCapture = support.passiveListener ? { passive: true, capture: true } : true;\n  const activeListener = support.passiveListener ? { passive: false } : false;\n  const activeListenerCapture = support.passiveListener ? { passive: false, capture: true } : true;\n\n  document.addEventListener('click', appClick, true);\n\n  if (support.passiveListener) {\n    document.addEventListener(app.touchEvents.start, appTouchStartActive, activeListenerCapture);\n    document.addEventListener(app.touchEvents.move, appTouchMoveActive, activeListener);\n    document.addEventListener(app.touchEvents.end, appTouchEndActive, activeListener);\n\n    document.addEventListener(app.touchEvents.start, appTouchStartPassive, passiveListenerCapture);\n    document.addEventListener(app.touchEvents.move, appTouchMovePassive, passiveListener);\n    document.addEventListener(app.touchEvents.end, appTouchEndPassive, passiveListener);\n  } else {\n    document.addEventListener(\n      app.touchEvents.start,\n      (e) => {\n        appTouchStartActive(e);\n        appTouchStartPassive(e);\n      },\n      true,\n    );\n    document.addEventListener(\n      app.touchEvents.move,\n      (e) => {\n        appTouchMoveActive(e);\n        appTouchMovePassive(e);\n      },\n      false,\n    );\n    document.addEventListener(\n      app.touchEvents.end,\n      (e) => {\n        appTouchEndActive(e);\n        appTouchEndPassive(e);\n      },\n      false,\n    );\n  }\n\n  if (support.touch) {\n    app.on('click', handleClick);\n    app.on('touchstart', handleTouchStart);\n    app.on('touchmove', handleTouchMove);\n    app.on('touchend', handleTouchEnd);\n    document.addEventListener('touchcancel', handleTouchCancel, { passive: true });\n  } else if (params.activeState) {\n    app.on('touchstart', handleMouseDown);\n    app.on('touchmove', handleMouseMove);\n    app.on('touchend', handleMouseUp);\n    document.addEventListener('pointercancel', handleMouseUp, { passive: true });\n  }\n  document.addEventListener('contextmenu', (e) => {\n    if (\n      params.disableContextMenu &&\n      (device.ios ||\n        device.android ||\n        device.cordova ||\n        (window.Capacitor && window.Capacitor.isNative))\n    ) {\n      e.preventDefault();\n    }\n    if (useRipple) {\n      if (activableElement) removeActive();\n      rippleTouchEnd();\n    }\n  });\n}\n\nexport default {\n  name: 'touch',\n  params: {\n    touch: {\n      // Clicks\n      touchClicksDistanceThreshold: 5,\n      // ContextMenu\n      disableContextMenu: false,\n      // Tap Hold\n      tapHold: false,\n      tapHoldDelay: 750,\n      tapHoldPreventClicks: true,\n      // Active State\n      activeState: true,\n      activeStateElements:\n        'a, button, label, span, .actions-button, .stepper-button, .stepper-button-plus, .stepper-button-minus, .card-expandable, .menu-item, .link, .item-link, .accordion-item-toggle',\n      activeStateOnMouseMove: false,\n      mdTouchRipple: true,\n      iosTouchRipple: false,\n      auroraTouchRipple: false,\n      touchRippleElements:\n        '.ripple, .link, .item-link, .list-button, .links-list a, .button, button, .input-clear-button, .dialog-button, .tab-link, .item-radio, .item-checkbox, .actions-button, .searchbar-disable-button, .fab a, .checkbox, .radio, .data-table .sortable-cell:not(.input-cell), .notification-close-button, .stepper-button, .stepper-button-minus, .stepper-button-plus, .menu-item-content, .list.accordion-list .accordion-item-toggle',\n      touchRippleInsetElements:\n        '.ripple-inset, .icon-only, .searchbar-disable-button, .input-clear-button, .notification-close-button, .md .navbar .link.back',\n    },\n  },\n  create() {\n    const app = this;\n    const support = getSupport();\n    extend(app, {\n      touchEvents: {\n        start: support.touch ? 'touchstart' : support.pointerEvents ? 'pointerdown' : 'mousedown',\n        move: support.touch ? 'touchmove' : support.pointerEvents ? 'pointermove' : 'mousemove',\n        end: support.touch ? 'touchend' : support.pointerEvents ? 'pointerup' : 'mouseup',\n      },\n    });\n  },\n  on: {\n    init: initTouch,\n  },\n};\n","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \".concat(i));\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \".concat(j));\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \".concat(j));\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \".concat(i));\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \".concat(i));\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\".concat(escapeString(options.delimiter || \"/#?\"), \"]+?\");\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \".concat(nextType, \" at \").concat(index, \", expected \").concat(type));\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\".concat(token.pattern, \")$\"), reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not repeat, but got an array\"));\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not be empty\"));\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to be \").concat(typeOfMessage));\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    var groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n    var index = 0;\n    var execResult = groupsRegex.exec(path.source);\n    while (execResult) {\n        keys.push({\n            // Use parenthesized substring match if available, index otherwise\n            name: execResult[1] || index++,\n            prefix: \"\",\n            suffix: \"\",\n            modifier: \"\",\n            pattern: \"\",\n        });\n        execResult = groupsRegex.exec(path.source);\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\".concat(parts.join(\"|\"), \")\"), flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d, _e = options.delimiter, delimiter = _e === void 0 ? \"/#?\" : _e, _f = options.endsWith, endsWith = _f === void 0 ? \"\" : _f;\n    var endsWithRe = \"[\".concat(escapeString(endsWith), \"]|$\");\n    var delimiterRe = \"[\".concat(escapeString(delimiter), \"]\");\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\".concat(prefix, \"((?:\").concat(token.pattern, \")(?:\").concat(suffix).concat(prefix, \"(?:\").concat(token.pattern, \"))*)\").concat(suffix, \")\").concat(mod);\n                    }\n                    else {\n                        route += \"(?:\".concat(prefix, \"(\").concat(token.pattern, \")\").concat(suffix, \")\").concat(token.modifier);\n                    }\n                }\n                else {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        route += \"((?:\".concat(token.pattern, \")\").concat(token.modifier, \")\");\n                    }\n                    else {\n                        route += \"(\".concat(token.pattern, \")\").concat(token.modifier);\n                    }\n                }\n            }\n            else {\n                route += \"(?:\".concat(prefix).concat(suffix, \")\").concat(token.modifier);\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += \"\".concat(delimiterRe, \"?\");\n        route += !options.endsWith ? \"$\" : \"(?=\".concat(endsWithRe, \")\");\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n            : endToken === undefined;\n        if (!strict) {\n            route += \"(?:\".concat(delimiterRe, \"(?=\").concat(endsWithRe, \"))?\");\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\".concat(delimiterRe, \"|\").concat(endsWithRe, \")\");\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","import { getWindow, getDocument } from 'ssr-window';\nimport $ from './dom64.js';\nimport { extend } from './utils.js';\n\nconst History = {\n  queue: [],\n  clearQueue() {\n    if (History.queue.length === 0) return;\n    const currentQueue = History.queue.shift();\n    currentQueue();\n  },\n  routerQueue: [],\n  clearRouterQueue() {\n    if (History.routerQueue.length === 0) return;\n    const currentQueue = History.routerQueue.pop();\n    const { router, stateUrl, action } = currentQueue;\n\n    let animate = router.params.animate;\n    if (router.params.browserHistoryAnimate === false) animate = false;\n\n    if (action === 'back') {\n      router.back({ animate, browserHistory: false });\n    }\n    if (action === 'load') {\n      router.navigate(stateUrl, { animate, browserHistory: false });\n    }\n  },\n  handle(e) {\n    if (History.blockPopstate) return;\n    const app = this;\n    // const mainView = app.views.main;\n    let state = e.state;\n    History.previousState = History.state;\n    History.state = state;\n\n    History.allowChange = true;\n    History.clearQueue();\n\n    state = History.state;\n    if (!state) state = {};\n\n    app.views.forEach((view) => {\n      const router = view.router;\n      let viewState = state[view.id];\n      if (!viewState && view.params.browserHistory) {\n        viewState = {\n          url: view.router.history[0],\n        };\n      }\n      if (!viewState) return;\n      const stateUrl = viewState.url || undefined;\n\n      let animate = router.params.animate;\n      if (router.params.browserHistoryAnimate === false) animate = false;\n\n      if (stateUrl !== router.url) {\n        if (router.history.indexOf(stateUrl) >= 0) {\n          // Go Back\n          if (router.allowPageChange) {\n            router.back({ animate, browserHistory: false });\n          } else {\n            History.routerQueue.push({\n              action: 'back',\n              router,\n            });\n          }\n        } else if (router.allowPageChange) {\n          // Load page\n          router.navigate(stateUrl, { animate, browserHistory: false });\n        } else {\n          History.routerQueue.unshift({\n            action: 'load',\n            stateUrl,\n            router,\n          });\n        }\n      }\n    });\n  },\n  initViewState(viewId, viewState) {\n    const window = getWindow();\n    const newState = extend({}, History.state || {}, {\n      [viewId]: viewState,\n    });\n    History.state = newState;\n    window.history.replaceState(newState, '');\n  },\n  push(viewId, viewState, url) {\n    const window = getWindow();\n    const document = getDocument();\n    /* eslint-disable no-param-reassign */\n    if (url.substr(-3) === '#!/') {\n      url = url.replace('#!/', '');\n      if (url === '') {\n        url = document.location.href;\n        if (url.includes('#!/')) {\n          url = document.location.href.split('#!/')[0];\n        }\n      }\n    }\n    /* eslint-enable no-param-reassign */\n    if (!History.allowChange) {\n      History.queue.push(() => {\n        History.push(viewId, viewState, url);\n      });\n      return;\n    }\n    History.previousState = History.state;\n    const newState = extend({}, History.previousState || {}, {\n      [viewId]: viewState,\n    });\n    History.state = newState;\n    window.history.pushState(newState, '', url);\n  },\n  replace(viewId, viewState, url) {\n    const window = getWindow();\n    if (url.substr(-3) === '#!/') {\n      // eslint-disable-next-line\n      url = url.replace('#!/', '');\n    }\n    if (!History.allowChange) {\n      History.queue.push(() => {\n        History.replace(viewId, viewState, url);\n      });\n      return;\n    }\n    History.previousState = History.state;\n    const newState = extend({}, History.previousState || {}, {\n      [viewId]: viewState,\n    });\n    History.state = newState;\n    window.history.replaceState(newState, '', url);\n  },\n  go(index) {\n    const window = getWindow();\n    History.allowChange = false;\n    window.history.go(index);\n  },\n  back() {\n    const window = getWindow();\n    History.allowChange = false;\n    window.history.back();\n  },\n  allowChange: true,\n  previousState: {},\n  state: {},\n  blockPopstate: true,\n  init(app) {\n    const window = getWindow();\n    const document = getDocument();\n    History.state = window.history.state;\n    $(window).on('load', () => {\n      setTimeout(() => {\n        History.blockPopstate = false;\n      }, 0);\n    });\n\n    if (document.readyState && document.readyState === 'complete') {\n      History.blockPopstate = false;\n    }\n\n    $(window).on('popstate', History.handle.bind(app));\n  },\n};\n\nexport default History;\n","import $ from '../../shared/dom64.js';\nimport History from '../../shared/history.js';\nimport { getSupport } from '../../shared/get-support.js';\nimport { getDevice } from '../../shared/get-device.js';\nimport { now } from '../../shared/utils.js';\n\nfunction SwipeBack(r) {\n  const router = r;\n  const { $el, $navbarsEl, app, params } = router;\n  const support = getSupport();\n  const device = getDevice();\n  let isTouched = false;\n  let isMoved = false;\n  const touchesStart = {};\n  let isScrolling;\n  let $currentPageEl = [];\n  let $previousPageEl = [];\n  let viewContainerWidth;\n  let touchesDiff;\n  let allowViewTouchMove = true;\n  let touchStartTime;\n  let $currentNavbarEl = [];\n  let $previousNavbarEl = [];\n  let dynamicNavbar;\n  let $pageShadowEl;\n  let $pageOpacityEl;\n\n  let animatableNavEls;\n\n  const paramsSwipeBackAnimateShadow = params[`${app.theme}SwipeBackAnimateShadow`];\n  const paramsSwipeBackAnimateOpacity = params[`${app.theme}SwipeBackAnimateOpacity`];\n  const paramsSwipeBackActiveArea = params[`${app.theme}SwipeBackActiveArea`];\n  const paramsSwipeBackThreshold = params[`${app.theme}SwipeBackThreshold`];\n\n  const transformOrigin = app.rtl ? 'right center' : 'left center';\n  const transformOriginTitleLarge = app.rtl\n    ? 'calc(100% - var(--t4-navbar-large-title-padding-left) - var(--t4-safe-area-left)) center'\n    : 'calc(var(--t4-navbar-large-title-padding-left) + var(--t4-safe-area-left)) center';\n\n  function animatableNavElements() {\n    const els = [];\n    const inverter = app.rtl ? -1 : 1;\n    const currentNavIsTransparent =\n      $currentNavbarEl.hasClass('navbar-transparent') &&\n      !$currentNavbarEl.hasClass('navbar-large') &&\n      !$currentNavbarEl.hasClass('navbar-transparent-visible');\n    const currentNavIsLarge = $currentNavbarEl.hasClass('navbar-large');\n    const currentNavIsCollapsed = $currentNavbarEl.hasClass('navbar-large-collapsed');\n    const currentNavIsLargeTransparent =\n      $currentNavbarEl.hasClass('navbar-large-transparent') ||\n      ($currentNavbarEl.hasClass('navbar-large') &&\n        $currentNavbarEl.hasClass('navbar-transparent'));\n    const previousNavIsTransparent =\n      $previousNavbarEl.hasClass('navbar-transparent') &&\n      !$previousNavbarEl.hasClass('navbar-large') &&\n      !$previousNavbarEl.hasClass('navbar-transparent-visible');\n    const previousNavIsLarge = $previousNavbarEl.hasClass('navbar-large');\n    const previousNavIsCollapsed = $previousNavbarEl.hasClass('navbar-large-collapsed');\n    const previousNavIsLargeTransparent =\n      $previousNavbarEl.hasClass('navbar-large-transparent') ||\n      ($previousNavbarEl.hasClass('navbar-large') &&\n        $previousNavbarEl.hasClass('navbar-transparent'));\n    const fromLarge = currentNavIsLarge && !currentNavIsCollapsed;\n    const toLarge = previousNavIsLarge && !previousNavIsCollapsed;\n    const $currentNavElements = $currentNavbarEl.find(\n      '.left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg',\n    );\n    const $previousNavElements = $previousNavbarEl.find(\n      '.left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg',\n    );\n    let activeNavBackIconText;\n    let previousNavBackIconText;\n\n    if (params.iosAnimateNavbarBackIcon) {\n      if (\n        $currentNavbarEl.hasClass('sliding') ||\n        $currentNavbarEl.find('.navbar-inner.sliding').length\n      ) {\n        activeNavBackIconText = $currentNavbarEl.find('.left').find('.back .icon + span').eq(0);\n      } else {\n        activeNavBackIconText = $currentNavbarEl\n          .find('.left.sliding')\n          .find('.back .icon + span')\n          .eq(0);\n      }\n      if (\n        $previousNavbarEl.hasClass('sliding') ||\n        $previousNavbarEl.find('.navbar-inner.sliding').length\n      ) {\n        previousNavBackIconText = $previousNavbarEl.find('.left').find('.back .icon + span').eq(0);\n      } else {\n        previousNavBackIconText = $previousNavbarEl\n          .find('.left.sliding')\n          .find('.back .icon + span')\n          .eq(0);\n      }\n      if (activeNavBackIconText.length) {\n        $previousNavElements.each((el) => {\n          if (!$(el).hasClass('title')) return;\n          el.t4NavbarLeftOffset += activeNavBackIconText.prev('.icon')[0].offsetWidth;\n        });\n      }\n    }\n    $currentNavElements.each((navEl) => {\n      const $navEl = $(navEl);\n      const isSubnavbar = $navEl.hasClass('subnavbar');\n      const isLeft = $navEl.hasClass('left');\n      const isTitle = $navEl.hasClass('title');\n      const isBg = $navEl.hasClass('navbar-bg');\n      if ((isTitle || isBg) && currentNavIsTransparent) return;\n      if (!fromLarge && $navEl.hasClass('.title-large')) return;\n      const el = {\n        el: navEl,\n      };\n      if (fromLarge) {\n        if (isTitle) return;\n        if ($navEl.hasClass('title-large')) {\n          if (els.indexOf(el) < 0) els.push(el);\n          el.overflow = 'visible';\n          $navEl.find('.title-large-text').each((subNavEl) => {\n            els.push({\n              el: subNavEl,\n              transform: (progress) => `translateX(${progress * 100 * inverter}%)`,\n            });\n          });\n          return;\n        }\n      }\n      if (toLarge) {\n        if (!fromLarge) {\n          if ($navEl.hasClass('title-large')) {\n            if (els.indexOf(el) < 0) els.push(el);\n            el.opacity = 0;\n          }\n        }\n        if (isLeft) {\n          if (els.indexOf(el) < 0) els.push(el);\n          el.opacity = (progress) => 1 - progress ** 0.33;\n          $navEl.find('.back span').each((subNavEl) => {\n            els.push({\n              el: subNavEl,\n              'transform-origin': transformOrigin,\n              transform: (progress) =>\n                `translateX(calc(${progress} * (var(--t4-navbarTitleLargeOffset) - var(--t4-navbarLeftTextOffset)))) translateY(calc(${progress} * (var(--t4-navbar-large-title-height) - var(--t4-navbar-large-title-padding-vertical) / 2))) scale(${\n                  1 + 1 * progress\n                })`,\n            });\n          });\n          return;\n        }\n      }\n      if (isBg) {\n        if (els.indexOf(el) < 0) els.push(el);\n        if (!fromLarge && !toLarge) {\n          if (currentNavIsCollapsed) {\n            if (currentNavIsLargeTransparent) {\n              el.className = 'ios-swipeback-navbar-bg-large';\n            }\n            el.transform = (progress) =>\n              `translateX(${\n                100 * progress * inverter\n              }%) translateY(calc(-1 * var(--t4-navbar-large-title-height)))`;\n          } else {\n            el.transform = (progress) => `translateX(${100 * progress * inverter}%)`;\n          }\n        }\n        if (!fromLarge && toLarge) {\n          el.className = 'ios-swipeback-navbar-bg-large';\n          el.transform = (progress) =>\n            `translateX(${100 * progress * inverter}%) translateY(calc(-1 * ${\n              1 - progress\n            } * var(--t4-navbar-large-title-height)))`;\n        }\n        if (fromLarge && toLarge) {\n          el.transform = (progress) => `translateX(${100 * progress * inverter}%)`;\n        }\n        if (fromLarge && !toLarge) {\n          el.transform = (progress) =>\n            `translateX(${\n              100 * progress * inverter\n            }%) translateY(calc(-${progress} * var(--t4-navbar-large-title-height)))`;\n        }\n        return;\n      }\n      if ($navEl.hasClass('title-large')) return;\n      const isSliding =\n        $navEl.hasClass('sliding') || $navEl.parents('.navbar-inner.sliding').length;\n      if (els.indexOf(el) < 0) els.push(el);\n      if (!isSubnavbar || (isSubnavbar && !isSliding)) {\n        el.opacity = (progress) => 1 - progress ** 0.33;\n      }\n      if (isSliding) {\n        let transformTarget = el;\n        if (isLeft && activeNavBackIconText.length && params.iosAnimateNavbarBackIcon) {\n          const textEl = { el: activeNavBackIconText[0] };\n          transformTarget = textEl;\n          els.push(textEl);\n        }\n        transformTarget.transform = (progress) => {\n          let activeNavTranslate = progress * transformTarget.el.t4NavbarRightOffset;\n          if (device.pixelRatio === 1) activeNavTranslate = Math.round(activeNavTranslate);\n          if (isSubnavbar && currentNavIsLarge) {\n            return `translate3d(${activeNavTranslate}px, calc(-1 * var(--t4-navbar-large-collapse-progress) * var(--t4-navbar-large-title-height)), 0)`;\n          }\n          return `translate3d(${activeNavTranslate}px,0,0)`;\n        };\n      }\n    });\n    $previousNavElements.each((navEl) => {\n      const $navEl = $(navEl);\n      const isSubnavbar = $navEl.hasClass('subnavbar');\n      const isLeft = $navEl.hasClass('left');\n      const isTitle = $navEl.hasClass('title');\n      const isBg = $navEl.hasClass('navbar-bg');\n      if ((isTitle || isBg) && previousNavIsTransparent) return;\n      const el = {\n        el: navEl,\n      };\n      if (toLarge) {\n        if (isTitle) return;\n        if (els.indexOf(el) < 0) els.push(el);\n\n        if ($navEl.hasClass('title-large')) {\n          el.opacity = 1;\n          el.overflow = 'visible';\n          $navEl.find('.title-large-text').each((subNavEl) => {\n            els.push({\n              el: subNavEl,\n              'transform-origin': transformOriginTitleLarge,\n              opacity: (progress) => progress ** 3,\n              transform: (progress) =>\n                `translateX(calc(${\n                  1 - progress\n                } * (var(--t4-navbarLeftTextOffset) - var(--t4-navbarTitleLargeOffset)))) translateY(calc(${\n                  progress - 1\n                } * var(--t4-navbar-large-title-height) + ${\n                  1 - progress\n                } * var(--t4-navbar-large-title-padding-vertical))) scale(${0.5 + progress * 0.5})`,\n            });\n          });\n          return;\n        }\n      }\n      if (isBg) {\n        if (els.indexOf(el) < 0) els.push(el);\n        if (!fromLarge && !toLarge) {\n          if (previousNavIsCollapsed) {\n            if (previousNavIsLargeTransparent) {\n              el.className = 'ios-swipeback-navbar-bg-large';\n            }\n            el.transform = (progress) =>\n              `translateX(${\n                (-100 + 100 * progress) * inverter\n              }%) translateY(calc(-1 * var(--t4-navbar-large-title-height)))`;\n          } else {\n            el.transform = (progress) => `translateX(${(-100 + 100 * progress) * inverter}%)`;\n          }\n        }\n        if (!fromLarge && toLarge) {\n          el.transform = (progress) =>\n            `translateX(${(-100 + 100 * progress) * inverter}%) translateY(calc(-1 * ${\n              1 - progress\n            } * var(--t4-navbar-large-title-height)))`;\n        }\n        if (fromLarge && !toLarge) {\n          el.className = 'ios-swipeback-navbar-bg-large';\n          el.transform = (progress) =>\n            `translateX(${\n              (-100 + 100 * progress) * inverter\n            }%) translateY(calc(-${progress} * var(--t4-navbar-large-title-height)))`;\n        }\n        if (fromLarge && toLarge) {\n          el.transform = (progress) => `translateX(${(-100 + 100 * progress) * inverter}%)`;\n        }\n\n        return;\n      }\n      if ($navEl.hasClass('title-large')) return;\n      const isSliding =\n        $navEl.hasClass('sliding') || $previousNavbarEl.children('.navbar-inner.sliding').length;\n      if (els.indexOf(el) < 0) els.push(el);\n      if (!isSubnavbar || (isSubnavbar && !isSliding)) {\n        el.opacity = (progress) => progress ** 3;\n      }\n      if (isSliding) {\n        let transformTarget = el;\n        if (isLeft && previousNavBackIconText.length && params.iosAnimateNavbarBackIcon) {\n          const textEl = { el: previousNavBackIconText[0] };\n          transformTarget = textEl;\n          els.push(textEl);\n        }\n        transformTarget.transform = (progress) => {\n          let previousNavTranslate = transformTarget.el.t4NavbarLeftOffset * (1 - progress);\n          if (device.pixelRatio === 1) previousNavTranslate = Math.round(previousNavTranslate);\n          if (isSubnavbar && previousNavIsLarge) {\n            return `translate3d(${previousNavTranslate}px, calc(-1 * var(--t4-navbar-large-collapse-progress) * var(--t4-navbar-large-title-height)), 0)`;\n          }\n          return `translate3d(${previousNavTranslate}px,0,0)`;\n        };\n      }\n    });\n    return els;\n  }\n\n  function setAnimatableNavElements({ progress, reset, transition, reflow } = {}) {\n    const styles = ['overflow', 'transform', 'transform-origin', 'opacity'];\n    if (transition === true || transition === false) {\n      for (let i = 0; i < animatableNavEls.length; i += 1) {\n        const el = animatableNavEls[i];\n        if (el && el.el) {\n          if (transition === true) el.el.classList.add('navbar-page-transitioning');\n          if (transition === false) el.el.classList.remove('navbar-page-transitioning');\n        }\n      }\n    }\n    if (reflow && animatableNavEls.length && animatableNavEls[0] && animatableNavEls[0].el) {\n      // eslint-disable-next-line\n      animatableNavEls[0].el._clientLeft = animatableNavEls[0].el.clientLeft;\n    }\n    for (let i = 0; i < animatableNavEls.length; i += 1) {\n      const el = animatableNavEls[i];\n      if (el && el.el) {\n        if (el.className && !el.classNameSet && !reset) {\n          el.el.classList.add(el.className);\n          el.classNameSet = true;\n        }\n        if (el.className && reset) {\n          el.el.classList.remove(el.className);\n        }\n        for (let j = 0; j < styles.length; j += 1) {\n          const styleProp = styles[j];\n          if (el[styleProp]) {\n            if (reset) {\n              el.el.style[styleProp] = '';\n            } else if (typeof el[styleProp] === 'function') {\n              el.el.style[styleProp] = el[styleProp](progress);\n            } else {\n              el.el.style[styleProp] = el[styleProp];\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function handleTouchStart(e) {\n    const swipeBackEnabled = params[`${app.theme}SwipeBack`];\n    if (\n      !allowViewTouchMove ||\n      !swipeBackEnabled ||\n      isTouched ||\n      (app.swipeout && app.swipeout.el) ||\n      !router.allowPageChange\n    )\n      return;\n    if ($(e.target).closest('.range-slider, .calendar-months').length > 0) return;\n    if (\n      $(e.target).closest('.page-master, .page-master-detail').length > 0 &&\n      params.masterDetailBreakpoint > 0 &&\n      app.width >= params.masterDetailBreakpoint\n    )\n      return;\n    isMoved = false;\n    isTouched = true;\n    isScrolling = undefined;\n    touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    touchStartTime = now();\n    dynamicNavbar = router.dynamicNavbar;\n  }\n  function handleTouchMove(e) {\n    if (!isTouched) return;\n    const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n    if (typeof isScrolling === 'undefined') {\n      isScrolling =\n        !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x)) ||\n        (pageX < touchesStart.x && !app.rtl) ||\n        (pageX > touchesStart.x && app.rtl);\n    }\n    if (isScrolling || e.t4PreventSwipeBack || app.preventSwipeBack) {\n      isTouched = false;\n      return;\n    }\n    if (!isMoved) {\n      // Calc values during first move fired\n      let cancel = false;\n      const target = $(e.target);\n\n      const swipeout = target.closest('.swipeout');\n      if (swipeout.length > 0) {\n        if (!app.rtl && swipeout.find('.swipeout-actions-left').length > 0) cancel = true;\n        if (app.rtl && swipeout.find('.swipeout-actions-right').length > 0) cancel = true;\n      }\n\n      $currentPageEl = target.closest('.page');\n      if (\n        $currentPageEl.hasClass('no-swipeback') ||\n        target.closest('.no-swipeback, .card-opened').length > 0\n      )\n        cancel = true;\n      $previousPageEl = $el.find('.page-previous:not(.stacked)');\n      if ($previousPageEl.length > 1) {\n        $previousPageEl = $previousPageEl.eq($previousPageEl.length - 1);\n      }\n      let notFromBorder = touchesStart.x - $el.offset().left > paramsSwipeBackActiveArea;\n      viewContainerWidth = $el.width();\n      if (app.rtl) {\n        notFromBorder =\n          touchesStart.x <\n          $el.offset().left - $el[0].scrollLeft + (viewContainerWidth - paramsSwipeBackActiveArea);\n      } else {\n        notFromBorder = touchesStart.x - $el.offset().left > paramsSwipeBackActiveArea;\n      }\n      if (notFromBorder) cancel = true;\n      if ($previousPageEl.length === 0 || $currentPageEl.length === 0) cancel = true;\n      if (cancel) {\n        isTouched = false;\n        return;\n      }\n\n      if (paramsSwipeBackAnimateShadow) {\n        $pageShadowEl = $currentPageEl.find('.page-shadow-effect');\n        if ($pageShadowEl.length === 0) {\n          $pageShadowEl = $('<div class=\"page-shadow-effect\"></div>');\n          $currentPageEl.append($pageShadowEl);\n        }\n      }\n      if (paramsSwipeBackAnimateOpacity) {\n        $pageOpacityEl = $previousPageEl.find('.page-opacity-effect');\n        if ($pageOpacityEl.length === 0) {\n          $pageOpacityEl = $('<div class=\"page-opacity-effect\"></div>');\n          $previousPageEl.append($pageOpacityEl);\n        }\n      }\n\n      if (dynamicNavbar) {\n        $currentNavbarEl = $navbarsEl.find('.navbar-current:not(.stacked)');\n        $previousNavbarEl = $navbarsEl.find('.navbar-previous:not(.stacked)');\n        if ($previousNavbarEl.length > 1) {\n          $previousNavbarEl = $previousNavbarEl.eq($previousNavbarEl.length - 1);\n        }\n\n        animatableNavEls = animatableNavElements($previousNavbarEl, $currentNavbarEl);\n      }\n\n      // Close/Hide Any Picker\n      if ($('.sheet.modal-in').length > 0 && app.sheet) {\n        app.sheet.close($('.sheet.modal-in'));\n      }\n    }\n    e.t4PreventSwipePanel = true;\n    isMoved = true;\n    app.preventSwipePanelBySwipeBack = true;\n    e.preventDefault();\n\n    // RTL inverter\n    const inverter = app.rtl ? -1 : 1;\n\n    // Touches diff\n    touchesDiff = (pageX - touchesStart.x - paramsSwipeBackThreshold) * inverter;\n    if (touchesDiff < 0) touchesDiff = 0;\n    const percentage = Math.min(Math.max(touchesDiff / viewContainerWidth, 0), 1);\n\n    // Swipe Back Callback\n    const callbackData = {\n      percentage,\n      progress: percentage,\n      currentPageEl: $currentPageEl[0],\n      previousPageEl: $previousPageEl[0],\n      currentNavbarEl: $currentNavbarEl[0],\n      previousNavbarEl: $previousNavbarEl[0],\n    };\n    $el.trigger('swipeback:move', callbackData);\n    router.emit('swipebackMove', callbackData);\n\n    // Transform pages\n    let currentPageTranslate = touchesDiff * inverter;\n    let previousPageTranslate = (touchesDiff / 5 - viewContainerWidth / 5) * inverter;\n    if (!app.rtl) {\n      currentPageTranslate = Math.min(currentPageTranslate, viewContainerWidth);\n      previousPageTranslate = Math.min(previousPageTranslate, 0);\n    } else {\n      currentPageTranslate = Math.max(currentPageTranslate, -viewContainerWidth);\n      previousPageTranslate = Math.max(previousPageTranslate, 0);\n    }\n    if (device.pixelRatio === 1) {\n      currentPageTranslate = Math.round(currentPageTranslate);\n      previousPageTranslate = Math.round(previousPageTranslate);\n    }\n\n    router.swipeBackActive = true;\n    $([$currentPageEl[0], $previousPageEl[0]]).addClass('page-swipeback-active');\n\n    $currentPageEl.transform(`translate3d(${currentPageTranslate}px,0,0)`);\n    if (paramsSwipeBackAnimateShadow) $pageShadowEl[0].style.opacity = 1 - 1 * percentage;\n\n    if (app.theme === 'ios') {\n      $previousPageEl.transform(`translate3d(${previousPageTranslate}px,0,0)`);\n    }\n    if (paramsSwipeBackAnimateOpacity) $pageOpacityEl[0].style.opacity = 1 - 1 * percentage;\n\n    // Dynamic Navbars Animation\n    if (!dynamicNavbar) return;\n\n    setAnimatableNavElements({ progress: percentage });\n  }\n  function handleTouchEnd() {\n    app.preventSwipePanelBySwipeBack = false;\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n    isTouched = false;\n    isMoved = false;\n    router.swipeBackActive = false;\n    const $pages = $([$currentPageEl[0], $previousPageEl[0]]);\n    $pages.removeClass('page-swipeback-active');\n    if (touchesDiff === 0) {\n      $pages.transform('');\n      if ($pageShadowEl && $pageShadowEl.length > 0) $pageShadowEl.remove();\n      if ($pageOpacityEl && $pageOpacityEl.length > 0) $pageOpacityEl.remove();\n      if (dynamicNavbar) {\n        setAnimatableNavElements({ reset: true });\n      }\n      return;\n    }\n    const timeDiff = now() - touchStartTime;\n    let pageChanged = false;\n    // Swipe back to previous page\n    if (\n      (timeDiff < 300 && touchesDiff > 10) ||\n      (timeDiff >= 300 && touchesDiff > viewContainerWidth / 2)\n    ) {\n      $currentPageEl\n        .removeClass('page-current')\n        .addClass(`page-next${app.theme !== 'ios' ? ' page-next-on-right' : ''}`);\n      $previousPageEl\n        .removeClass('page-previous')\n        .addClass('page-current')\n        .removeAttr('aria-hidden');\n      if ($pageShadowEl) $pageShadowEl[0].style.opacity = '';\n      if ($pageOpacityEl) $pageOpacityEl[0].style.opacity = '';\n      if (dynamicNavbar) {\n        router.setNavbarPosition($currentNavbarEl, 'next');\n        router.setNavbarPosition($previousNavbarEl, 'current', false);\n      }\n      pageChanged = true;\n    }\n    // Reset custom styles\n    // Add transitioning class for transition-duration\n    $pages.addClass('page-transitioning page-transitioning-swipeback');\n    if (device.ios) {\n      // eslint-disable-next-line\n      $currentPageEl[0]._clientLeft = $currentPageEl[0].clientLeft;\n    }\n    $pages.transform('');\n\n    if (dynamicNavbar) {\n      setAnimatableNavElements({\n        progress: pageChanged ? 1 : 0,\n        transition: true,\n        reflow: !!device.ios,\n      });\n    }\n    allowViewTouchMove = false;\n    router.allowPageChange = false;\n\n    // Swipe Back Callback\n    const callbackData = {\n      currentPageEl: $currentPageEl[0],\n      previousPageEl: $previousPageEl[0],\n      currentNavbarEl: $currentNavbarEl[0],\n      previousNavbarEl: $previousNavbarEl[0],\n    };\n\n    if (pageChanged) {\n      // Update Route\n      router.currentRoute = $previousPageEl[0].t4Page.route;\n      router.currentPage = $previousPageEl[0];\n\n      // Page before animation callback\n      router.pageCallback('beforeOut', $currentPageEl, $currentNavbarEl, 'current', 'next', {\n        route: $currentPageEl[0].t4Page.route,\n        swipeBack: true,\n      });\n      router.pageCallback(\n        'beforeIn',\n        $previousPageEl,\n        $previousNavbarEl,\n        'previous',\n        'current',\n        { route: $previousPageEl[0].t4Page.route, swipeBack: true },\n        $currentPageEl[0],\n      );\n\n      $el.trigger('swipeback:beforechange', callbackData);\n      router.emit('swipebackBeforeChange', callbackData);\n    } else {\n      $el.trigger('swipeback:beforereset', callbackData);\n      router.emit('swipebackBeforeReset', callbackData);\n    }\n\n    $currentPageEl.transitionEnd(() => {\n      $pages.removeClass('page-transitioning page-transitioning-swipeback');\n      if (dynamicNavbar) {\n        setAnimatableNavElements({ reset: true, transition: false });\n      }\n      allowViewTouchMove = true;\n      router.allowPageChange = true;\n      if (pageChanged) {\n        // Update History\n        if (router.history.length === 1) {\n          router.history.unshift(router.url);\n        }\n        router.history.pop();\n        router.saveHistory();\n\n        // Update push state\n        if (params.browserHistory) {\n          History.back();\n        }\n\n        // Page after animation callback\n        router.pageCallback('afterOut', $currentPageEl, $currentNavbarEl, 'current', 'next', {\n          route: $currentPageEl[0].t4Page.route,\n          swipeBack: true,\n        });\n        router.pageCallback('afterIn', $previousPageEl, $previousNavbarEl, 'previous', 'current', {\n          route: $previousPageEl[0].t4Page.route,\n          swipeBack: true,\n        });\n\n        // Remove Old Page\n        if (params.stackPages && router.initialPages.indexOf($currentPageEl[0]) >= 0) {\n          $currentPageEl.addClass('stacked');\n          if (dynamicNavbar) {\n            $currentNavbarEl.addClass('stacked');\n          }\n        } else {\n          router.pageCallback('beforeRemove', $currentPageEl, $currentNavbarEl, 'next', {\n            swipeBack: true,\n          });\n          router.removePage($currentPageEl);\n          if (dynamicNavbar) {\n            router.removeNavbar($currentNavbarEl);\n          }\n        }\n\n        $el.trigger('swipeback:afterchange', callbackData);\n        router.emit('swipebackAfterChange', callbackData);\n\n        router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n\n        if (params.preloadPreviousPage) {\n          router.back(router.history[router.history.length - 2], { preload: true });\n        }\n      } else {\n        $el.trigger('swipeback:afterreset', callbackData);\n        router.emit('swipebackAfterReset', callbackData);\n      }\n      if ($pageShadowEl && $pageShadowEl.length > 0) $pageShadowEl.remove();\n      if ($pageOpacityEl && $pageOpacityEl.length > 0) $pageOpacityEl.remove();\n    });\n  }\n\n  function attachEvents() {\n    const passiveListener =\n      app.touchEvents.start === 'touchstart' && support.passiveListener\n        ? { passive: true, capture: false }\n        : false;\n    $el.on(app.touchEvents.start, handleTouchStart, passiveListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n  }\n  function detachEvents() {\n    const passiveListener =\n      app.touchEvents.start === 'touchstart' && support.passiveListener\n        ? { passive: true, capture: false }\n        : false;\n    $el.off(app.touchEvents.start, handleTouchStart, passiveListener);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n  }\n\n  attachEvents();\n\n  router.on('routerDestroy', detachEvents);\n}\n\nexport default SwipeBack;\n","import { extend } from '../../shared/utils.js';\n\nexport default function redirect(direction, route, options) {\n  const router = this;\n  const r = route.route.redirect;\n  const method = direction === 'forward' ? 'navigate' : 'back';\n  if (options.initial && router.params.browserHistory) {\n    options.replaceState = true; // eslint-disable-line\n    options.history = true; // eslint-disable-line\n  }\n  function redirectResolve(redirectUrl, redirectOptions = {}) {\n    router.allowPageChange = true;\n    router[method](redirectUrl, extend({}, options, redirectOptions));\n  }\n  function redirectReject() {\n    router.allowPageChange = true;\n  }\n  if (typeof r === 'function') {\n    router.allowPageChange = false;\n    const redirectUrl = r.call(router, {\n      router,\n      to: route,\n      resolve: redirectResolve,\n      reject: redirectReject,\n      direction,\n      app: router.app,\n    });\n    if (redirectUrl && typeof redirectUrl === 'string') {\n      router.allowPageChange = true;\n      return router[method](redirectUrl, options);\n    }\n    return router;\n  }\n  return router[method](r, options);\n}\n","function processQueue(router, routerQueue, routeQueue, to, from, resolve, reject, direction) {\n  const queue = [];\n\n  if (Array.isArray(routeQueue)) {\n    queue.push(...routeQueue);\n  } else if (routeQueue && typeof routeQueue === 'function') {\n    queue.push(routeQueue);\n  }\n  if (routerQueue) {\n    if (Array.isArray(routerQueue)) {\n      queue.push(...routerQueue);\n    } else {\n      queue.push(routerQueue);\n    }\n  }\n\n  function next() {\n    if (queue.length === 0) {\n      resolve();\n      return;\n    }\n    const queueItem = queue.shift();\n\n    queueItem.call(router, {\n      router,\n      to,\n      from,\n      resolve() {\n        next();\n      },\n      reject() {\n        reject();\n      },\n      direction,\n      app: router.app,\n    });\n  }\n  next();\n}\n\nexport default function processRouteQueue(to, from, resolve, reject, direction) {\n  const router = this;\n  function enterNextRoute() {\n    if (to && to.route && (router.params.routesBeforeEnter || to.route.beforeEnter)) {\n      router.allowPageChange = false;\n      processQueue(\n        router,\n        router.params.routesBeforeEnter,\n        to.route.beforeEnter,\n        to,\n        from,\n        () => {\n          router.allowPageChange = true;\n          resolve();\n        },\n        () => {\n          reject();\n        },\n        direction,\n      );\n    } else {\n      resolve();\n    }\n  }\n  function leaveCurrentRoute() {\n    if (from && from.route && (router.params.routesBeforeLeave || from.route.beforeLeave)) {\n      router.allowPageChange = false;\n      processQueue(\n        router,\n        router.params.routesBeforeLeave,\n        from.route.beforeLeave,\n        to,\n        from,\n        () => {\n          router.allowPageChange = true;\n          enterNextRoute();\n        },\n        () => {\n          reject();\n        },\n        direction,\n      );\n    } else {\n      enterNextRoute();\n    }\n  }\n  leaveCurrentRoute();\n}\n","export default function appRouterCheck(router, method) {\n  if (!router.view) {\n    throw new Error(\n      `techno4: it is not allowed to use router methods on global app router. Use router methods only on related View, e.g. app.views.main.router.${method}(...)`,\n    );\n  }\n}\n","export default function asyncComponent(router, component, resolve, reject) {\n  function resolvePromise(componentPromise) {\n    componentPromise\n      .then((c) => {\n        // eslint-disable-next-line\n        resolve({ component: c.default || c._default || c });\n      })\n      .catch((err) => {\n        reject();\n        throw new Error(err);\n      });\n  }\n  if (component instanceof Promise) {\n    resolvePromise(component);\n    return;\n  }\n  const asyncComponentResult = component.call(router);\n  if (asyncComponentResult instanceof Promise) {\n    resolvePromise(asyncComponentResult);\n  } else {\n    resolve({ component: asyncComponentResult });\n  }\n}\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom64.js';\nimport { extend, parseUrlQuery } from '../../shared/utils.js';\nimport History from '../../shared/history.js';\nimport redirect from './redirect.js';\nimport processRouteQueue from './process-route-queue.js';\nimport appRouterCheck from './app-router-check.js';\nimport asyncComponent from './async-component.js';\n\nfunction refreshPage() {\n  const router = this;\n  appRouterCheck(router, 'refreshPage');\n  return router.navigate(router.currentRoute.url, {\n    ignoreCache: true,\n    reloadCurrent: true,\n  });\n}\n\nfunction forward(router, el, forwardOptions = {}) {\n  const document = getDocument();\n  const $el = $(el);\n  const app = router.app;\n  const view = router.view;\n  const options = extend(\n    false,\n    {\n      animate: router.params.animate,\n      browserHistory: true,\n      replaceState: false,\n      history: true,\n      reloadCurrent: router.params.reloadPages,\n      reloadPrevious: false,\n      reloadAll: false,\n      clearPreviousHistory: false,\n      reloadDetail: router.params.reloadDetail,\n      on: {},\n    },\n    forwardOptions,\n  );\n\n  const masterDetailEnabled = router.params.masterDetailBreakpoint > 0;\n  const isMaster =\n    masterDetailEnabled &&\n    options.route &&\n    options.route.route &&\n    (options.route.route.master === true ||\n      (typeof options.route.route.master === 'function' &&\n        options.route.route.master(app, router)));\n\n  let masterPageEl;\n  let otherDetailPageEl;\n  let detailsInBetweenRemoved = 0;\n\n  let currentRouteIsModal = router.currentRoute.modal;\n  let modalType;\n  if (!currentRouteIsModal) {\n    'popup popover sheet loginScreen actions customModal panel'\n      .split(' ')\n      .forEach((modalLoadProp) => {\n        if (\n          router.currentRoute &&\n          router.currentRoute.route &&\n          router.currentRoute.route[modalLoadProp]\n        ) {\n          currentRouteIsModal = true;\n          modalType = modalLoadProp;\n        }\n      });\n  }\n\n  if (currentRouteIsModal) {\n    const modalToClose =\n      router.currentRoute.modal || router.currentRoute.route.modalInstance || app[modalType].get();\n    const previousUrl = router.history[router.history.length - 2];\n    let previousRoute = router.findMatchingRoute(previousUrl);\n    if (!previousRoute && previousUrl) {\n      previousRoute = {\n        url: previousUrl,\n        path: previousUrl.split('?')[0],\n        query: parseUrlQuery(previousUrl),\n        route: {\n          path: previousUrl.split('?')[0],\n          url: previousUrl,\n        },\n      };\n    }\n\n    router.modalRemove(modalToClose);\n  }\n\n  const dynamicNavbar = router.dynamicNavbar;\n\n  const $viewEl = router.$el;\n  const $newPage = $el;\n  const reload = options.reloadPrevious || options.reloadCurrent || options.reloadAll;\n  let $oldPage;\n\n  let $navbarsEl;\n  let $newNavbarEl;\n  let $oldNavbarEl;\n\n  router.allowPageChange = false;\n  if ($newPage.length === 0) {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  if ($newPage.length) {\n    // Remove theme elements\n    router.removeThemeElements($newPage);\n  }\n\n  if (dynamicNavbar) {\n    $newNavbarEl = $newPage.children('.navbar');\n    $navbarsEl = router.$navbarsEl;\n    if ($newNavbarEl.length === 0 && $newPage[0] && $newPage[0].t4Page) {\n      // Try from pageData\n      $newNavbarEl = $newPage[0].t4Page.$navbarEl;\n    }\n  }\n\n  // Save Keep Alive Cache\n  if (\n    options.route &&\n    options.route.route &&\n    options.route.route.keepAlive &&\n    !options.route.route.keepAliveData\n  ) {\n    options.route.route.keepAliveData = {\n      pageEl: $el[0],\n    };\n  }\n\n  // Pages In View\n  const $pagesInView = $viewEl\n    .children('.page:not(.stacked)')\n    .filter((pageInView) => pageInView !== $newPage[0]);\n\n  // Navbars In View\n  let $navbarsInView;\n  if (dynamicNavbar) {\n    $navbarsInView = $navbarsEl\n      .children('.navbar:not(.stacked)')\n      .filter((navbarInView) => navbarInView !== $newNavbarEl[0]);\n  }\n\n  // Exit when reload previous and only 1 page in view so nothing ro reload\n  if (options.reloadPrevious && $pagesInView.length < 2) {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  // Find Detail' master page\n  let isDetail;\n  let reloadDetail;\n  let isDetailRoot;\n  if (masterDetailEnabled && !options.reloadAll) {\n    for (let i = 0; i < $pagesInView.length; i += 1) {\n      if (!masterPageEl && $pagesInView[i].classList.contains('page-master')) {\n        masterPageEl = $pagesInView[i];\n        continue; // eslint-disable-line\n      }\n    }\n    isDetail = !isMaster && masterPageEl;\n\n    if (isDetail) {\n      // Find Other Detail\n      if (masterPageEl) {\n        for (let i = 0; i < $pagesInView.length; i += 1) {\n          if ($pagesInView[i].classList.contains('page-master-detail')) {\n            otherDetailPageEl = $pagesInView[i];\n            continue; // eslint-disable-line\n          }\n        }\n      }\n    }\n    reloadDetail =\n      isDetail &&\n      options.reloadDetail &&\n      app.width >= router.params.masterDetailBreakpoint &&\n      masterPageEl;\n  }\n  if (isDetail) {\n    isDetailRoot = !otherDetailPageEl || reloadDetail || options.reloadAll || options.reloadCurrent;\n  }\n\n  // New Page\n  let newPagePosition = 'next';\n  if (options.reloadCurrent || options.reloadAll || reloadDetail) {\n    newPagePosition = 'current';\n  } else if (options.reloadPrevious) {\n    newPagePosition = 'previous';\n  }\n  $newPage\n    .removeClass('page-previous page-current page-next')\n    .addClass(\n      `page-${newPagePosition}${isMaster ? ' page-master' : ''}${\n        isDetail ? ' page-master-detail' : ''\n      }${isDetailRoot ? ' page-master-detail-root' : ''}`,\n    )\n    .removeClass('stacked')\n    .trigger('page:unstack')\n    .trigger('page:position', { position: newPagePosition });\n  router.emit('pageUnstack', $newPage[0]);\n  router.emit('pagePosition', $newPage[0], newPagePosition);\n\n  if (isMaster || isDetail) {\n    $newPage.trigger('page:role', { role: isMaster ? 'master' : 'detail', root: !!isDetailRoot });\n    router.emit('pageRole', $newPage[0], {\n      role: isMaster ? 'master' : 'detail',\n      detailRoot: !!isDetailRoot,\n    });\n  }\n\n  if (dynamicNavbar && $newNavbarEl.length) {\n    $newNavbarEl\n      .removeClass('navbar-previous navbar-current navbar-next')\n      .addClass(\n        `navbar-${newPagePosition}${isMaster ? ' navbar-master' : ''}${\n          isDetail ? ' navbar-master-detail' : ''\n        }${isDetailRoot ? ' navbar-master-detail-root' : ''}`,\n      )\n      .removeClass('stacked');\n    $newNavbarEl.trigger('navbar:position', { position: newPagePosition });\n    router.emit('navbarPosition', $newNavbarEl[0], newPagePosition);\n    if (isMaster || isDetail) {\n      router.emit('navbarRole', $newNavbarEl[0], {\n        role: isMaster ? 'master' : 'detail',\n        detailRoot: !!isDetailRoot,\n      });\n    }\n  }\n\n  // Find Old Page\n  if (options.reloadCurrent || reloadDetail) {\n    if (reloadDetail) {\n      $oldPage = $pagesInView.filter((pageEl) => !pageEl.classList.contains('page-master'));\n      if (dynamicNavbar) {\n        $oldNavbarEl = $($oldPage.map((pageEl) => app.navbar.getElByPage(pageEl)));\n      }\n      if ($oldPage.length > 1 && masterPageEl) {\n        detailsInBetweenRemoved = $oldPage.length - 1;\n        $(masterPageEl).removeClass('page-master-stacked').trigger('page:masterunstack');\n        router.emit('pageMasterUnstack', masterPageEl);\n        if (dynamicNavbar) {\n          $(app.navbar.getElByPage(masterPageEl)).removeClass('navbar-master-stacked');\n          router.emit('navbarMasterUnstack', app.navbar.getElByPage(masterPageEl));\n        }\n      }\n    } else {\n      $oldPage = $pagesInView.eq($pagesInView.length - 1);\n      if (dynamicNavbar) {\n        $oldNavbarEl = $(app.navbar.getElByPage($oldPage));\n      }\n    }\n  } else if (options.reloadPrevious) {\n    $oldPage = $pagesInView.eq($pagesInView.length - 2);\n    if (dynamicNavbar) {\n      // $oldNavbarEl = $navbarsInView.eq($pagesInView.length - 2);\n      $oldNavbarEl = $(app.navbar.getElByPage($oldPage));\n    }\n  } else if (options.reloadAll) {\n    $oldPage = $pagesInView.filter((pageEl) => pageEl !== $newPage[0]);\n    if (dynamicNavbar) {\n      $oldNavbarEl = $navbarsInView.filter((navbarEl) => navbarEl !== $newNavbarEl[0]);\n    }\n  } else {\n    let removedPageEls = [];\n    let removedNavbarEls = [];\n    if ($pagesInView.length > 1) {\n      let i = 0;\n      for (i = 0; i < $pagesInView.length - 1; i += 1) {\n        if (masterPageEl && $pagesInView[i] === masterPageEl) {\n          $pagesInView.eq(i).addClass('page-master-stacked');\n          $pagesInView.eq(i).trigger('page:masterstack');\n          router.emit('pageMasterStack', $pagesInView[i]);\n          if (dynamicNavbar) {\n            $(app.navbar.getElByPage(masterPageEl)).addClass('navbar-master-stacked');\n            router.emit('navbarMasterStack', app.navbar.getElByPage(masterPageEl));\n          }\n          continue; // eslint-disable-line\n        }\n        const oldNavbarEl = app.navbar.getElByPage($pagesInView.eq(i));\n        if (router.params.stackPages) {\n          $pagesInView.eq(i).addClass('stacked');\n          $pagesInView.eq(i).trigger('page:stack');\n          router.emit('pageStack', $pagesInView[i]);\n          if (dynamicNavbar) {\n            $(oldNavbarEl).addClass('stacked');\n          }\n        } else {\n          // Page remove event\n          removedPageEls.push($pagesInView[i]);\n          router.pageCallback(\n            'beforeRemove',\n            $pagesInView[i],\n            $navbarsInView && $navbarsInView[i],\n            'previous',\n            undefined,\n            options,\n          );\n          router.removePage($pagesInView[i]);\n          if (dynamicNavbar && oldNavbarEl) {\n            removedNavbarEls.push(oldNavbarEl);\n            router.removeNavbar(oldNavbarEl);\n          }\n        }\n      }\n    }\n    $oldPage = $viewEl\n      .children('.page:not(.stacked)')\n      .filter((pageEl) => pageEl !== $newPage[0] && removedPageEls.indexOf(pageEl) < 0);\n    if (dynamicNavbar) {\n      $oldNavbarEl = $navbarsEl\n        .children('.navbar:not(.stacked)')\n        .filter(\n          (navbarEl) =>\n            navbarEl !== $newNavbarEl[0] && removedNavbarEls.indexOf(removedNavbarEls) < 0,\n        );\n    }\n    removedPageEls = [];\n    removedNavbarEls = [];\n  }\n\n  if (isDetail && !options.reloadAll) {\n    if ($oldPage.length > 1 || reloadDetail) {\n      $oldPage = $oldPage.filter((pageEl) => !pageEl.classList.contains('page-master'));\n    }\n    if ($oldNavbarEl && ($oldNavbarEl.length > 1 || reloadDetail)) {\n      $oldNavbarEl = $oldNavbarEl.filter(\n        (navbarEl) => !navbarEl.classList.contains('navbar-master'),\n      );\n    }\n  }\n\n  // Push State\n  if (\n    router.params.browserHistory &&\n    (options.browserHistory || options.replaceState) &&\n    !options.reloadPrevious\n  ) {\n    const browserHistoryRoot = router.params.browserHistoryRoot || '';\n    History[\n      options.reloadCurrent ||\n      (reloadDetail && otherDetailPageEl) ||\n      options.reloadAll ||\n      options.replaceState\n        ? 'replace'\n        : 'push'\n    ](\n      view.id,\n      {\n        url: options.route.url,\n      },\n      browserHistoryRoot + router.params.browserHistorySeparator + options.route.url,\n    );\n  }\n\n  if (!options.reloadPrevious) {\n    // Current Page & Navbar\n    router.currentPageEl = $newPage[0];\n    if (dynamicNavbar && $newNavbarEl.length) {\n      router.currentNavbarEl = $newNavbarEl[0];\n    } else {\n      delete router.currentNavbarEl;\n    }\n\n    // Current Route\n    router.currentRoute = options.route;\n  }\n\n  // Update router history\n  const url = options.route.url;\n\n  if (options.history) {\n    if (\n      ((options.reloadCurrent || (reloadDetail && otherDetailPageEl)) && router.history.length) >\n        0 ||\n      options.replaceState\n    ) {\n      if (reloadDetail && detailsInBetweenRemoved > 0) {\n        router.history = router.history.slice(0, router.history.length - detailsInBetweenRemoved);\n      }\n      router.history[router.history.length - (options.reloadPrevious ? 2 : 1)] = url;\n    } else if (options.reloadPrevious) {\n      router.history[router.history.length - 2] = url;\n    } else if (options.reloadAll) {\n      router.history = [url];\n    } else {\n      router.history.push(url);\n    }\n  }\n  router.saveHistory();\n\n  // Insert new page and navbar\n  const newPageInDom = $newPage.parents(document).length > 0;\n  const t4Component = $newPage[0].t4Component;\n  if (options.reloadPrevious) {\n    if (t4Component && !newPageInDom) {\n      t4Component.mount((componentEl) => {\n        $(componentEl).insertBefore($oldPage);\n      });\n    } else {\n      $newPage.insertBefore($oldPage);\n    }\n    if (dynamicNavbar && $newNavbarEl.length) {\n      if ($newNavbarEl.find('.title-large').length) {\n        $newNavbarEl.addClass('navbar-large');\n      }\n      if ($oldNavbarEl.length) {\n        $newNavbarEl.insertBefore($oldNavbarEl);\n      } else {\n        if (!router.$navbarsEl.parents(document).length) {\n          router.$el.prepend(router.$navbarsEl);\n        }\n        $navbarsEl.append($newNavbarEl);\n      }\n    }\n  } else {\n    if ($oldPage.next('.page')[0] !== $newPage[0]) {\n      if (t4Component && !newPageInDom) {\n        t4Component.mount((componentEl) => {\n          $viewEl.append(componentEl);\n        });\n      } else {\n        $viewEl.append($newPage[0]);\n      }\n    }\n    if (dynamicNavbar && $newNavbarEl.length) {\n      if ($newNavbarEl.find('.title-large').length) {\n        $newNavbarEl.addClass('navbar-large');\n      }\n      if (!router.$navbarsEl.parents(document).length) {\n        router.$el.prepend(router.$navbarsEl);\n      }\n      $navbarsEl.append($newNavbarEl[0]);\n    }\n  }\n  if (!newPageInDom) {\n    router.pageCallback(\n      'mounted',\n      $newPage,\n      $newNavbarEl,\n      newPagePosition,\n      reload ? newPagePosition : 'current',\n      options,\n      $oldPage,\n    );\n  } else if (\n    options.route &&\n    options.route.route &&\n    options.route.route.keepAlive &&\n    !$newPage[0].t4PageMounted\n  ) {\n    $newPage[0].t4PageMounted = true;\n    router.pageCallback(\n      'mounted',\n      $newPage,\n      $newNavbarEl,\n      newPagePosition,\n      reload ? newPagePosition : 'current',\n      options,\n      $oldPage,\n    );\n  }\n\n  // Remove old page\n  if ((options.reloadCurrent || reloadDetail) && $oldPage.length > 0) {\n    if (router.params.stackPages && router.initialPages.indexOf($oldPage[0]) >= 0) {\n      $oldPage.addClass('stacked');\n      $oldPage.trigger('page:stack');\n      router.emit('pageStack', $oldPage[0]);\n      if (dynamicNavbar) {\n        $oldNavbarEl.addClass('stacked');\n      }\n    } else {\n      // Page remove event\n      router.pageCallback('beforeOut', $oldPage, $oldNavbarEl, 'current', undefined, options);\n      router.pageCallback('afterOut', $oldPage, $oldNavbarEl, 'current', undefined, options);\n      router.pageCallback('beforeRemove', $oldPage, $oldNavbarEl, 'current', undefined, options);\n      router.removePage($oldPage);\n      if (dynamicNavbar && $oldNavbarEl && $oldNavbarEl.length) {\n        router.removeNavbar($oldNavbarEl);\n      }\n    }\n  } else if (options.reloadAll) {\n    $oldPage.each((pageEl, index) => {\n      const $oldPageEl = $(pageEl);\n      const $oldNavbarElEl = $(app.navbar.getElByPage($oldPageEl));\n      if (router.params.stackPages && router.initialPages.indexOf($oldPageEl[0]) >= 0) {\n        $oldPageEl.addClass('stacked');\n        $oldPageEl.trigger('page:stack');\n        router.emit('pageStack', $oldPageEl[0]);\n        if (dynamicNavbar) {\n          $oldNavbarElEl.addClass('stacked');\n        }\n      } else {\n        // Page remove event\n        if ($oldPageEl.hasClass('page-current')) {\n          router.pageCallback('beforeOut', $oldPage, $oldNavbarEl, 'current', undefined, options);\n          router.pageCallback('afterOut', $oldPage, $oldNavbarEl, 'current', undefined, options);\n        }\n        router.pageCallback(\n          'beforeRemove',\n          $oldPageEl,\n          $oldNavbarEl && $oldNavbarEl.eq(index),\n          'previous',\n          undefined,\n          options,\n        );\n        router.removePage($oldPageEl);\n        if (dynamicNavbar && $oldNavbarElEl.length) {\n          router.removeNavbar($oldNavbarElEl);\n        }\n      }\n    });\n  } else if (options.reloadPrevious) {\n    if (router.params.stackPages && router.initialPages.indexOf($oldPage[0]) >= 0) {\n      $oldPage.addClass('stacked');\n      $oldPage.trigger('page:stack');\n      router.emit('pageStack', $oldPage[0]);\n      if (dynamicNavbar) {\n        $oldNavbarEl.addClass('stacked');\n      }\n    } else {\n      // Page remove event\n      router.pageCallback('beforeRemove', $oldPage, $oldNavbarEl, 'previous', undefined, options);\n      router.removePage($oldPage);\n      if (dynamicNavbar && $oldNavbarEl && $oldNavbarEl.length) {\n        router.removeNavbar($oldNavbarEl);\n      }\n    }\n  }\n\n  // Load Tab\n  if (options.route.route.tab) {\n    router.tabLoad(\n      options.route.route.tab,\n      extend({}, options, {\n        history: false,\n        browserHistory: false,\n      }),\n    );\n  }\n\n  // Check master detail\n  if (masterDetailEnabled) {\n    view.checkMasterDetailBreakpoint();\n  }\n\n  // Page init and before init events\n  router.pageCallback(\n    'init',\n    $newPage,\n    $newNavbarEl,\n    newPagePosition,\n    reload ? newPagePosition : 'current',\n    options,\n    $oldPage,\n  );\n\n  if (options.reloadCurrent || options.reloadAll || reloadDetail) {\n    router.allowPageChange = true;\n    router.pageCallback('beforeIn', $newPage, $newNavbarEl, newPagePosition, 'current', options);\n    $newPage.removeAttr('aria-hidden');\n    if (dynamicNavbar && $newNavbarEl) {\n      $newNavbarEl.removeAttr('aria-hidden');\n    }\n    router.pageCallback('afterIn', $newPage, $newNavbarEl, newPagePosition, 'current', options);\n    if (options.reloadCurrent && options.clearPreviousHistory) router.clearPreviousHistory();\n    if (reloadDetail) {\n      router.setPagePosition($(masterPageEl), 'previous');\n      if (masterPageEl.t4Page && masterPageEl.t4Page.navbarEl) {\n        router.setNavbarPosition($(masterPageEl.t4Page.navbarEl), 'previous');\n      }\n    }\n    return router;\n  }\n  if (options.reloadPrevious) {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  // Before animation event\n  router.pageCallback('beforeOut', $oldPage, $oldNavbarEl, 'current', 'previous', options);\n  router.pageCallback('beforeIn', $newPage, $newNavbarEl, 'next', 'current', options);\n\n  // Animation\n  function afterAnimation() {\n    router.setPagePosition($newPage, 'current', false);\n    router.setPagePosition($oldPage, 'previous', !$oldPage.hasClass('page-master'));\n    if (dynamicNavbar) {\n      router.setNavbarPosition($newNavbarEl, 'current', false);\n      router.setNavbarPosition($oldNavbarEl, 'previous', !$oldNavbarEl.hasClass('navbar-master'));\n    }\n    // After animation event\n    router.allowPageChange = true;\n    router.pageCallback('afterOut', $oldPage, $oldNavbarEl, 'current', 'previous', options);\n    router.pageCallback('afterIn', $newPage, $newNavbarEl, 'next', 'current', options);\n\n    let keepOldPage =\n      (router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`]) && !isMaster;\n    if (!keepOldPage) {\n      if (\n        $newPage.hasClass('smart-select-page') ||\n        $newPage.hasClass('photo-browser-page') ||\n        $newPage.hasClass('autocomplete-page') ||\n        $newPage.hasClass('color-picker-page')\n      ) {\n        keepOldPage = true;\n      }\n    }\n    if (!keepOldPage) {\n      if (router.params.stackPages) {\n        $oldPage.addClass('stacked');\n        $oldPage.trigger('page:stack');\n        router.emit('pageStack', $oldPage[0]);\n        if (dynamicNavbar) {\n          $oldNavbarEl.addClass('stacked');\n        }\n      } else if (\n        !($newPage.attr('data-name') && $newPage.attr('data-name') === 'smart-select-page')\n      ) {\n        // Remove event\n        router.pageCallback('beforeRemove', $oldPage, $oldNavbarEl, 'previous', undefined, options);\n        router.removePage($oldPage);\n        if (dynamicNavbar && $oldNavbarEl.length) {\n          router.removeNavbar($oldNavbarEl);\n        }\n      }\n    }\n    if (options.clearPreviousHistory) router.clearPreviousHistory();\n    router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n\n    if (router.params.browserHistory) {\n      History.clearRouterQueue();\n    }\n  }\n  function setPositionClasses() {\n    router.setPagePosition($oldPage, 'current', false);\n    router.setPagePosition($newPage, 'next', false);\n    if (dynamicNavbar) {\n      router.setNavbarPosition($oldNavbarEl, 'current', false);\n      router.setNavbarPosition($newNavbarEl, 'next', false);\n    }\n  }\n  if (options.animate && !(isMaster && app.width >= router.params.masterDetailBreakpoint)) {\n    const delay = router.params[`${router.app.theme}PageLoadDelay`];\n    let transition = router.params.transition;\n    if (options.transition) transition = options.transition;\n    if (!transition && router.currentRoute && router.currentRoute.route) {\n      transition = router.currentRoute.route.transition;\n    }\n    if (!transition && router.currentRoute && router.currentRoute.route.options) {\n      transition = router.currentRoute.route.options.transition;\n    }\n    if (transition) {\n      $newPage[0].t4PageTransition = transition;\n    }\n\n    if (delay) {\n      setTimeout(() => {\n        setPositionClasses();\n        router.animate(\n          $oldPage,\n          $newPage,\n          $oldNavbarEl,\n          $newNavbarEl,\n          'forward',\n          transition,\n          () => {\n            afterAnimation();\n          },\n        );\n      }, delay);\n    } else {\n      setPositionClasses();\n      router.animate($oldPage, $newPage, $oldNavbarEl, $newNavbarEl, 'forward', transition, () => {\n        afterAnimation();\n      });\n    }\n  } else {\n    afterAnimation();\n  }\n  return router;\n}\nfunction load(router, loadParams = {}, loadOptions = {}, ignorePageChange) {\n  if (!router.allowPageChange && !ignorePageChange) return router;\n  const params = loadParams;\n  const options = loadOptions;\n  const { url, content, el, pageName, component, componentUrl } = params;\n\n  if (\n    !options.reloadCurrent &&\n    options.route &&\n    options.route.route &&\n    options.route.route.parentPath &&\n    router.currentRoute.route &&\n    router.currentRoute.route.parentPath === options.route.route.parentPath\n  ) {\n    // Do something nested\n    if (options.route.url === router.url) {\n      router.allowPageChange = true;\n      return false;\n    }\n    // Check for same params\n    let sameParams =\n      Object.keys(options.route.params).length === Object.keys(router.currentRoute.params).length;\n    if (sameParams) {\n      // Check for equal params name\n      Object.keys(options.route.params).forEach((paramName) => {\n        if (\n          !(paramName in router.currentRoute.params) ||\n          router.currentRoute.params[paramName] !== options.route.params[paramName]\n        ) {\n          sameParams = false;\n        }\n      });\n    }\n    if (sameParams) {\n      if (options.route.route.tab) {\n        return router.tabLoad(options.route.route.tab, options);\n      }\n      return false;\n    }\n    if (\n      !sameParams &&\n      options.route.route.tab &&\n      router.currentRoute.route.tab &&\n      router.currentRoute.parentPath === options.route.parentPath\n    ) {\n      return router.tabLoad(options.route.route.tab, options);\n    }\n  }\n\n  if (\n    options.route &&\n    options.route.url &&\n    router.url === options.route.url &&\n    !(options.reloadCurrent || options.reloadPrevious) &&\n    !router.params.allowDuplicateUrls\n  ) {\n    router.allowPageChange = true;\n    return false;\n  }\n\n  if (!options.route && url) {\n    options.route = router.parseRouteUrl(url);\n    extend(options.route, { route: { url, path: url } });\n  }\n\n  // Component Callbacks\n  function resolve(pageEl, newOptions) {\n    return forward(router, pageEl, extend(options, newOptions));\n  }\n  function reject() {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  if (url || componentUrl || component) {\n    router.allowPageChange = false;\n  }\n\n  // Proceed\n  if (content) {\n    forward(router, router.getPageEl(content), options);\n  } else if (el) {\n    // Load page from specified HTMLElement or by page name in pages container\n    forward(router, router.getPageEl(el), options);\n  } else if (pageName) {\n    // Load page by page name in pages container\n    forward(router, router.$el.children(`.page[data-name=\"${pageName}\"]`).eq(0), options);\n  } else if (component || componentUrl) {\n    // Load from component (t4/Vue/React/...)\n    try {\n      router.pageComponentLoader({\n        routerEl: router.el,\n        component,\n        componentUrl,\n        options,\n        resolve,\n        reject,\n      });\n    } catch (err) {\n      router.allowPageChange = true;\n      throw err;\n    }\n  } else if (url) {\n    // Load using XHR\n    if (router.xhrAbortController) {\n      router.xhrAbortController.abort();\n      router.xhrAbortController = false;\n    }\n    router\n      .xhrRequest(url, options)\n      .then((pageContent) => {\n        forward(router, router.getPageEl(pageContent), options);\n      })\n      .catch(() => {\n        router.allowPageChange = true;\n      });\n  }\n  return router;\n}\n\nfunction navigate(navigateParams, navigateOptions = {}) {\n  const router = this;\n\n  if (router.swipeBackActive) return router;\n  let url;\n  let createRoute;\n  let name;\n  let path;\n  let query;\n  let params;\n  let route;\n  if (typeof navigateParams === 'string') {\n    url = navigateParams;\n  } else {\n    url = navigateParams.url;\n    createRoute = navigateParams.route;\n    name = navigateParams.name;\n    path = navigateParams.path;\n    query = navigateParams.query;\n    params = navigateParams.params;\n  }\n  if (name || path) {\n    url = router.generateUrl({ path, name, params, query });\n    if (url) {\n      return router.navigate(url, navigateOptions);\n    }\n    return router;\n  }\n  const app = router.app;\n  appRouterCheck(router, 'navigate');\n  if (url === '#' || url === '') {\n    return router;\n  }\n\n  let navigateUrl = url.replace('./', '');\n  if (navigateUrl[0] !== '/' && navigateUrl.indexOf('#') !== 0) {\n    const currentPath = router.currentRoute.parentPath || router.currentRoute.path;\n    navigateUrl = ((currentPath ? `${currentPath}/` : '/') + navigateUrl)\n      .replace('///', '/')\n      .replace('//', '/');\n  }\n  if (createRoute) {\n    route = extend(router.parseRouteUrl(navigateUrl), {\n      route: extend({}, createRoute),\n    });\n  } else {\n    route = router.findMatchingRoute(navigateUrl);\n  }\n\n  if (!route) {\n    return router;\n  }\n  if (route.route && route.route.viewName) {\n    const anotherViewName = route.route.viewName;\n    const anotherView = app.views[anotherViewName];\n    if (!anotherView) {\n      throw new Error(\n        `techno4: There is no View with \"${anotherViewName}\" name that was specified in this route`,\n      );\n    }\n    if (anotherView !== router.view) {\n      return anotherView.router.navigate(navigateParams, navigateOptions);\n    }\n  }\n\n  if (route.route.redirect) {\n    return redirect.call(router, 'forward', route, navigateOptions);\n  }\n\n  const options = {};\n  if (route.route.options) {\n    extend(options, route.route.options, navigateOptions);\n  } else {\n    extend(options, navigateOptions);\n  }\n\n  if (\n    options.openIn &&\n    (!router.params.ignoreOpenIn || (router.params.ignoreOpenIn && router.history.length > 0))\n  ) {\n    return router.openIn(router, navigateUrl, options);\n  }\n\n  options.route = route;\n\n  function resolve() {\n    let routerLoaded = false;\n    'popup popover sheet loginScreen actions customModal panel'\n      .split(' ')\n      .forEach((modalLoadProp) => {\n        if (route.route[modalLoadProp] && !routerLoaded) {\n          routerLoaded = true;\n          router.modalLoad(modalLoadProp, route, options, 'forward');\n        }\n      });\n    if (route.route.keepAlive && route.route.keepAliveData) {\n      load(router, { el: route.route.keepAliveData.pageEl }, options, false);\n      routerLoaded = true;\n    }\n    'url content component pageName el componentUrl'.split(' ').forEach((pageLoadProp) => {\n      if (route.route[pageLoadProp] && !routerLoaded) {\n        routerLoaded = true;\n        load(router, { [pageLoadProp]: route.route[pageLoadProp] }, options, false);\n      }\n    });\n    if (routerLoaded) return;\n    // Async\n    function asyncResolve(resolveParams, resolveOptions) {\n      router.allowPageChange = false;\n      let resolvedAsModal = false;\n\n      'popup popover sheet loginScreen actions customModal panel'\n        .split(' ')\n        .forEach((modalLoadProp) => {\n          if (resolveParams[modalLoadProp]) {\n            resolvedAsModal = true;\n            const modalRoute = extend({}, route, { route: resolveParams });\n            router.allowPageChange = true;\n            router.modalLoad(modalLoadProp, modalRoute, extend(options, resolveOptions), 'forward');\n          }\n        });\n      if (resolvedAsModal) return;\n      load(router, resolveParams, extend(options, resolveOptions), true);\n    }\n    function asyncReject() {\n      router.allowPageChange = true;\n    }\n    if (route.route.async) {\n      router.allowPageChange = false;\n      route.route.async.call(router, {\n        router,\n        to: options.route,\n        from: router.currentRoute,\n        resolve: asyncResolve,\n        reject: asyncReject,\n        direction: 'forward',\n        app,\n      });\n    }\n    if (route.route.asyncComponent) {\n      asyncComponent(router, route.route.asyncComponent, asyncResolve, asyncReject);\n    }\n  }\n  function reject() {\n    router.allowPageChange = true;\n  }\n\n  if (router.params.masterDetailBreakpoint > 0 && route.route.masterRoute) {\n    // load detail route\n    let preloadMaster = true;\n    let masterLoaded = false;\n    if (router.currentRoute && router.currentRoute.route) {\n      if (\n        (router.currentRoute.route.master === true ||\n          (typeof router.currentRoute.route.master === 'function' &&\n            router.currentRoute.route.master(app, router))) &&\n        (router.currentRoute.route === route.route.masterRoute ||\n          router.currentRoute.route.path === route.route.masterRoute.path)\n      ) {\n        preloadMaster = false;\n      }\n      if (\n        router.currentRoute.route.masterRoute &&\n        (router.currentRoute.route.masterRoute === route.route.masterRoute ||\n          router.currentRoute.route.masterRoute.path === route.route.masterRoute.path)\n      ) {\n        preloadMaster = false;\n        masterLoaded = true;\n      }\n    }\n    if (preloadMaster || (masterLoaded && navigateOptions.reloadAll)) {\n      router.navigate(\n        { path: route.route.masterRoute.path, params: route.params || {} },\n        {\n          animate: false,\n          reloadAll: navigateOptions.reloadAll,\n          reloadCurrent: navigateOptions.reloadCurrent,\n          reloadPrevious: navigateOptions.reloadPrevious,\n          browserHistory: !navigateOptions.initial,\n          history: !navigateOptions.initial,\n          once: {\n            pageAfterIn() {\n              router.navigate(\n                navigateParams,\n                extend({}, navigateOptions, {\n                  animate: false,\n                  reloadAll: false,\n                  reloadCurrent: false,\n                  reloadPrevious: false,\n                  history: !navigateOptions.initial,\n                  browserHistory: !navigateOptions.initial,\n                }),\n              );\n            },\n          },\n        },\n      );\n      return router;\n    }\n  }\n\n  processRouteQueue.call(\n    router,\n    route,\n    router.currentRoute,\n    () => {\n      if (route.route.modules) {\n        app\n          .loadModules(\n            Array.isArray(route.route.modules) ? route.route.modules : [route.route.modules],\n          )\n          .then(() => {\n            resolve();\n          })\n          .catch(() => {\n            reject();\n          });\n      } else {\n        resolve();\n      }\n    },\n    () => {\n      reject();\n    },\n    'forward',\n  );\n\n  // Return Router\n  return router;\n}\nexport { refreshPage, navigate };\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom64.js';\nimport { extend, parseUrlQuery } from '../../shared/utils.js';\nimport { getDevice } from '../../shared/get-device.js';\nimport History from '../../shared/history.js';\nimport redirect from './redirect.js';\nimport processRouteQueue from './process-route-queue.js';\nimport appRouterCheck from './app-router-check.js';\nimport asyncComponent from './async-component.js';\n\nfunction backward(router, el, backwardOptions) {\n  const device = getDevice();\n  const document = getDocument();\n  const $el = $(el);\n  const app = router.app;\n  const view = router.view;\n\n  const options = extend(\n    false,\n    {\n      animate: router.params.animate,\n      browserHistory: true,\n      replaceState: false,\n    },\n    backwardOptions,\n  );\n\n  const masterDetailEnabled = router.params.masterDetailBreakpoint > 0;\n  const isMaster =\n    masterDetailEnabled &&\n    options.route &&\n    options.route.route &&\n    (options.route.route.master === true ||\n      (typeof options.route.route.master === 'function' &&\n        options.route.route.master(app, router)));\n  let masterPageEl;\n  let masterPageRemoved;\n\n  const dynamicNavbar = router.dynamicNavbar;\n\n  const $newPage = $el;\n  const $oldPage = router.$el.children('.page-current');\n  const initialPreload = $oldPage.length === 0 && options.preload;\n  const currentIsMaster = masterDetailEnabled && $oldPage.hasClass('page-master');\n\n  if ($newPage.length) {\n    // Remove theme elements\n    router.removeThemeElements($newPage);\n  }\n\n  let $navbarsEl;\n  let $newNavbarEl;\n  let $oldNavbarEl;\n\n  if (dynamicNavbar) {\n    $newNavbarEl = $newPage.children('.navbar');\n    $navbarsEl = router.$navbarsEl;\n    if ($newNavbarEl.length === 0 && $newPage[0] && $newPage[0].t4Page) {\n      // Try from pageData\n      $newNavbarEl = $newPage[0].t4Page.$navbarEl;\n    }\n    $oldNavbarEl = $navbarsEl.find('.navbar-current');\n  }\n\n  router.allowPageChange = false;\n  if ($newPage.length === 0 || ($oldPage.length === 0 && !options.preload)) {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  // Remove theme elements\n  router.removeThemeElements($newPage);\n\n  // Save Keep Alive Cache\n  if (\n    options.route &&\n    options.route.route &&\n    options.route.route.keepAlive &&\n    !options.route.route.keepAliveData\n  ) {\n    options.route.route.keepAliveData = {\n      pageEl: $el[0],\n    };\n  }\n\n  // Pages In View\n  let isDetail;\n  let isDetailRoot;\n  if (masterDetailEnabled) {\n    const $pagesInView = router.$el\n      .children('.page:not(.stacked)')\n      .filter((pageInView) => pageInView !== $newPage[0]);\n\n    // Find Detail' master page\n    for (let i = 0; i < $pagesInView.length; i += 1) {\n      if (!masterPageEl && $pagesInView[i].classList.contains('page-master')) {\n        masterPageEl = $pagesInView[i];\n        continue; // eslint-disable-line\n      }\n    }\n\n    isDetail =\n      !isMaster &&\n      masterPageEl &&\n      router.history.indexOf(options.route.url) >\n        router.history.indexOf(masterPageEl.t4Page.route.url);\n\n    if (\n      !isDetail &&\n      !isMaster &&\n      masterPageEl &&\n      masterPageEl.t4Page &&\n      options.route.route.masterRoute\n    ) {\n      isDetail = options.route.route.masterRoute.path === masterPageEl.t4Page.route.route.path;\n    }\n  }\n  if (isDetail && masterPageEl && masterPageEl.t4Page) {\n    isDetailRoot =\n      router.history.indexOf(options.route.url) -\n        router.history.indexOf(masterPageEl.t4Page.route.url) ===\n      1;\n  }\n\n  // New Page\n  $newPage\n    .addClass(\n      `page-${initialPreload ? 'current' : 'previous'}${isMaster ? ' page-master' : ''}${\n        isDetail ? ' page-master-detail' : ''\n      }${isDetailRoot ? ' page-master-detail-root' : ''}`,\n    )\n    .removeClass('stacked')\n    .removeAttr('aria-hidden')\n    .trigger('page:unstack')\n    .trigger('page:position', { position: initialPreload ? 'current' : 'previous' });\n  router.emit('pageUnstack', $newPage[0]);\n  router.emit('pagePosition', $newPage[0], initialPreload ? 'current' : 'previous');\n  if (isMaster || isDetail) {\n    $newPage.trigger('page:role', { role: isMaster ? 'master' : 'detail', root: !!isDetailRoot });\n    router.emit('pageRole', $newPage[0], {\n      role: isMaster ? 'master' : 'detail',\n      detailRoot: !!isDetailRoot,\n    });\n  }\n\n  if (dynamicNavbar && $newNavbarEl.length > 0) {\n    $newNavbarEl\n      .addClass(\n        `navbar-${initialPreload ? 'current' : 'previous'}${isMaster ? ' navbar-master' : ''}${\n          isDetail ? ' navbar-master-detail' : ''\n        }${isDetailRoot ? ' navbar-master-detail-root' : ''}`,\n      )\n      .removeClass('stacked')\n      .removeAttr('aria-hidden');\n    $newNavbarEl.trigger('navbar:position', { position: initialPreload ? 'current' : 'previous' });\n    router.emit('navbarPosition', $newNavbarEl[0], initialPreload ? 'current' : 'previous');\n    if (isMaster || isDetailRoot) {\n      router.emit('navbarRole', $newNavbarEl[0], {\n        role: isMaster ? 'master' : 'detail',\n        detailRoot: !!isDetailRoot,\n      });\n    }\n  }\n\n  // Remove previous page in case of \"forced\"\n  let backIndex;\n  if (options.force) {\n    if (\n      $oldPage.prev('.page-previous:not(.stacked)').length > 0 ||\n      $oldPage.prev('.page-previous').length === 0\n    ) {\n      if (router.history.indexOf(options.route.url) >= 0) {\n        backIndex = router.history.length - router.history.indexOf(options.route.url) - 1;\n        router.history = router.history.slice(0, router.history.indexOf(options.route.url) + 2);\n        view.history = router.history;\n      } else if (router.history[[router.history.length - 2]]) {\n        router.history[router.history.length - 2] = options.route.url;\n      } else {\n        router.history.unshift(router.url);\n      }\n\n      if (backIndex && router.params.stackPages) {\n        $oldPage.prevAll('.page-previous').each((pageToRemove) => {\n          const $pageToRemove = $(pageToRemove);\n          let $navbarToRemove;\n          if (dynamicNavbar) {\n            // $navbarToRemove = $oldNavbarEl.prevAll('.navbar-previous').eq(index);\n            $navbarToRemove = $(app.navbar.getElByPage($pageToRemove));\n          }\n          if ($pageToRemove[0] !== $newPage[0] && $pageToRemove.index() > $newPage.index()) {\n            if (router.initialPages.indexOf($pageToRemove[0]) >= 0) {\n              $pageToRemove.addClass('stacked');\n              $pageToRemove.trigger('page:stack');\n              router.emit('pageStack', $pageToRemove[0]);\n              if (dynamicNavbar) {\n                $navbarToRemove.addClass('stacked');\n              }\n            } else {\n              router.pageCallback(\n                'beforeRemove',\n                $pageToRemove,\n                $navbarToRemove,\n                'previous',\n                undefined,\n                options,\n              );\n              if ($pageToRemove[0] === masterPageEl) {\n                masterPageRemoved = true;\n              }\n              router.removePage($pageToRemove);\n              if (dynamicNavbar && $navbarToRemove.length > 0) {\n                router.removeNavbar($navbarToRemove);\n              }\n            }\n          }\n        });\n      } else {\n        const $pageToRemove = $oldPage.prev('.page-previous:not(.stacked)');\n        let $navbarToRemove;\n        if (dynamicNavbar) {\n          // $navbarToRemove = $oldNavbarEl.prev('.navbar-inner:not(.stacked)');\n          $navbarToRemove = $(app.navbar.getElByPage($pageToRemove));\n        }\n        if (router.params.stackPages && router.initialPages.indexOf($pageToRemove[0]) >= 0) {\n          $pageToRemove.addClass('stacked');\n          $pageToRemove.trigger('page:stack');\n          router.emit('pageStack', $pageToRemove[0]);\n          $navbarToRemove.addClass('stacked');\n        } else if ($pageToRemove.length > 0) {\n          router.pageCallback(\n            'beforeRemove',\n            $pageToRemove,\n            $navbarToRemove,\n            'previous',\n            undefined,\n            options,\n          );\n          if ($pageToRemove[0] === masterPageEl) {\n            masterPageRemoved = true;\n          }\n          router.removePage($pageToRemove);\n          if (dynamicNavbar && $navbarToRemove.length) {\n            router.removeNavbar($navbarToRemove);\n          }\n        }\n      }\n    }\n  }\n\n  // Insert new page\n  const newPageInDom = $newPage.parents(document).length > 0;\n  const t4Component = $newPage[0].t4Component;\n\n  function insertPage() {\n    if (initialPreload) {\n      if (!newPageInDom && t4Component) {\n        t4Component.mount((componentEl) => {\n          router.$el.append(componentEl);\n        });\n      } else {\n        router.$el.append($newPage);\n      }\n    }\n    if ($newPage.next($oldPage).length === 0) {\n      if (!newPageInDom && t4Component) {\n        t4Component.mount((componentEl) => {\n          $(componentEl).insertBefore($oldPage);\n        });\n      } else {\n        $newPage.insertBefore($oldPage);\n      }\n    }\n    if (dynamicNavbar && $newNavbarEl.length) {\n      if ($newNavbarEl.find('.title-large').length) {\n        $newNavbarEl.addClass('navbar-large');\n      }\n      $newNavbarEl.insertBefore($oldNavbarEl);\n      if ($oldNavbarEl.length > 0) {\n        $newNavbarEl.insertBefore($oldNavbarEl);\n      } else {\n        if (!router.$navbarsEl.parents(document).length) {\n          router.$el.prepend(router.$navbarsEl);\n        }\n        $navbarsEl.append($newNavbarEl);\n      }\n    }\n    if (!newPageInDom) {\n      router.pageCallback(\n        'mounted',\n        $newPage,\n        $newNavbarEl,\n        'previous',\n        'current',\n        options,\n        $oldPage,\n      );\n    } else if (\n      options.route &&\n      options.route.route &&\n      options.route.route.keepAlive &&\n      !$newPage[0].t4PageMounted\n    ) {\n      $newPage[0].t4PageMounted = true;\n      router.pageCallback(\n        'mounted',\n        $newPage,\n        $newNavbarEl,\n        'previous',\n        'current',\n        options,\n        $oldPage,\n      );\n    }\n  }\n\n  if (options.preload) {\n    // Insert Page\n    insertPage();\n    // Tab route\n    if (options.route.route.tab) {\n      router.tabLoad(\n        options.route.route.tab,\n        extend({}, options, {\n          history: false,\n          browserHistory: false,\n          preload: true,\n        }),\n      );\n    }\n    if (isMaster) {\n      $newPage.removeClass('page-master-stacked').trigger('page:masterunstack');\n      router.emit('pageMasterUnstack', $newPage[0]);\n      if (dynamicNavbar) {\n        $(app.navbar.getElByPage($newPage)).removeClass('navbar-master-stacked');\n        router.emit('navbarMasterUnstack', app.navbar.getElByPage($newPage));\n      }\n    }\n    // Page init and before init events\n    router.pageCallback('init', $newPage, $newNavbarEl, 'previous', 'current', options, $oldPage);\n    if (initialPreload) {\n      router.pageCallback('beforeIn', $newPage, $newNavbarEl, 'current', undefined, options);\n      router.pageCallback('afterIn', $newPage, $newNavbarEl, 'current', undefined, options);\n    }\n    const $previousPages = $newPage.prevAll('.page-previous:not(.stacked):not(.page-master)');\n    if ($previousPages.length > 0) {\n      $previousPages.each((pageToRemove) => {\n        const $pageToRemove = $(pageToRemove);\n        let $navbarToRemove;\n        if (dynamicNavbar) {\n          // $navbarToRemove = $newNavbarEl.prevAll('.navbar-previous:not(.stacked)').eq(index);\n          $navbarToRemove = $(app.navbar.getElByPage($pageToRemove));\n        }\n        if (router.params.stackPages && router.initialPages.indexOf(pageToRemove) >= 0) {\n          $pageToRemove.addClass('stacked');\n          $pageToRemove.trigger('page:stack');\n          router.emit('pageStack', $pageToRemove[0]);\n          if (dynamicNavbar) {\n            $navbarToRemove.addClass('stacked');\n          }\n        } else {\n          router.pageCallback(\n            'beforeRemove',\n            $pageToRemove,\n            $navbarToRemove,\n            'previous',\n            undefined,\n          );\n          router.removePage($pageToRemove);\n          if (dynamicNavbar && $navbarToRemove.length) {\n            router.removeNavbar($navbarToRemove);\n          }\n        }\n      });\n    }\n    router.allowPageChange = true;\n    return router;\n  }\n\n  // History State\n  if (!(device.ie || device.edge || (device.firefox && !device.ios))) {\n    if (router.params.browserHistory && options.browserHistory) {\n      if (options.replaceState) {\n        const browserHistoryRoot = router.params.browserHistoryRoot || '';\n        History.replace(\n          view.id,\n          {\n            url: options.route.url,\n          },\n          browserHistoryRoot + router.params.browserHistorySeparator + options.route.url,\n        );\n      } else if (backIndex) {\n        History.go(-backIndex);\n      } else {\n        History.back();\n      }\n    }\n  }\n\n  // Update History\n  if (options.replaceState) {\n    router.history[router.history.length - 1] = options.route.url;\n  } else {\n    if (router.history.length === 1) {\n      router.history.unshift(router.url);\n    }\n    router.history.pop();\n  }\n  router.saveHistory();\n\n  // Current Page & Navbar\n  router.currentPageEl = $newPage[0];\n  if (dynamicNavbar && $newNavbarEl.length) {\n    router.currentNavbarEl = $newNavbarEl[0];\n  } else {\n    delete router.currentNavbarEl;\n  }\n\n  // Current Route\n  router.currentRoute = options.route;\n\n  // History State\n  if (device.ie || device.edge || (device.firefox && !device.ios)) {\n    if (router.params.browserHistory && options.browserHistory) {\n      if (options.replaceState) {\n        const browserHistoryRoot = router.params.browserHistoryRoot || '';\n        History.replace(\n          view.id,\n          {\n            url: options.route.url,\n          },\n          browserHistoryRoot + router.params.browserHistorySeparator + options.route.url,\n        );\n      } else if (backIndex) {\n        History.go(-backIndex);\n      } else {\n        History.back();\n      }\n    }\n  }\n\n  // Insert Page\n  insertPage();\n\n  // Load Tab\n  if (options.route.route.tab) {\n    router.tabLoad(\n      options.route.route.tab,\n      extend({}, options, {\n        history: false,\n        browserHistory: false,\n      }),\n    );\n  }\n\n  // Check master detail\n\n  if (masterDetailEnabled && (currentIsMaster || masterPageRemoved)) {\n    view.checkMasterDetailBreakpoint(false);\n  }\n\n  // Page init and before init events\n  router.pageCallback('init', $newPage, $newNavbarEl, 'previous', 'current', options, $oldPage);\n\n  // Before animation callback\n  router.pageCallback('beforeOut', $oldPage, $oldNavbarEl, 'current', 'next', options);\n  router.pageCallback('beforeIn', $newPage, $newNavbarEl, 'previous', 'current', options);\n\n  // Animation\n  function afterAnimation() {\n    // Set classes\n    router.setPagePosition($newPage, 'current', false);\n    router.setPagePosition($oldPage, 'next', true);\n    if (dynamicNavbar) {\n      router.setNavbarPosition($newNavbarEl, 'current', false);\n      router.setNavbarPosition($oldNavbarEl, 'next', true);\n    }\n\n    // After animation event\n    router.pageCallback('afterOut', $oldPage, $oldNavbarEl, 'current', 'next', options);\n    router.pageCallback('afterIn', $newPage, $newNavbarEl, 'previous', 'current', options);\n\n    // Remove Old Page\n    if (router.params.stackPages && router.initialPages.indexOf($oldPage[0]) >= 0) {\n      $oldPage.addClass('stacked');\n      $oldPage.trigger('page:stack');\n      router.emit('pageStack', $oldPage[0]);\n      if (dynamicNavbar) {\n        $oldNavbarEl.addClass('stacked');\n      }\n    } else {\n      router.pageCallback('beforeRemove', $oldPage, $oldNavbarEl, 'next', undefined, options);\n      router.removePage($oldPage);\n      if (dynamicNavbar && $oldNavbarEl.length) {\n        router.removeNavbar($oldNavbarEl);\n      }\n    }\n\n    router.allowPageChange = true;\n    router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n\n    // Preload previous page\n    const preloadPreviousPage =\n      router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`];\n    if (preloadPreviousPage && router.history[router.history.length - 2] && !isMaster) {\n      router.back(router.history[router.history.length - 2], { preload: true });\n    }\n    if (router.params.browserHistory) {\n      History.clearRouterQueue();\n    }\n  }\n\n  function setPositionClasses() {\n    router.setPagePosition($oldPage, 'current');\n    router.setPagePosition($newPage, 'previous', false);\n    if (dynamicNavbar) {\n      router.setNavbarPosition($oldNavbarEl, 'current');\n      router.setNavbarPosition($newNavbarEl, 'previous', false);\n    }\n  }\n\n  if (options.animate && !(currentIsMaster && app.width >= router.params.masterDetailBreakpoint)) {\n    let transition = router.params.transition;\n    if ($oldPage[0] && $oldPage[0].t4PageTransition) {\n      transition = $oldPage[0].t4PageTransition;\n      delete $oldPage[0].t4PageTransition;\n    }\n    if (options.transition) transition = options.transition;\n    if (!transition && router.previousRoute && router.previousRoute.route) {\n      transition = router.previousRoute.route.transition;\n    }\n    if (\n      !transition &&\n      router.previousRoute &&\n      router.previousRoute.route &&\n      router.previousRoute.route.options\n    ) {\n      transition = router.previousRoute.route.options.transition;\n    }\n    setPositionClasses();\n    router.animate($oldPage, $newPage, $oldNavbarEl, $newNavbarEl, 'backward', transition, () => {\n      afterAnimation();\n    });\n  } else {\n    afterAnimation();\n  }\n\n  return router;\n}\nfunction loadBack(router, backParams, backOptions, ignorePageChange) {\n  if (!router.allowPageChange && !ignorePageChange) return router;\n  const params = backParams;\n  const options = backOptions;\n  const { url, content, el, pageName, component, componentUrl } = params;\n\n  if (\n    options.route.url &&\n    router.url === options.route.url &&\n    !(options.reloadCurrent || options.reloadPrevious) &&\n    !router.params.allowDuplicateUrls\n  ) {\n    return false;\n  }\n\n  if (!options.route && url) {\n    options.route = router.parseRouteUrl(url);\n  }\n\n  // Component Callbacks\n  function resolve(pageEl, newOptions) {\n    return backward(router, pageEl, extend(options, newOptions));\n  }\n  function reject() {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  if (url || componentUrl || component) {\n    router.allowPageChange = false;\n  }\n\n  // Proceed\n  if (content) {\n    backward(router, router.getPageEl(content), options);\n  } else if (el) {\n    // Load page from specified HTMLElement or by page name in pages container\n    backward(router, router.getPageEl(el), options);\n  } else if (pageName) {\n    // Load page by page name in pages container\n    backward(router, router.$el.children(`.page[data-name=\"${pageName}\"]`).eq(0), options);\n  } else if (component || componentUrl) {\n    // Load from component (t4/Vue/React/...)\n    try {\n      router.pageComponentLoader({\n        routerEl: router.el,\n        component,\n        componentUrl,\n        options,\n        resolve,\n        reject,\n      });\n    } catch (err) {\n      router.allowPageChange = true;\n      throw err;\n    }\n  } else if (url) {\n    // Load using XHR\n    if (router.xhrAbortController) {\n      router.xhrAbortController.abort();\n      router.xhrAbortController = false;\n    }\n    router\n      .xhrRequest(url, options)\n      .then((pageContent) => {\n        backward(router, router.getPageEl(pageContent), options);\n      })\n      .catch(() => {\n        router.allowPageChange = true;\n      });\n  }\n  return router;\n}\nfunction back(...args) {\n  const router = this;\n  const device = getDevice();\n  if (router.swipeBackActive) return router;\n  let navigateUrl;\n  let navigateOptions;\n  let route;\n  if (typeof args[0] === 'object') {\n    navigateOptions = args[0] || {};\n  } else {\n    navigateUrl = args[0];\n    navigateOptions = args[1] || {};\n  }\n\n  const { name, params, query } = navigateOptions;\n  if (name) {\n    navigateUrl = router.generateUrl({ name, params, query });\n    if (navigateUrl) {\n      return router.back(\n        navigateUrl,\n        extend({}, navigateOptions, {\n          name: null,\n          params: null,\n          query: null,\n        }),\n      );\n    }\n    return router;\n  }\n\n  const app = router.app;\n  appRouterCheck(router, 'back');\n\n  let currentRouteIsModal = router.currentRoute.modal;\n  let modalType;\n  if (!currentRouteIsModal) {\n    'popup popover sheet loginScreen actions customModal panel'\n      .split(' ')\n      .forEach((modalLoadProp) => {\n        if (router.currentRoute.route[modalLoadProp]) {\n          currentRouteIsModal = true;\n          modalType = modalLoadProp;\n        }\n      });\n  }\n  if (currentRouteIsModal && !navigateOptions.preload) {\n    const modalToClose =\n      router.currentRoute.modal || router.currentRoute.route.modalInstance || app[modalType].get();\n    const previousUrl = router.history[router.history.length - 2];\n    let previousRoute;\n    // check if previous route is modal too\n    if (modalToClose && modalToClose.$el) {\n      const prevOpenedModals = modalToClose.$el.prevAll('.modal-in');\n      if (prevOpenedModals.length && prevOpenedModals[0].t4Modal) {\n        const modalEl = prevOpenedModals[0];\n        // check if current router not inside of the modalEl\n        if (!router.$el.parents(modalEl).length) {\n          previousRoute = modalEl.t4Modal.route;\n        }\n      }\n    }\n    if (!previousRoute) {\n      previousRoute = router.findMatchingRoute(previousUrl);\n    }\n\n    if (!previousRoute && previousUrl) {\n      previousRoute = {\n        url: previousUrl,\n        path: previousUrl.split('?')[0],\n        query: parseUrlQuery(previousUrl),\n        route: {\n          path: previousUrl.split('?')[0],\n          url: previousUrl,\n        },\n      };\n    }\n    if (!navigateUrl || navigateUrl.replace(/[# ]/g, '').trim().length === 0) {\n      if (!previousRoute || !modalToClose) {\n        return router;\n      }\n    }\n    const forceOtherUrl = navigateOptions.force && previousRoute && navigateUrl;\n    if (previousRoute && modalToClose) {\n      const isBrokenBrowserHistory = device.ie || device.edge || (device.firefox && !device.ios);\n      const needHistoryBack =\n        router.params.browserHistory && navigateOptions.browserHistory !== false;\n      const currentRouteWithoutBrowserHistory =\n        router.currentRoute &&\n        router.currentRoute.route &&\n        router.currentRoute.route.options &&\n        router.currentRoute.route.options.browserHistory === false;\n      if (needHistoryBack && !isBrokenBrowserHistory && !currentRouteWithoutBrowserHistory) {\n        History.back();\n      }\n      router.currentRoute = previousRoute;\n      router.history.pop();\n      router.saveHistory();\n\n      if (needHistoryBack && isBrokenBrowserHistory && !currentRouteWithoutBrowserHistory) {\n        History.back();\n      }\n\n      router.modalRemove(modalToClose);\n      if (forceOtherUrl) {\n        router.navigate(navigateUrl, { reloadCurrent: true });\n      }\n    } else if (modalToClose) {\n      router.modalRemove(modalToClose);\n      if (navigateUrl) {\n        router.navigate(navigateUrl, { reloadCurrent: true });\n      }\n    }\n    return router;\n  }\n  let $previousPage = router.$el\n    .children('.page-current')\n    .prevAll('.page-previous:not(.page-master)')\n    .eq(0);\n\n  let skipMaster;\n  if (router.params.masterDetailBreakpoint > 0) {\n    const classes = [];\n    router.$el.children('.page').each((pageEl) => {\n      classes.push(pageEl.className);\n    });\n\n    const $previousMaster = router.$el.children('.page-current').prevAll('.page-master').eq(0);\n    if ($previousMaster.length) {\n      const expectedPreviousPageUrl = router.history[router.history.length - 2];\n      const expectedPreviousPageRoute = router.findMatchingRoute(expectedPreviousPageUrl);\n      if (\n        expectedPreviousPageRoute &&\n        $previousMaster[0].t4Page &&\n        expectedPreviousPageRoute.route === $previousMaster[0].t4Page.route.route\n      ) {\n        $previousPage = $previousMaster;\n        if (!navigateOptions.preload) {\n          skipMaster = app.width >= router.params.masterDetailBreakpoint;\n        }\n      }\n    }\n  }\n\n  if (!navigateOptions.force && $previousPage.length && !skipMaster) {\n    if (\n      router.params.browserHistory &&\n      $previousPage[0].t4Page &&\n      router.history[router.history.length - 2] !== $previousPage[0].t4Page.route.url\n    ) {\n      router.back(\n        router.history[router.history.length - 2],\n        extend(navigateOptions, { force: true }),\n      );\n      return router;\n    }\n    const previousPageRoute = $previousPage[0].t4Page.route;\n    if (navigateOptions.preload && $previousPage.hasClass('stacked')) {\n      loadBack(\n        router,\n        { el: $previousPage },\n        extend(navigateOptions, {\n          route: previousPageRoute,\n        }),\n      );\n      return router;\n    }\n    processRouteQueue.call(\n      router,\n      previousPageRoute,\n      router.currentRoute,\n      () => {\n        loadBack(\n          router,\n          { el: $previousPage },\n          extend(navigateOptions, {\n            route: previousPageRoute,\n          }),\n        );\n      },\n      () => {},\n      'backward',\n    );\n\n    return router;\n  }\n\n  // Navigate URL\n  if (navigateUrl === '#') {\n    navigateUrl = undefined;\n  }\n  if (navigateUrl && navigateUrl[0] !== '/' && navigateUrl.indexOf('#') !== 0) {\n    navigateUrl = ((router.path || '/') + navigateUrl).replace('//', '/');\n  }\n  if (!navigateUrl && router.history.length > 1) {\n    navigateUrl = router.history[router.history.length - 2];\n  }\n  if (skipMaster && !navigateOptions.force && router.history[router.history.length - 3]) {\n    return router.back(\n      router.history[router.history.length - 3],\n      extend({}, navigateOptions || {}, {\n        force: true,\n        animate: false,\n      }),\n    );\n  }\n  if (skipMaster && !navigateOptions.force) {\n    return router;\n  }\n\n  // Find route to load\n  route = router.findMatchingRoute(navigateUrl);\n  if (!route) {\n    if (navigateUrl) {\n      route = {\n        url: navigateUrl,\n        path: navigateUrl.split('?')[0],\n        query: parseUrlQuery(navigateUrl),\n        route: {\n          path: navigateUrl.split('?')[0],\n          url: navigateUrl,\n        },\n      };\n    }\n  }\n  if (!route) {\n    return router;\n  }\n\n  if (route.route.redirect) {\n    return redirect.call(router, 'backward', route, navigateOptions);\n  }\n\n  const options = {};\n  if (route.route.options) {\n    extend(options, route.route.options, navigateOptions);\n  } else {\n    extend(options, navigateOptions);\n  }\n  options.route = route;\n\n  let backForceLoaded;\n  if (options.force && router.params.stackPages) {\n    router.$el.children('.page-previous.stacked').each((pageEl) => {\n      if (pageEl.t4Page && pageEl.t4Page.route && pageEl.t4Page.route.url === route.url) {\n        backForceLoaded = true;\n        loadBack(router, { el: pageEl }, options);\n      }\n    });\n    if (backForceLoaded) {\n      return router;\n    }\n  }\n  function resolve() {\n    let routerLoaded = false;\n    if (route.route.keepAlive && route.route.keepAliveData) {\n      loadBack(router, { el: route.route.keepAliveData.pageEl }, options);\n      routerLoaded = true;\n    }\n    'url content component pageName el componentUrl'.split(' ').forEach((pageLoadProp) => {\n      if (route.route[pageLoadProp] && !routerLoaded) {\n        routerLoaded = true;\n        loadBack(router, { [pageLoadProp]: route.route[pageLoadProp] }, options);\n      }\n    });\n    if (routerLoaded) return;\n    // Async\n    function asyncResolve(resolveParams, resolveOptions) {\n      router.allowPageChange = false;\n      loadBack(router, resolveParams, extend(options, resolveOptions), true);\n    }\n    function asyncReject() {\n      router.allowPageChange = true;\n    }\n    if (route.route.async) {\n      router.allowPageChange = false;\n      route.route.async.call(router, {\n        router,\n        to: route,\n        from: router.currentRoute,\n        resolve: asyncResolve,\n        reject: asyncReject,\n        direction: 'backward',\n        app,\n      });\n    }\n    if (route.route.asyncComponent) {\n      asyncComponent(router, route.route.asyncComponent, asyncResolve, asyncReject);\n    }\n  }\n  function reject() {\n    router.allowPageChange = true;\n  }\n\n  if (options.preload) {\n    resolve();\n  } else {\n    processRouteQueue.call(\n      router,\n      route,\n      router.currentRoute,\n      () => {\n        if (route.route.modules) {\n          app\n            .loadModules(\n              Array.isArray(route.route.modules) ? route.route.modules : [route.route.modules],\n            )\n            .then(() => {\n              resolve();\n            })\n            .catch(() => {\n              reject();\n            });\n        } else {\n          resolve();\n        }\n      },\n      () => {\n        reject();\n      },\n      'backward',\n    );\n  }\n\n  // Return Router\n  return router;\n}\nexport { back };\n","import { getWindow, getDocument } from 'ssr-window';\nimport { pathToRegexp, compile } from 'path-to-regexp';\nimport $ from '../../shared/dom64.js';\nimport techno4Class from '../../shared/class.js';\nimport {\n  extend,\n  nextFrame,\n  parseUrlQuery,\n  serializeObject,\n  now,\n  eventNameToColonCase,\n} from '../../shared/utils.js';\nimport History from '../../shared/history.js';\nimport SwipeBack from './swipe-back.js';\n\nimport { refreshPage, navigate } from './navigate.js';\nimport { tabLoad, tabRemove } from './tab.js';\nimport { modalLoad, modalRemove } from './modal.js';\nimport { back } from './back.js';\nimport { clearPreviousHistory } from './clear-previous-history.js';\nimport appRouterCheck from './app-router-check.js';\n\nclass Router extends techno4Class {\n  constructor(app, view) {\n    super({}, [typeof view === 'undefined' ? app : view]);\n    const router = this;\n\n    // Is App Router\n    router.isAppRouter = typeof view === 'undefined';\n\n    if (router.isAppRouter) {\n      // App Router\n      extend(false, router, {\n        app,\n        params: app.params.view,\n        routes: app.routes || [],\n        cache: app.cache,\n      });\n    } else {\n      // View Router\n      extend(false, router, {\n        app,\n        view,\n        viewId: view.id,\n        id: view.params.routerId,\n        params: view.params,\n        routes: view.routes,\n        history: view.history,\n        scrollHistory: view.scrollHistory,\n        cache: app.cache,\n        dynamicNavbar: app.theme === 'ios' && view.params.iosDynamicNavbar,\n        initialPages: [],\n        initialNavbars: [],\n      });\n    }\n\n    // Install Modules\n    router.useModules();\n\n    // AllowPageChage\n    router.allowPageChange = true;\n\n    // Current Route\n    let currentRoute = {};\n    let previousRoute = {};\n    Object.defineProperty(router, 'currentRoute', {\n      enumerable: true,\n      configurable: true,\n      set(newRoute = {}) {\n        previousRoute = extend({}, currentRoute);\n        currentRoute = newRoute;\n        if (!currentRoute) return;\n        router.url = currentRoute.url;\n        router.emit('routeChange', newRoute, previousRoute, router);\n      },\n      get() {\n        return currentRoute;\n      },\n    });\n    Object.defineProperty(router, 'previousRoute', {\n      enumerable: true,\n      configurable: true,\n      get() {\n        return previousRoute;\n      },\n      set(newRoute) {\n        previousRoute = newRoute;\n      },\n    });\n\n    return router;\n  }\n\n  mount() {\n    const router = this;\n    const view = router.view;\n    const document = getDocument();\n\n    extend(false, router, {\n      tempDom: document.createElement('div'),\n      $el: view.$el,\n      el: view.el,\n      $navbarsEl: view.$navbarsEl,\n      navbarsEl: view.navbarsEl,\n    });\n\n    router.emit('local::mount routerMount', router);\n  }\n\n  animatableNavElements($newNavbarEl, $oldNavbarEl, toLarge, fromLarge, direction) {\n    const router = this;\n    const dynamicNavbar = router.dynamicNavbar;\n    const animateIcon = router.params.iosAnimateNavbarBackIcon;\n\n    let newNavEls;\n    let oldNavEls;\n    function animatableNavEl($el, $navbarInner) {\n      const isSliding = $el.hasClass('sliding') || $navbarInner.hasClass('sliding');\n      const isSubnavbar = $el.hasClass('subnavbar');\n      const needsOpacityTransition = isSliding ? !isSubnavbar : true;\n      const $iconEl = $el.find('.back .icon');\n      let isIconLabel;\n      if (\n        isSliding &&\n        animateIcon &&\n        $el.hasClass('left') &&\n        $iconEl.length > 0 &&\n        $iconEl.next('span').length\n      ) {\n        $el = $iconEl.next('span'); // eslint-disable-line\n        isIconLabel = true;\n      }\n      return {\n        $el,\n        isIconLabel,\n        leftOffset: $el[0].t4NavbarLeftOffset,\n        rightOffset: $el[0].t4NavbarRightOffset,\n        isSliding,\n        isSubnavbar,\n        needsOpacityTransition,\n      };\n    }\n    if (dynamicNavbar) {\n      newNavEls = [];\n      oldNavEls = [];\n      $newNavbarEl\n        .children('.navbar-inner')\n        .children('.left, .right, .title, .subnavbar')\n        .each((navEl) => {\n          const $navEl = $(navEl);\n          if ($navEl.hasClass('left') && fromLarge && direction === 'forward') return;\n          if ($navEl.hasClass('title') && toLarge) return;\n          newNavEls.push(animatableNavEl($navEl, $newNavbarEl.children('.navbar-inner')));\n        });\n      if (\n        !(\n          $oldNavbarEl.hasClass('navbar-master') &&\n          router.params.masterDetailBreakpoint > 0 &&\n          router.app.width >= router.params.masterDetailBreakpoint\n        )\n      ) {\n        $oldNavbarEl\n          .children('.navbar-inner')\n          .children('.left, .right, .title, .subnavbar')\n          .each((navEl) => {\n            const $navEl = $(navEl);\n            if ($navEl.hasClass('left') && toLarge && !fromLarge && direction === 'forward') return;\n            if ($navEl.hasClass('left') && toLarge && direction === 'backward') return;\n            if ($navEl.hasClass('title') && fromLarge) {\n              return;\n            }\n            oldNavEls.push(animatableNavEl($navEl, $oldNavbarEl.children('.navbar-inner')));\n          });\n      }\n      [oldNavEls, newNavEls].forEach((navEls) => {\n        navEls.forEach((navEl) => {\n          const n = navEl;\n          const { isSliding, $el } = navEl;\n          const otherEls = navEls === oldNavEls ? newNavEls : oldNavEls;\n          if (!(isSliding && $el.hasClass('title') && otherEls)) return;\n          otherEls.forEach((otherNavEl) => {\n            if (otherNavEl.isIconLabel) {\n              const iconTextEl = otherNavEl.$el[0];\n              n.leftOffset += iconTextEl ? iconTextEl.offsetLeft || 0 : 0;\n            }\n          });\n        });\n      });\n    }\n\n    return { newNavEls, oldNavEls };\n  }\n\n  animate($oldPageEl, $newPageEl, $oldNavbarEl, $newNavbarEl, direction, transition, callback) {\n    const router = this;\n    if (router.params.animateCustom) {\n      router.params.animateCustom.apply(router, [\n        $oldPageEl,\n        $newPageEl,\n        $oldNavbarEl,\n        $newNavbarEl,\n        direction,\n        callback,\n      ]);\n      return;\n    }\n    const dynamicNavbar = router.dynamicNavbar;\n    const ios = router.app.theme === 'ios';\n    if (transition) {\n      const routerCustomTransitionClass = `router-transition-custom router-transition-${transition}-${direction}`;\n      // Animate\n      const onCustomTransitionDone = () => {\n        router.$el.removeClass(routerCustomTransitionClass);\n        if (dynamicNavbar && router.$navbarsEl.length) {\n          if ($newNavbarEl) {\n            router.$navbarsEl.prepend($newNavbarEl);\n          }\n          if ($oldNavbarEl) {\n            router.$navbarsEl.prepend($oldNavbarEl);\n          }\n        }\n        if (callback) callback();\n      };\n\n      (direction === 'forward' ? $newPageEl : $oldPageEl).animationEnd(onCustomTransitionDone);\n      if (dynamicNavbar) {\n        if ($newNavbarEl && $newPageEl) {\n          router.setNavbarPosition($newNavbarEl, '');\n          $newNavbarEl.removeClass('navbar-next navbar-previous navbar-current');\n          $newPageEl.prepend($newNavbarEl);\n        }\n        if ($oldNavbarEl && $oldPageEl) {\n          router.setNavbarPosition($oldNavbarEl, '');\n          $oldNavbarEl.removeClass('navbar-next navbar-previous navbar-current');\n          $oldPageEl.prepend($oldNavbarEl);\n        }\n      }\n\n      router.$el.addClass(routerCustomTransitionClass);\n      return;\n    }\n\n    // Router Animation class\n    const routerTransitionClass = `router-transition-${direction} router-transition`;\n\n    let newNavEls;\n    let oldNavEls;\n\n    let fromLarge;\n    let toLarge;\n    let toDifferent;\n\n    let oldIsLarge;\n    let newIsLarge;\n\n    if (ios && dynamicNavbar) {\n      const betweenMasterAndDetail =\n        router.params.masterDetailBreakpoint > 0 &&\n        router.app.width >= router.params.masterDetailBreakpoint &&\n        (($oldNavbarEl.hasClass('navbar-master') &&\n          $newNavbarEl.hasClass('navbar-master-detail')) ||\n          ($oldNavbarEl.hasClass('navbar-master-detail') &&\n            $newNavbarEl.hasClass('navbar-master')));\n      if (!betweenMasterAndDetail) {\n        oldIsLarge = $oldNavbarEl && $oldNavbarEl.hasClass('navbar-large');\n        newIsLarge = $newNavbarEl && $newNavbarEl.hasClass('navbar-large');\n        fromLarge = oldIsLarge && !$oldNavbarEl.hasClass('navbar-large-collapsed');\n        toLarge = newIsLarge && !$newNavbarEl.hasClass('navbar-large-collapsed');\n        toDifferent = (fromLarge && !toLarge) || (toLarge && !fromLarge);\n      }\n      const navEls = router.animatableNavElements(\n        $newNavbarEl,\n        $oldNavbarEl,\n        toLarge,\n        fromLarge,\n        direction,\n      );\n      newNavEls = navEls.newNavEls;\n      oldNavEls = navEls.oldNavEls;\n    }\n\n    function animateNavbars(progress) {\n      if (!(ios && dynamicNavbar)) return;\n      if (progress === 1) {\n        if (toLarge) {\n          $newNavbarEl.addClass('router-navbar-transition-to-large');\n          $oldNavbarEl.addClass('router-navbar-transition-to-large');\n        }\n        if (fromLarge) {\n          $newNavbarEl.addClass('router-navbar-transition-from-large');\n          $oldNavbarEl.addClass('router-navbar-transition-from-large');\n        }\n      }\n      newNavEls.forEach((navEl) => {\n        const $el = navEl.$el;\n        const offset = direction === 'forward' ? navEl.rightOffset : navEl.leftOffset;\n        if (navEl.isSliding) {\n          if (navEl.isSubnavbar && newIsLarge) {\n            // prettier-ignore\n            $el[0].style.setProperty(\n              'transform',\n              `translate3d(${offset * (1 - progress)}px, calc(-1 * var(--t4-navbar-large-collapse-progress) * var(--t4-navbar-large-title-height)), 0)`,\n              'important',\n            );\n          } else {\n            $el.transform(`translate3d(${offset * (1 - progress)}px,0,0)`);\n          }\n        }\n      });\n      oldNavEls.forEach((navEl) => {\n        const $el = navEl.$el;\n        const offset = direction === 'forward' ? navEl.leftOffset : navEl.rightOffset;\n        if (navEl.isSliding) {\n          if (navEl.isSubnavbar && oldIsLarge) {\n            $el.transform(\n              `translate3d(${\n                offset * progress\n              }px, calc(-1 * var(--t4-navbar-large-collapse-progress) * var(--t4-navbar-large-title-height)), 0)`,\n            );\n          } else {\n            $el.transform(`translate3d(${offset * progress}px,0,0)`);\n          }\n        }\n      });\n    }\n\n    // AnimationEnd Callback\n    function onDone() {\n      if (router.dynamicNavbar) {\n        if ($newNavbarEl) {\n          $newNavbarEl.removeClass(\n            'router-navbar-transition-to-large router-navbar-transition-from-large',\n          );\n          $newNavbarEl.addClass('navbar-no-title-large-transition');\n          nextFrame(() => {\n            $newNavbarEl.removeClass('navbar-no-title-large-transition');\n          });\n        }\n        if ($oldNavbarEl) {\n          $oldNavbarEl.removeClass(\n            'router-navbar-transition-to-large router-navbar-transition-from-large',\n          );\n        }\n        if (\n          $newNavbarEl.hasClass('sliding') ||\n          $newNavbarEl.children('.navbar-inner.sliding').length\n        ) {\n          $newNavbarEl.find('.title, .left, .right, .left .icon, .subnavbar').transform('');\n        } else {\n          $newNavbarEl.find('.sliding').transform('');\n        }\n        if (\n          $oldNavbarEl.hasClass('sliding') ||\n          $oldNavbarEl.children('.navbar-inner.sliding').length\n        ) {\n          $oldNavbarEl.find('.title, .left, .right, .left .icon, .subnavbar').transform('');\n        } else {\n          $oldNavbarEl.find('.sliding').transform('');\n        }\n      }\n      router.$el.removeClass(routerTransitionClass);\n      if (callback) callback();\n    }\n\n    (direction === 'forward' ? $newPageEl : $oldPageEl).animationEnd(() => {\n      onDone();\n    });\n\n    // Animate\n    if (dynamicNavbar) {\n      // Prepare Navbars\n      animateNavbars(0);\n      nextFrame(() => {\n        // Add class, start animation\n        router.$el.addClass(routerTransitionClass);\n        if (toDifferent) {\n          // eslint-disable-next-line\n          router.el._clientLeft = router.el.clientLeft;\n        }\n        animateNavbars(1);\n      });\n    } else {\n      // Add class, start animation\n      router.$el.addClass(routerTransitionClass);\n    }\n  }\n\n  removeModal(modalEl) {\n    const router = this;\n    router.removeEl(modalEl);\n  }\n  // eslint-disable-next-line\n  removeTabContent(tabEl) {\n    const $tabEl = $(tabEl);\n    $tabEl.html('');\n  }\n\n  removeNavbar(el) {\n    const router = this;\n    router.removeEl(el);\n  }\n\n  removePage(el) {\n    const $el = $(el);\n    const t4Page = $el && $el[0] && $el[0].t4Page;\n    const router = this;\n    if (t4Page && t4Page.route && t4Page.route.route && t4Page.route.route.keepAlive) {\n      $el.remove();\n      return;\n    }\n    router.removeEl(el);\n  }\n\n  removeEl(el) {\n    if (!el) return;\n    const router = this;\n    const $el = $(el);\n    if ($el.length === 0) return;\n    $el.find('.tab').each((tabEl) => {\n      $(tabEl)\n        .children()\n        .each((tabChild) => {\n          if (tabChild.t4Component) {\n            $(tabChild).trigger('tab:beforeremove');\n            tabChild.t4Component.destroy();\n          }\n        });\n    });\n    if ($el[0].t4Component && $el[0].t4Component.destroy) {\n      $el[0].t4Component.destroy();\n    }\n    if (!router.params.removeElements) {\n      return;\n    }\n    if (router.params.removeElementsWithTimeout) {\n      setTimeout(() => {\n        $el.remove();\n      }, router.params.removeElementsTimeout);\n    } else {\n      $el.remove();\n    }\n  }\n\n  getPageEl(content) {\n    const router = this;\n    if (typeof content === 'string') {\n      router.tempDom.innerHTML = content;\n    } else {\n      if ($(content).hasClass('page')) {\n        return content;\n      }\n      router.tempDom.innerHTML = '';\n      $(router.tempDom).append(content);\n    }\n\n    return router.findElement('.page', router.tempDom);\n  }\n\n  findElement(stringSelector, container, notStacked) {\n    const router = this;\n    const view = router.view;\n    const app = router.app;\n\n    // Modals Selector\n    const modalsSelector =\n      '.popup, .dialog, .popover, .actions-modal, .sheet-modal, .login-screen, .page';\n\n    const $container = $(container);\n    let selector = stringSelector;\n    if (notStacked) selector += ':not(.stacked)';\n\n    let found = $container\n      .find(selector)\n      .filter((el) => $(el).parents(modalsSelector).length === 0);\n\n    if (found.length > 1) {\n      if (typeof view.selector === 'string') {\n        // Search in related view\n        found = $container.find(`${view.selector} ${selector}`);\n      }\n      if (found.length > 1) {\n        // Search in main view\n        found = $container.find(`.${app.params.viewMainClass} ${selector}`);\n      }\n    }\n    if (found.length === 1) return found;\n\n    // Try to find not stacked\n    if (!notStacked) found = router.findElement(selector, $container, true);\n    if (found && found.length === 1) return found;\n    if (found && found.length > 1) return $(found[0]);\n    return undefined;\n  }\n\n  flattenRoutes(routes = this.routes) {\n    const router = this;\n    let flattenedRoutes = [];\n    routes.forEach((route) => {\n      let hasTabRoutes = false;\n      if ('tabs' in route && route.tabs) {\n        const mergedPathsRoutes = route.tabs.map((tabRoute) => {\n          const tRoute = extend({}, route, {\n            path: `${route.path}/${tabRoute.path}`.replace('///', '/').replace('//', '/'),\n            parentPath: route.path,\n            tab: tabRoute,\n          });\n          delete tRoute.tabs;\n          delete tRoute.routes;\n          return tRoute;\n        });\n        hasTabRoutes = true;\n        flattenedRoutes = flattenedRoutes.concat(router.flattenRoutes(mergedPathsRoutes));\n      }\n      if ('detailRoutes' in route) {\n        const mergedPathsRoutes = route.detailRoutes.map((detailRoute) => {\n          const dRoute = extend({}, detailRoute);\n          dRoute.masterRoute = route;\n          dRoute.masterRoutePath = route.path;\n          return dRoute;\n        });\n        flattenedRoutes = flattenedRoutes.concat(route, router.flattenRoutes(mergedPathsRoutes));\n      }\n      if ('routes' in route) {\n        const mergedPathsRoutes = route.routes.map((childRoute) => {\n          const cRoute = extend({}, childRoute);\n          cRoute.path = `${route.path}/${cRoute.path}`.replace('///', '/').replace('//', '/');\n          return cRoute;\n        });\n        if (hasTabRoutes) {\n          flattenedRoutes = flattenedRoutes.concat(router.flattenRoutes(mergedPathsRoutes));\n        } else {\n          flattenedRoutes = flattenedRoutes.concat(route, router.flattenRoutes(mergedPathsRoutes));\n        }\n      }\n      if (!('routes' in route) && !('tabs' in route && route.tabs) && !('detailRoutes' in route)) {\n        flattenedRoutes.push(route);\n      }\n    });\n    return flattenedRoutes;\n  }\n\n  // eslint-disable-next-line\n  parseRouteUrl(url) {\n    if (!url) return {};\n    const query = parseUrlQuery(url);\n    const hash = url.split('#')[1];\n    const params = {};\n    const path = url.split('#')[0].split('?')[0];\n    return {\n      query,\n      hash,\n      params,\n      url,\n      path,\n    };\n  }\n\n  generateUrl(parameters = {}) {\n    if (typeof parameters === 'string') {\n      return parameters;\n    }\n    const { name, path, params, query } = parameters;\n    if (!name && !path) {\n      throw new Error('techno4: \"name\" or \"path\" parameter is required');\n    }\n    const router = this;\n    const route = name ? router.findRouteByKey('name', name) : router.findRouteByKey('path', path);\n\n    if (!route) {\n      if (name) {\n        throw new Error(`techno4: route with name \"${name}\" not found`);\n      } else {\n        throw new Error(`techno4: route with path \"${path}\" not found`);\n      }\n    }\n    const url = router.constructRouteUrl(route, { params, query });\n    if (!url) {\n      throw new Error(`techno4: can't construct URL for route with name \"${name}\"`);\n    }\n    return url;\n  }\n\n  // eslint-disable-next-line\n  constructRouteUrl(route, { params, query } = {}) {\n    const { path } = route;\n    const toUrl = compile(path);\n    let url;\n    try {\n      url = toUrl(params || {});\n    } catch (error) {\n      throw new Error(\n        `techno4: error constructing route URL from passed params:\\nRoute: ${path}\\n${error.toString()}`,\n      );\n    }\n\n    if (query) {\n      if (typeof query === 'string') url += `?${query}`;\n      else if (Object.keys(query).length) url += `?${serializeObject(query)}`;\n    }\n\n    return url;\n  }\n\n  findTabRouteUrl(tabEl) {\n    const router = this;\n    const $tabEl = $(tabEl);\n    const parentPath = router.currentRoute.route.parentPath;\n    const tabId = $tabEl.attr('id');\n    const flattenedRoutes = router.flattenRoutes(router.routes);\n    let foundTabRouteUrl;\n    flattenedRoutes.forEach((route) => {\n      if (route.parentPath === parentPath && route.tab && route.tab.id === tabId) {\n        if (router.currentRoute.params && Object.keys(router.currentRoute.params).length > 0) {\n          foundTabRouteUrl = router.constructRouteUrl(route, {\n            params: router.currentRoute.params,\n            query: router.currentRoute.query,\n          });\n        } else {\n          foundTabRouteUrl = route.path;\n        }\n      }\n    });\n    return foundTabRouteUrl;\n  }\n\n  findRouteByKey(key, value) {\n    const router = this;\n    const routes = router.routes;\n    const flattenedRoutes = router.flattenRoutes(routes);\n    let matchingRoute;\n\n    flattenedRoutes.forEach((route) => {\n      if (matchingRoute) return;\n      if (route[key] === value) {\n        matchingRoute = route;\n      }\n    });\n    return matchingRoute;\n  }\n\n  findMatchingRoute(url) {\n    if (!url) return undefined;\n    const router = this;\n    const routes = router.routes;\n    const flattenedRoutes = router.flattenRoutes(routes);\n    const { path, query, hash, params } = router.parseRouteUrl(url);\n    let matchingRoute;\n    flattenedRoutes.forEach((route) => {\n      if (matchingRoute) return;\n      const keys = [];\n\n      const pathsToMatch = [route.path];\n      if (route.alias) {\n        if (typeof route.alias === 'string') pathsToMatch.push(route.alias);\n        else if (Array.isArray(route.alias)) {\n          route.alias.forEach((aliasPath) => {\n            pathsToMatch.push(aliasPath);\n          });\n        }\n      }\n\n      let matched;\n      pathsToMatch.forEach((pathToMatch) => {\n        if (matched) return;\n        matched = pathToRegexp(pathToMatch, keys).exec(path);\n      });\n\n      if (matched) {\n        keys.forEach((keyObj, index) => {\n          if (typeof keyObj.name === 'number') return;\n          const paramValue = matched[index + 1];\n          if (typeof paramValue === 'undefined' || paramValue === null) {\n            params[keyObj.name] = paramValue;\n          } else {\n            params[keyObj.name] = decodeURIComponent(paramValue);\n          }\n        });\n\n        let parentPath;\n        if (route.parentPath) {\n          parentPath = path\n            .split('/')\n            .slice(0, route.parentPath.split('/').length - 1)\n            .join('/');\n        }\n\n        matchingRoute = {\n          query,\n          hash,\n          params,\n          url,\n          path,\n          parentPath,\n          route,\n          name: route.name,\n        };\n      }\n    });\n    return matchingRoute;\n  }\n\n  // eslint-disable-next-line\n  replaceRequestUrlParams(url = '', options = {}) {\n    let compiledUrl = url;\n    if (\n      typeof compiledUrl === 'string' &&\n      compiledUrl.indexOf('{{') >= 0 &&\n      options &&\n      options.route &&\n      options.route.params &&\n      Object.keys(options.route.params).length\n    ) {\n      Object.keys(options.route.params).forEach((paramName) => {\n        const regExp = new RegExp(`{{${paramName}}}`, 'g');\n        compiledUrl = compiledUrl.replace(regExp, options.route.params[paramName] || '');\n      });\n    }\n    return compiledUrl;\n  }\n\n  removeFromXhrCache(url) {\n    const router = this;\n    const xhrCache = router.cache.xhr;\n    let index = false;\n    for (let i = 0; i < xhrCache.length; i += 1) {\n      if (xhrCache[i].url === url) index = i;\n    }\n    if (index !== false) xhrCache.splice(index, 1);\n  }\n\n  xhrRequest(requestUrl, options) {\n    const router = this;\n    const params = router.params;\n    const { ignoreCache } = options;\n    let url = requestUrl;\n\n    let hasQuery = url.indexOf('?') >= 0;\n    if (\n      params.passRouteQueryToRequest &&\n      options &&\n      options.route &&\n      options.route.query &&\n      Object.keys(options.route.query).length\n    ) {\n      url += `${hasQuery ? '&' : '?'}${serializeObject(options.route.query)}`;\n      hasQuery = true;\n    }\n\n    if (\n      params.passRouteParamsToRequest &&\n      options &&\n      options.route &&\n      options.route.params &&\n      Object.keys(options.route.params).length\n    ) {\n      url += `${hasQuery ? '&' : '?'}${serializeObject(options.route.params)}`;\n      hasQuery = true;\n    }\n\n    if (url.indexOf('{{') >= 0) {\n      url = router.replaceRequestUrlParams(url, options);\n    }\n    // should we ignore get params or not\n    if (params.xhrCacheIgnoreGetParameters && url.indexOf('?') >= 0) {\n      url = url.split('?')[0];\n    }\n    return new Promise((resolve, reject) => {\n      if (\n        params.xhrCache &&\n        !ignoreCache &&\n        url.indexOf('nocache') < 0 &&\n        params.xhrCacheIgnore.indexOf(url) < 0\n      ) {\n        for (let i = 0; i < router.cache.xhr.length; i += 1) {\n          const cachedUrl = router.cache.xhr[i];\n          if (cachedUrl.url === url) {\n            // Check expiration\n            if (now() - cachedUrl.time < params.xhrCacheDuration) {\n              // Load from cache\n              resolve(cachedUrl.content);\n              return;\n            }\n          }\n        }\n      }\n      router.xhrAbortController = router.app.request.abortController();\n      router.app.request({\n        abortController: router.xhrAbortController,\n        url,\n        method: 'GET',\n        beforeSend(xhr) {\n          router.emit('routerAjaxStart', xhr, options);\n        },\n        complete(xhr, status) {\n          router.emit('routerAjaxComplete', xhr);\n          if (\n            (status !== 'error' && status !== 'timeout' && xhr.status >= 200 && xhr.status < 300) ||\n            xhr.status === 0\n          ) {\n            if (params.xhrCache && xhr.responseText !== '') {\n              router.removeFromXhrCache(url);\n              router.cache.xhr.push({\n                url,\n                time: now(),\n                content: xhr.responseText,\n              });\n            }\n            router.emit('routerAjaxSuccess', xhr, options);\n            resolve(xhr.responseText);\n          } else {\n            router.emit('routerAjaxError', xhr, options);\n            reject(xhr);\n          }\n        },\n        error(xhr) {\n          router.emit('routerAjaxError', xhr, options);\n          reject(xhr);\n        },\n      });\n    });\n  }\n\n  setNavbarPosition($el, position, ariaHidden) {\n    const router = this;\n    $el.removeClass('navbar-previous navbar-current navbar-next');\n    if (position) {\n      $el.addClass(`navbar-${position}`);\n    }\n\n    if (ariaHidden === false) {\n      $el.removeAttr('aria-hidden');\n    } else if (ariaHidden === true) {\n      $el.attr('aria-hidden', 'true');\n    }\n    $el.trigger('navbar:position', { position });\n    router.emit('navbarPosition', $el[0], position);\n  }\n\n  setPagePosition($el, position, ariaHidden) {\n    const router = this;\n    $el.removeClass('page-previous page-current page-next');\n    $el.addClass(`page-${position}`);\n    if (ariaHidden === false) {\n      $el.removeAttr('aria-hidden');\n    } else if (ariaHidden === true) {\n      $el.attr('aria-hidden', 'true');\n    }\n    $el.trigger('page:position', { position });\n    router.emit('pagePosition', $el[0], position);\n  }\n\n  // Remove theme elements\n  removeThemeElements(el) {\n    const router = this;\n    const theme = router.app.theme;\n    let toRemove;\n    if (theme === 'ios') {\n      toRemove = '.md-only, .aurora-only, .if-md, .if-aurora, .if-not-ios, .not-ios';\n    } else if (theme === 'md') {\n      toRemove = '.ios-only, .aurora-only, .if-ios, .if-aurora, .if-not-md, .not-md';\n    } else if (theme === 'aurora') {\n      toRemove = '.ios-only, .md-only, .if-ios, .if-md, .if-not-aurora, .not-aurora';\n    }\n    $(el).find(toRemove).remove();\n  }\n\n  getPageData(pageEl, navbarEl, from, to, route = {}, pageFromEl) {\n    const router = this;\n    const $pageEl = $(pageEl).eq(0);\n    const $navbarEl = $(navbarEl).eq(0);\n    const currentPage = $pageEl[0].t4Page || {};\n    let direction;\n    let pageFrom;\n    if ((from === 'next' && to === 'current') || (from === 'current' && to === 'previous'))\n      direction = 'forward';\n    if ((from === 'current' && to === 'next') || (from === 'previous' && to === 'current'))\n      direction = 'backward';\n    if (currentPage && !currentPage.fromPage) {\n      const $pageFromEl = $(pageFromEl);\n      if ($pageFromEl.length) {\n        pageFrom = $pageFromEl[0].t4Page;\n      }\n    }\n    pageFrom = currentPage.pageFrom || pageFrom;\n    if (pageFrom && pageFrom.pageFrom) {\n      pageFrom.pageFrom = null;\n    }\n    const page = {\n      app: router.app,\n      view: router.view,\n      router,\n      $el: $pageEl,\n      el: $pageEl[0],\n      $pageEl,\n      pageEl: $pageEl[0],\n      $navbarEl,\n      navbarEl: $navbarEl[0],\n      name: $pageEl.attr('data-name'),\n      position: from,\n      from,\n      to,\n      direction,\n      route: currentPage.route ? currentPage.route : route,\n      pageFrom,\n    };\n\n    $pageEl[0].t4Page = page;\n    return page;\n  }\n\n  // Callbacks\n  pageCallback(callback, pageEl, navbarEl, from, to, options = {}, pageFromEl) {\n    if (!pageEl) return;\n    const router = this;\n    const $pageEl = $(pageEl);\n    if (!$pageEl.length) return;\n    const $navbarEl = $(navbarEl);\n    const { route } = options;\n    const restoreScrollTopOnBack =\n      router.params.restoreScrollTopOnBack &&\n      !(\n        router.params.masterDetailBreakpoint > 0 &&\n        $pageEl.hasClass('page-master') &&\n        router.app.width >= router.params.masterDetailBreakpoint\n      );\n    const keepAlive =\n      $pageEl[0].t4Page &&\n      $pageEl[0].t4Page.route &&\n      $pageEl[0].t4Page.route.route &&\n      $pageEl[0].t4Page.route.route.keepAlive;\n\n    if (callback === 'beforeRemove' && keepAlive) {\n      callback = 'beforeUnmount'; // eslint-disable-line\n    }\n\n    const camelName = `page${callback[0].toUpperCase() + callback.slice(1, callback.length)}`;\n    const colonName = `page:${callback.toLowerCase()}`;\n\n    let page = {};\n    if (callback === 'beforeRemove' && $pageEl[0].t4Page) {\n      page = extend($pageEl[0].t4Page, { from, to, position: from });\n    } else {\n      page = router.getPageData($pageEl[0], $navbarEl[0], from, to, route, pageFromEl);\n    }\n    page.swipeBack = !!options.swipeBack;\n\n    const { on = {}, once = {} } = options.route ? options.route.route : {};\n    if (options.on) {\n      extend(on, options.on);\n    }\n    if (options.once) {\n      extend(once, options.once);\n    }\n\n    function attachEvents() {\n      if ($pageEl[0].t4RouteEventsAttached) return;\n      $pageEl[0].t4RouteEventsAttached = true;\n      if (on && Object.keys(on).length > 0) {\n        $pageEl[0].t4RouteEventsOn = on;\n        Object.keys(on).forEach((eventName) => {\n          on[eventName] = on[eventName].bind(router);\n          $pageEl.on(eventNameToColonCase(eventName), on[eventName]);\n        });\n      }\n      if (once && Object.keys(once).length > 0) {\n        $pageEl[0].t4RouteEventsOnce = once;\n        Object.keys(once).forEach((eventName) => {\n          once[eventName] = once[eventName].bind(router);\n          $pageEl.once(eventNameToColonCase(eventName), once[eventName]);\n        });\n      }\n    }\n\n    function detachEvents() {\n      if (!$pageEl[0].t4RouteEventsAttached) return;\n      if ($pageEl[0].t4RouteEventsOn) {\n        Object.keys($pageEl[0].t4RouteEventsOn).forEach((eventName) => {\n          $pageEl.off(eventNameToColonCase(eventName), $pageEl[0].t4RouteEventsOn[eventName]);\n        });\n      }\n      if ($pageEl[0].t4RouteEventsOnce) {\n        Object.keys($pageEl[0].t4RouteEventsOnce).forEach((eventName) => {\n          $pageEl.off(eventNameToColonCase(eventName), $pageEl[0].t4RouteEventsOnce[eventName]);\n        });\n      }\n      $pageEl[0].t4RouteEventsAttached = null;\n      $pageEl[0].t4RouteEventsOn = null;\n      $pageEl[0].t4RouteEventsOnce = null;\n      delete $pageEl[0].t4RouteEventsAttached;\n      delete $pageEl[0].t4RouteEventsOn;\n      delete $pageEl[0].t4RouteEventsOnce;\n    }\n\n    if (callback === 'mounted') {\n      attachEvents();\n    }\n    if (callback === 'init') {\n      if (\n        restoreScrollTopOnBack &&\n        (from === 'previous' || !from) &&\n        to === 'current' &&\n        router.scrollHistory[page.route.url] &&\n        !$pageEl.hasClass('no-restore-scroll')\n      ) {\n        let $pageContent = $pageEl.find('.page-content');\n        if ($pageContent.length > 0) {\n          // eslint-disable-next-line\n          $pageContent = $pageContent.filter((pageContentEl) => {\n            return (\n              $(pageContentEl).parents('.tab:not(.tab-active)').length === 0 &&\n              !$(pageContentEl).is('.tab:not(.tab-active)')\n            );\n          });\n        }\n        $pageContent.scrollTop(router.scrollHistory[page.route.url]);\n      }\n      attachEvents();\n      if ($pageEl[0].t4PageInitialized) {\n        $pageEl.trigger('page:reinit', page);\n        router.emit('pageReinit', page);\n        return;\n      }\n      $pageEl[0].t4PageInitialized = true;\n    }\n    if (\n      restoreScrollTopOnBack &&\n      callback === 'beforeOut' &&\n      from === 'current' &&\n      to === 'previous'\n    ) {\n      // Save scroll position\n      let $pageContent = $pageEl.find('.page-content');\n      if ($pageContent.length > 0) {\n        // eslint-disable-next-line\n        $pageContent = $pageContent.filter((pageContentEl) => {\n          return (\n            $(pageContentEl).parents('.tab:not(.tab-active)').length === 0 &&\n            !$(pageContentEl).is('.tab:not(.tab-active)')\n          );\n        });\n      }\n      router.scrollHistory[page.route.url] = $pageContent.scrollTop();\n    }\n    if (restoreScrollTopOnBack && callback === 'beforeOut' && from === 'current' && to === 'next') {\n      // Delete scroll position\n      delete router.scrollHistory[page.route.url];\n    }\n\n    $pageEl.trigger(colonName, page);\n    router.emit(camelName, page);\n\n    if (callback === 'beforeRemove' || callback === 'beforeUnmount') {\n      detachEvents();\n      if (!keepAlive) {\n        if ($pageEl[0].t4Page && $pageEl[0].t4Page.navbarEl) {\n          delete $pageEl[0].t4Page.navbarEl.t4Page;\n        }\n        $pageEl[0].t4Page = null;\n      }\n    }\n  }\n\n  saveHistory() {\n    const router = this;\n    const window = getWindow();\n    router.view.history = router.history;\n    if (\n      router.params.browserHistory &&\n      router.params.browserHistoryStoreHistory &&\n      window.localStorage\n    ) {\n      window.localStorage[`t4router-${router.view.id}-history`] = JSON.stringify(router.history);\n    }\n  }\n\n  restoreHistory() {\n    const router = this;\n    const window = getWindow();\n    if (\n      router.params.browserHistory &&\n      router.params.browserHistoryStoreHistory &&\n      window.localStorage &&\n      window.localStorage[`t4router-${router.view.id}-history`]\n    ) {\n      router.history = JSON.parse(window.localStorage[`t4router-${router.view.id}-history`]);\n      router.view.history = router.history;\n    }\n  }\n\n  clearHistory() {\n    const router = this;\n    router.history = [];\n    if (router.view) router.view.history = [];\n    router.saveHistory();\n  }\n\n  updateCurrentUrl(newUrl) {\n    const router = this;\n    appRouterCheck(router, 'updateCurrentUrl');\n    // Update history\n    if (router.history.length) {\n      router.history[router.history.length - 1] = newUrl;\n    } else {\n      router.history.push(newUrl);\n    }\n\n    // Update current route params\n    const { query, hash, params, url, path } = router.parseRouteUrl(newUrl);\n    if (router.currentRoute) {\n      extend(router.currentRoute, {\n        query,\n        hash,\n        params,\n        url,\n        path,\n      });\n    }\n\n    if (router.params.browserHistory) {\n      const browserHistoryRoot = router.params.browserHistoryRoot || '';\n      History.replace(\n        router.view.id,\n        {\n          url: newUrl,\n        },\n        browserHistoryRoot + router.params.browserHistorySeparator + newUrl,\n      );\n    }\n\n    // Save History\n    router.saveHistory();\n\n    router.emit('routeUrlUpdate', router.currentRoute, router);\n  }\n\n  getInitialUrl() {\n    const router = this;\n    if (router.initialUrl) {\n      return {\n        initialUrl: router.initialUrl,\n        historyRestored: router.historyRestored,\n      };\n    }\n    const { app, view } = router;\n    const document = getDocument();\n    const window = getWindow();\n\n    const location =\n      app.params.url && typeof app.params.url === 'string' && typeof URL !== 'undefined'\n        ? new URL(app.params.url)\n        : document.location;\n\n    let initialUrl = router.params.url;\n    let documentUrl = location.href.split(location.origin)[1];\n    let historyRestored;\n    const { browserHistory, browserHistoryOnLoad, browserHistorySeparator } = router.params;\n    let { browserHistoryRoot } = router.params;\n    if (\n      (window.cordova || (window.Capacitor && window.Capacitor.isNative)) &&\n      browserHistory &&\n      !browserHistorySeparator &&\n      !browserHistoryRoot &&\n      location.pathname.indexOf('index.html')\n    ) {\n      // eslint-disable-next-line\n      console.warn(\n        'techno4: wrong or not complete browserHistory configuration, trying to guess browserHistoryRoot',\n      );\n      browserHistoryRoot = location.pathname.split('index.html')[0];\n    }\n    if (!browserHistory || !browserHistoryOnLoad) {\n      if (!initialUrl) {\n        initialUrl = documentUrl;\n      }\n      if (location.search && initialUrl.indexOf('?') < 0) {\n        initialUrl += location.search;\n      }\n      if (location.hash && initialUrl.indexOf('#') < 0) {\n        initialUrl += location.hash;\n      }\n    } else {\n      if (browserHistoryRoot && documentUrl.indexOf(browserHistoryRoot) >= 0) {\n        documentUrl = documentUrl.split(browserHistoryRoot)[1];\n        if (documentUrl === '') documentUrl = '/';\n      }\n      if (browserHistorySeparator.length > 0 && documentUrl.indexOf(browserHistorySeparator) >= 0) {\n        initialUrl = documentUrl.split(browserHistorySeparator)[1];\n      } else {\n        initialUrl = documentUrl;\n      }\n      router.restoreHistory();\n      if (router.history.indexOf(initialUrl) >= 0) {\n        router.history = router.history.slice(0, router.history.indexOf(initialUrl) + 1);\n      } else if (router.params.url === initialUrl) {\n        router.history = [initialUrl];\n      } else if (\n        History.state &&\n        History.state[view.id] &&\n        History.state[view.id].url === router.history[router.history.length - 1]\n      ) {\n        initialUrl = router.history[router.history.length - 1];\n      } else {\n        router.history = [documentUrl.split(browserHistorySeparator)[0] || '/', initialUrl];\n      }\n      if (router.history.length > 1) {\n        historyRestored = true;\n      } else {\n        router.history = [];\n      }\n      router.saveHistory();\n    }\n\n    router.initialUrl = initialUrl;\n    router.historyRestored = historyRestored;\n\n    return { initialUrl, historyRestored };\n  }\n\n  init() {\n    const router = this;\n    const { app, view } = router;\n    const document = getDocument();\n\n    router.mount();\n\n    const { initialUrl, historyRestored } = router.getInitialUrl();\n\n    // Init Swipeback\n    if (\n      (view && router.params.iosSwipeBack && app.theme === 'ios') ||\n      (view && router.params.mdSwipeBack && app.theme === 'md') ||\n      (view && router.params.auroraSwipeBack && app.theme === 'aurora')\n    ) {\n      SwipeBack(router);\n    }\n\n    const {\n      browserHistory,\n      browserHistoryOnLoad,\n      browserHistoryAnimateOnLoad,\n      browserHistoryInitialMatch,\n    } = router.params;\n\n    let currentRoute;\n    if (router.history.length > 1) {\n      // Will load page\n      const initUrl = browserHistoryInitialMatch ? initialUrl : router.history[0];\n      currentRoute = router.findMatchingRoute(initUrl);\n      if (!currentRoute) {\n        currentRoute = extend(router.parseRouteUrl(initUrl), {\n          route: {\n            url: initUrl,\n            path: initUrl.split('?')[0],\n          },\n        });\n      }\n    } else {\n      // Don't load page\n      currentRoute = router.findMatchingRoute(initialUrl);\n      if (!currentRoute) {\n        currentRoute = extend(router.parseRouteUrl(initialUrl), {\n          route: {\n            url: initialUrl,\n            path: initialUrl.split('?')[0],\n          },\n        });\n      }\n    }\n\n    if (router.params.stackPages) {\n      router.$el.children('.page').each((pageEl) => {\n        const $pageEl = $(pageEl);\n        router.initialPages.push($pageEl[0]);\n        if (router.dynamicNavbar && $pageEl.children('.navbar').length > 0) {\n          router.initialNavbars.push($pageEl.children('.navbar')[0]);\n        }\n      });\n    }\n\n    if (\n      router.$el.children('.page:not(.stacked)').length === 0 &&\n      initialUrl &&\n      router.params.loadInitialPage\n    ) {\n      // No pages presented in DOM, reload new page\n      router.navigate(initialUrl, {\n        initial: true,\n        reloadCurrent: true,\n        browserHistory: false,\n        animate: false,\n        once: {\n          modalOpen() {\n            if (!historyRestored) return;\n            const preloadPreviousPage =\n              router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`];\n            if (preloadPreviousPage && router.history.length > 1) {\n              router.back({ preload: true });\n            }\n          },\n          pageAfterIn() {\n            if (!historyRestored) return;\n            const preloadPreviousPage =\n              router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`];\n            if (preloadPreviousPage && router.history.length > 1) {\n              router.back({ preload: true });\n            }\n          },\n        },\n      });\n    } else if (router.$el.children('.page:not(.stacked)').length) {\n      // Init current DOM page\n      let hasTabRoute;\n      router.currentRoute = currentRoute;\n      router.$el.children('.page:not(.stacked)').each((pageEl) => {\n        const $pageEl = $(pageEl);\n        let $navbarEl;\n        router.setPagePosition($pageEl, 'current');\n        if (router.dynamicNavbar) {\n          $navbarEl = $pageEl.children('.navbar');\n          if ($navbarEl.length > 0) {\n            if (!router.$navbarsEl.parents(document).length) {\n              router.$el.prepend(router.$navbarsEl);\n            }\n            router.setNavbarPosition($navbarEl, 'current');\n            router.$navbarsEl.append($navbarEl);\n            if ($navbarEl.children('.title-large').length) {\n              $navbarEl.addClass('navbar-large');\n            }\n            $pageEl.children('.navbar').remove();\n          } else {\n            router.$navbarsEl.addClass('navbar-hidden');\n            if ($navbarEl.children('.title-large').length) {\n              router.$navbarsEl.addClass('navbar-hidden navbar-large-hidden');\n            }\n          }\n        }\n        if (\n          router.currentRoute &&\n          router.currentRoute.route &&\n          (router.currentRoute.route.master === true ||\n            (typeof router.currentRoute.route.master === 'function' &&\n              router.currentRoute.route.master(app, router))) &&\n          router.params.masterDetailBreakpoint > 0\n        ) {\n          $pageEl.addClass('page-master');\n          $pageEl.trigger('page:role', { role: 'master' });\n          if ($navbarEl && $navbarEl.length) {\n            $navbarEl.addClass('navbar-master');\n          }\n          view.checkMasterDetailBreakpoint();\n        }\n        const initOptions = {\n          route: router.currentRoute,\n        };\n        if (router.currentRoute && router.currentRoute.route && router.currentRoute.route.options) {\n          extend(initOptions, router.currentRoute.route.options);\n        }\n        router.currentPageEl = $pageEl[0];\n        if (router.dynamicNavbar && $navbarEl.length) {\n          router.currentNavbarEl = $navbarEl[0];\n        }\n        router.removeThemeElements($pageEl);\n        if (router.dynamicNavbar && $navbarEl.length) {\n          router.removeThemeElements($navbarEl);\n        }\n        if (initOptions.route.route.tab) {\n          hasTabRoute = true;\n          router.tabLoad(initOptions.route.route.tab, extend({}, initOptions));\n        }\n        router.pageCallback('init', $pageEl, $navbarEl, 'current', undefined, initOptions);\n        router.pageCallback('beforeIn', $pageEl, $navbarEl, 'current', undefined, initOptions);\n        router.pageCallback('afterIn', $pageEl, $navbarEl, 'current', undefined, initOptions);\n      });\n      if (historyRestored) {\n        if (browserHistoryInitialMatch) {\n          const preloadPreviousPage =\n            router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`];\n          if (preloadPreviousPage && router.history.length > 1) {\n            router.back({ preload: true });\n          }\n        } else {\n          router.navigate(initialUrl, {\n            initial: true,\n            browserHistory: false,\n            history: false,\n            animate: browserHistoryAnimateOnLoad,\n            once: {\n              pageAfterIn() {\n                const preloadPreviousPage =\n                  router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`];\n                if (preloadPreviousPage && router.history.length > 2) {\n                  router.back({ preload: true });\n                }\n              },\n            },\n          });\n        }\n      }\n      if (!historyRestored && !hasTabRoute) {\n        router.history.push(initialUrl);\n        router.saveHistory();\n      }\n    }\n    if (\n      initialUrl &&\n      browserHistory &&\n      browserHistoryOnLoad &&\n      (!History.state || !History.state[view.id])\n    ) {\n      History.initViewState(view.id, {\n        url: initialUrl,\n      });\n    }\n    router.emit('local::init routerInit', router);\n  }\n\n  destroy() {\n    let router = this;\n\n    router.emit('local::destroy routerDestroy', router);\n\n    // Delete props & methods\n    Object.keys(router).forEach((routerProp) => {\n      router[routerProp] = null;\n      delete router[routerProp];\n    });\n\n    router = null;\n  }\n}\n\n// Load\nRouter.prototype.navigate = navigate;\nRouter.prototype.refreshPage = refreshPage;\n// Tab\nRouter.prototype.tabLoad = tabLoad;\nRouter.prototype.tabRemove = tabRemove;\n// Modal\nRouter.prototype.modalLoad = modalLoad;\nRouter.prototype.modalRemove = modalRemove;\n// Back\nRouter.prototype.back = back;\n// Clear history\nRouter.prototype.clearPreviousHistory = clearPreviousHistory;\n\nexport default Router;\n","import $ from '../../shared/dom64.js';\nimport { extend } from '../../shared/utils.js';\nimport History from '../../shared/history.js';\nimport asyncComponent from './async-component.js';\n\nfunction tabLoad(tabRoute, loadOptions = {}) {\n  const router = this;\n  const options = extend(\n    {\n      animate: router.params.animate,\n      browserHistory: true,\n      history: true,\n      parentPageEl: null,\n      preload: false,\n      on: {},\n    },\n    loadOptions,\n  );\n\n  let currentRoute;\n  let previousRoute;\n  if (options.route) {\n    // Set Route\n    if (!options.preload && options.route !== router.currentRoute) {\n      previousRoute = router.previousRoute;\n      router.currentRoute = options.route;\n    }\n    if (options.preload) {\n      currentRoute = options.route;\n      previousRoute = router.currentRoute;\n    } else {\n      currentRoute = router.currentRoute;\n      if (!previousRoute) previousRoute = router.previousRoute;\n    }\n\n    // Update Browser History\n    if (router.params.browserHistory && options.browserHistory && !options.reloadPrevious) {\n      History[router.params.browserHistoryTabs](\n        router.view.id,\n        {\n          url: options.route.url,\n        },\n        (router.params.browserHistoryRoot || '') +\n          router.params.browserHistorySeparator +\n          options.route.url,\n      );\n    }\n\n    // Update Router History\n    if (options.history) {\n      router.history[Math.max(router.history.length - 1, 0)] = options.route.url;\n      router.saveHistory();\n    }\n  }\n\n  // Show Tab\n  const $parentPageEl = $(options.parentPageEl || router.currentPageEl);\n  let tabEl;\n  if ($parentPageEl.length && $parentPageEl.find(`#${tabRoute.id}`).length) {\n    tabEl = $parentPageEl.find(`#${tabRoute.id}`).eq(0);\n  } else if (router.view.selector) {\n    tabEl = `${router.view.selector} #${tabRoute.id}`;\n  } else {\n    tabEl = `#${tabRoute.id}`;\n  }\n  const tabShowResult = router.app.tab.show({\n    tabEl,\n    animate: options.animate,\n    tabRoute: options.route,\n  });\n\n  const { $newTabEl, $oldTabEl, animated, onTabsChanged } = tabShowResult;\n\n  if ($newTabEl && $newTabEl.parents('.page').length > 0 && options.route) {\n    const tabParentPageData = $newTabEl.parents('.page')[0].t4Page;\n    if (tabParentPageData && options.route) {\n      tabParentPageData.route = options.route;\n    }\n  }\n\n  // Tab Content Loaded\n  function onTabLoaded(contentEl) {\n    // Remove theme elements\n    router.removeThemeElements($newTabEl);\n\n    let tabEventTarget = $newTabEl;\n    if (typeof contentEl !== 'string') tabEventTarget = $(contentEl);\n\n    tabEventTarget.trigger('tab:init tab:mounted', tabRoute);\n    router.emit('tabInit tabMounted', $newTabEl[0], tabRoute);\n\n    if ($oldTabEl && $oldTabEl.length) {\n      if (animated) {\n        onTabsChanged(() => {\n          router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n          if (router.params.unloadTabContent) {\n            router.tabRemove($oldTabEl, $newTabEl, tabRoute);\n          }\n        });\n      } else {\n        router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n        if (router.params.unloadTabContent) {\n          router.tabRemove($oldTabEl, $newTabEl, tabRoute);\n        }\n      }\n    }\n  }\n\n  if ($newTabEl[0].t4RouterTabLoaded) {\n    if (!$oldTabEl || !$oldTabEl.length) return router;\n    if (animated) {\n      onTabsChanged(() => {\n        router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n      });\n    } else {\n      router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n    }\n    return router;\n  }\n\n  // Load Tab Content\n  function loadTab(loadTabParams, loadTabOptions) {\n    // Load Tab Props\n    const { url, content, el, component, componentUrl } = loadTabParams;\n    // Component/Template Callbacks\n    function resolve(contentEl) {\n      router.allowPageChange = true;\n      if (!contentEl) return;\n      if (typeof contentEl === 'string') {\n        $newTabEl.html(contentEl);\n      } else {\n        $newTabEl.html('');\n        if (contentEl.t4Component) {\n          contentEl.t4Component.mount((componentEl) => {\n            $newTabEl.append(componentEl);\n          });\n        } else {\n          $newTabEl.append(contentEl);\n        }\n      }\n      $newTabEl[0].t4RouterTabLoaded = true;\n      onTabLoaded(contentEl);\n    }\n    function reject() {\n      router.allowPageChange = true;\n      return router;\n    }\n\n    if (content) {\n      resolve(content);\n    } else if (el) {\n      resolve(el);\n    } else if (component || componentUrl) {\n      // Load from component (t4/Vue/React/...)\n      try {\n        router.tabComponentLoader({\n          tabEl: $newTabEl[0],\n          component,\n          componentUrl,\n          options: loadTabOptions,\n          resolve,\n          reject,\n        });\n      } catch (err) {\n        router.allowPageChange = true;\n        throw err;\n      }\n    } else if (url) {\n      // Load using XHR\n      if (router.xhrAbortController) {\n        router.xhrAbortController.abort();\n        router.xhrAbortController = false;\n      }\n      router\n        .xhrRequest(url, loadTabOptions)\n        .then((tabContent) => {\n          resolve(tabContent);\n        })\n        .catch(() => {\n          router.allowPageChange = true;\n        });\n    }\n  }\n\n  let hasContentLoadProp;\n  'url content component el componentUrl'.split(' ').forEach((tabLoadProp) => {\n    if (tabRoute[tabLoadProp]) {\n      hasContentLoadProp = true;\n      loadTab({ [tabLoadProp]: tabRoute[tabLoadProp] }, options);\n    }\n  });\n\n  // Async\n  function asyncResolve(resolveParams, resolveOptions) {\n    loadTab(resolveParams, extend(options, resolveOptions));\n  }\n  function asyncReject() {\n    router.allowPageChange = true;\n  }\n  if (tabRoute.async) {\n    tabRoute.async.call(router, {\n      router,\n      to: currentRoute,\n      from: previousRoute,\n      resolve: asyncResolve,\n      reject: asyncReject,\n      app: router.app,\n    });\n  } else if (tabRoute.asyncComponent) {\n    asyncComponent(router, tabRoute.asyncComponent, asyncResolve, asyncReject);\n  } else if (!hasContentLoadProp) {\n    router.allowPageChange = true;\n  }\n\n  return router;\n}\nfunction tabRemove($oldTabEl, $newTabEl, tabRoute) {\n  const router = this;\n\n  let hasTabComponentChild;\n  if ($oldTabEl[0]) {\n    $oldTabEl[0].t4RouterTabLoaded = false;\n    delete $oldTabEl[0].t4RouterTabLoaded;\n  }\n  $oldTabEl.children().each((tabChild) => {\n    if (tabChild.t4Component) {\n      hasTabComponentChild = true;\n      $(tabChild).trigger('tab:beforeremove', tabRoute);\n      tabChild.t4Component.destroy();\n    }\n  });\n  if (!hasTabComponentChild) {\n    $oldTabEl.trigger('tab:beforeremove', tabRoute);\n  }\n  router.emit('tabBeforeRemove', $oldTabEl[0], $newTabEl[0], tabRoute);\n  router.removeTabContent($oldTabEl[0], tabRoute);\n}\n\nexport { tabLoad, tabRemove };\n","import { extend, nextTick } from '../../shared/utils.js';\nimport History from '../../shared/history.js';\nimport asyncComponent from './async-component.js';\n\nfunction modalLoad(modalType, route, loadOptions = {}, direction) {\n  const router = this;\n  const app = router.app;\n  const isPanel = modalType === 'panel';\n  const modalOrPanel = isPanel ? 'panel' : 'modal';\n\n  const options = extend(\n    {\n      animate: router.params.animate,\n      browserHistory: true,\n      history: true,\n      on: {},\n      once: {},\n    },\n    loadOptions,\n  );\n\n  const modalParams = extend({}, route.route[modalType]);\n  const modalRoute = route.route;\n\n  const routeCallback = (modal, name) => {\n    const { on, once } = options;\n    let callback;\n    if (name === 'open') {\n      callback = on.modalOpen || once.modalOpen || on.panelOpen || once.panelOpen;\n    }\n    if (name === 'close') {\n      callback = on.modalClose || once.modalClose || on.panelClose || once.panelClose;\n    }\n    if (name === 'closed') {\n      callback = on.modalClosed || once.modalClosed || on.panelClosed || once.panelClosed;\n    }\n    if (callback) callback(modal);\n  };\n\n  function onModalLoaded() {\n    // Create Modal\n    const modal = app[modalType].create(modalParams);\n    modalRoute.modalInstance = modal;\n\n    const hasEl = modal.el;\n\n    function closeOnSwipeBack() {\n      modal.close();\n    }\n    modal.on(`${modalOrPanel}Open`, () => {\n      if (!hasEl) {\n        // Remove theme elements\n        router.removeThemeElements(modal.el);\n\n        // Emit events\n        modal.$el.trigger(\n          `${modalType.toLowerCase()}:init ${modalType.toLowerCase()}:mounted`,\n          route,\n          modal,\n        );\n        router.emit(\n          `${!isPanel ? 'modalInit' : ''} ${modalType}Init ${modalType}Mounted`,\n          modal.el,\n          route,\n          modal,\n        );\n      }\n      router.once('swipeBackMove', closeOnSwipeBack);\n      routeCallback(modal, 'open');\n    });\n    modal.on(`${modalOrPanel}Close`, () => {\n      router.off('swipeBackMove', closeOnSwipeBack);\n      if (!modal.closeByRouter) {\n        router.back();\n      }\n      routeCallback(modal, 'close');\n    });\n\n    modal.on(`${modalOrPanel}Closed`, () => {\n      modal.$el.trigger(`${modalType.toLowerCase()}:beforeremove`, route, modal);\n      modal.emit(\n        `${!isPanel ? 'modalBeforeRemove ' : ''}${modalType}BeforeRemove`,\n        modal.el,\n        route,\n        modal,\n      );\n      const modalComponent = modal.el.t4Component;\n      routeCallback(modal, 'closed');\n      if (modalComponent) {\n        modalComponent.destroy();\n      }\n      nextTick(() => {\n        if (modalComponent || modalParams.component || modalParams.asyncComponent) {\n          router.removeModal(modal.el);\n        }\n        modal.destroy();\n        delete modal.route;\n        delete modalRoute.modalInstance;\n      });\n    });\n\n    if (options.route) {\n      // Update Browser History\n      if (router.params.browserHistory && options.browserHistory) {\n        History.push(\n          router.view.id,\n          {\n            url: options.route.url,\n            modal: modalType,\n          },\n          (router.params.browserHistoryRoot || '') +\n            router.params.browserHistorySeparator +\n            options.route.url,\n        );\n      }\n\n      // Set Route\n      if (options.route !== router.currentRoute) {\n        modal.route = extend(options.route, { modal });\n        router.currentRoute = modal.route;\n      }\n\n      // Update Router History\n      if (options.history && !options.reloadCurrent) {\n        router.history.push(options.route.url);\n        router.saveHistory();\n      }\n    }\n\n    if (hasEl) {\n      // Remove theme elements\n      router.removeThemeElements(modal.el);\n\n      // Emit events\n      modal.$el.trigger(\n        `${modalType.toLowerCase()}:init ${modalType.toLowerCase()}:mounted`,\n        route,\n        modal,\n      );\n      router.emit(\n        `${modalOrPanel}Init ${modalType}Init ${modalType}Mounted`,\n        modal.el,\n        route,\n        modal,\n      );\n    }\n\n    // Open\n    modal.open(options.animate === false || options.animate === true ? options.animate : undefined);\n  }\n\n  // Load Modal Content\n  function loadModal(loadModalParams, loadModalOptions) {\n    // Load Modal Props\n    const { url, content, component, componentUrl } = loadModalParams;\n\n    // Component/Template Callbacks\n    function resolve(contentEl) {\n      if (contentEl) {\n        if (typeof contentEl === 'string') {\n          modalParams.content = contentEl;\n        } else if (contentEl.t4Component) {\n          contentEl.t4Component.mount((componentEl) => {\n            modalParams.el = componentEl;\n            app.$el.append(componentEl);\n          });\n        } else {\n          modalParams.el = contentEl;\n        }\n        onModalLoaded();\n      }\n    }\n    function reject() {\n      router.allowPageChange = true;\n      return router;\n    }\n\n    if (content) {\n      resolve(content);\n    } else if (component || componentUrl) {\n      // Load from component (t4/Vue/React/...)\n      try {\n        router.modalComponentLoader({\n          rootEl: app.el,\n          component,\n          componentUrl,\n          options: loadModalOptions,\n          resolve,\n          reject,\n        });\n      } catch (err) {\n        router.allowPageChange = true;\n        throw err;\n      }\n    } else if (url) {\n      // Load using XHR\n      if (router.xhrAbortController) {\n        router.xhrAbortController.abort();\n        router.xhrAbortController = false;\n      }\n      router\n        .xhrRequest(url, loadModalOptions)\n        .then((modalContent) => {\n          modalParams.content = modalContent;\n          onModalLoaded();\n        })\n        .catch(() => {\n          router.allowPageChange = true;\n        });\n    } else {\n      onModalLoaded();\n    }\n  }\n\n  let foundLoadProp;\n  'url content component el componentUrl template'.split(' ').forEach((modalLoadProp) => {\n    if (modalParams[modalLoadProp] && !foundLoadProp) {\n      foundLoadProp = true;\n      loadModal({ [modalLoadProp]: modalParams[modalLoadProp] }, options);\n    }\n  });\n  if (!foundLoadProp && modalType === 'actions') {\n    onModalLoaded();\n  }\n\n  // Async\n  function asyncResolve(resolveParams, resolveOptions) {\n    loadModal(resolveParams, extend(options, resolveOptions));\n  }\n  function asyncReject() {\n    router.allowPageChange = true;\n  }\n  if (modalParams.async) {\n    modalParams.async.call(router, {\n      router,\n      to: options.route,\n      from: router.currentRoute,\n      resolve: asyncResolve,\n      reject: asyncReject,\n      direction,\n      app,\n    });\n  }\n  if (modalParams.asyncComponent) {\n    asyncComponent(router, modalParams.asyncComponent, asyncResolve, asyncReject);\n  }\n  return router;\n}\nfunction modalRemove(modal) {\n  extend(modal, { closeByRouter: true });\n  modal.close();\n}\n\nexport { modalLoad, modalRemove };\n","import $ from '../../shared/dom64.js';\nimport appRouterCheck from './app-router-check.js';\n\nfunction clearPreviousPages(router) {\n  appRouterCheck(router, 'clearPreviousPages');\n  const app = router.app;\n  const dynamicNavbar = router.dynamicNavbar;\n\n  const $pagesToRemove = router.$el.children('.page').filter((pageInView) => {\n    if (router.currentRoute && (router.currentRoute.modal || router.currentRoute.panel))\n      return true;\n    return pageInView !== router.currentPageEl;\n  });\n\n  $pagesToRemove.each((pageEl) => {\n    const $oldPageEl = $(pageEl);\n    const $oldNavbarEl = $(app.navbar.getElByPage($oldPageEl));\n    if (router.params.stackPages && router.initialPages.indexOf($oldPageEl[0]) >= 0) {\n      $oldPageEl.addClass('stacked');\n      if (dynamicNavbar) {\n        $oldNavbarEl.addClass('stacked');\n      }\n    } else {\n      // Page remove event\n      router.pageCallback('beforeRemove', $oldPageEl, $oldNavbarEl, 'previous', undefined, {});\n      router.removePage($oldPageEl);\n      if (dynamicNavbar && $oldNavbarEl.length) {\n        router.removeNavbar($oldNavbarEl);\n      }\n    }\n  });\n}\n\nfunction clearPreviousHistory() {\n  const router = this;\n  appRouterCheck(router, 'clearPreviousHistory');\n  const url = router.history[router.history.length - 1];\n\n  clearPreviousPages(router);\n\n  router.history = [url];\n  router.view.history = [url];\n  router.saveHistory();\n}\n\nexport { clearPreviousHistory }; // eslint-disable-line\n","import Router from './router-class.js';\n\nexport default {\n  name: 'router',\n  static: {\n    Router,\n  },\n  instance: {\n    cache: {\n      xhr: [],\n      templates: [],\n      components: [],\n    },\n  },\n  create() {\n    const instance = this;\n    if (instance.app) {\n      // View Router\n      if (instance.params.router) {\n        instance.router = new Router(instance.app, instance);\n      }\n    } else {\n      // App Router\n      instance.router = new Router(instance);\n    }\n  },\n};\n","import $ from '../../shared/dom64.js';\nimport { extend } from '../../shared/utils.js';\nimport { getSupport } from '../../shared/get-support.js';\n\nfunction resizableView(view) {\n  const app = view.app;\n  const support = getSupport();\n  if (view.resizableInitialized) return;\n  extend(view, {\n    resizable: true,\n    resizableWidth: null,\n    resizableInitialized: true,\n  });\n  const $htmlEl = $('html');\n  const { $el } = view;\n  if (!$el) return;\n\n  let $resizeHandlerEl;\n\n  let isTouched;\n  let isMoved;\n  const touchesStart = {};\n  let touchesDiff;\n  let width;\n\n  let minWidth;\n  let maxWidth;\n\n  function transformCSSWidth(v) {\n    if (!v) return null;\n    if (v.indexOf('%') >= 0 || v.indexOf('vw') >= 0) {\n      return (parseInt(v, 10) / 100) * app.width;\n    }\n    const newV = parseInt(v, 10);\n    if (Number.isNaN(newV)) return null;\n    return newV;\n  }\n\n  function isResizable() {\n    return view.resizable && $el.hasClass('view-resizable') && $el.hasClass('view-master-detail');\n  }\n\n  function handleTouchStart(e) {\n    if (!isResizable()) return;\n    touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    isMoved = false;\n    isTouched = true;\n    const $pageMasterEl = $el.children('.page-master');\n    minWidth = transformCSSWidth($pageMasterEl.css('min-width'));\n    maxWidth = transformCSSWidth($pageMasterEl.css('max-width'));\n  }\n  function handleTouchMove(e) {\n    if (!isTouched) return;\n    e.t4PreventSwipePanel = true;\n    const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\n    if (!isMoved) {\n      width = $resizeHandlerEl[0].offsetLeft + $resizeHandlerEl[0].offsetWidth;\n      $el.addClass('view-resizing');\n      $htmlEl.css('cursor', 'col-resize');\n    }\n\n    isMoved = true;\n\n    e.preventDefault();\n\n    touchesDiff = pageX - touchesStart.x;\n\n    let newWidth = width + touchesDiff;\n    if (minWidth && !Number.isNaN(minWidth)) {\n      newWidth = Math.max(newWidth, minWidth);\n    }\n    if (maxWidth && !Number.isNaN(maxWidth)) {\n      newWidth = Math.min(newWidth, maxWidth);\n    }\n    newWidth = Math.min(Math.max(newWidth, 0), app.width);\n\n    view.resizableWidth = newWidth;\n    $htmlEl[0].style.setProperty('--t4-page-master-width', `${newWidth}px`);\n\n    $el.trigger('view:resize', newWidth);\n    view.emit('local::resize viewResize', view, newWidth);\n  }\n  function handleTouchEnd() {\n    $('html').css('cursor', '');\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n    isTouched = false;\n    isMoved = false;\n\n    $htmlEl[0].style.setProperty('--t4-page-master-width', `${view.resizableWidth}px`);\n    $el.removeClass('view-resizing');\n  }\n\n  function handleResize() {\n    if (!view.resizableWidth) return;\n    minWidth = transformCSSWidth($resizeHandlerEl.css('min-width'));\n    maxWidth = transformCSSWidth($resizeHandlerEl.css('max-width'));\n\n    if (minWidth && !Number.isNaN(minWidth) && view.resizableWidth < minWidth) {\n      view.resizableWidth = Math.max(view.resizableWidth, minWidth);\n    }\n    if (maxWidth && !Number.isNaN(maxWidth) && view.resizableWidth > maxWidth) {\n      view.resizableWidth = Math.min(view.resizableWidth, maxWidth);\n    }\n    view.resizableWidth = Math.min(Math.max(view.resizableWidth, 0), app.width);\n\n    $htmlEl[0].style.setProperty('--t4-page-master-width', `${view.resizableWidth}px`);\n  }\n\n  $resizeHandlerEl = view.$el.children('.view-resize-handler');\n  if (!$resizeHandlerEl.length) {\n    view.$el.append('<div class=\"view-resize-handler\"></div>');\n    $resizeHandlerEl = view.$el.children('.view-resize-handler');\n  }\n  view.$resizeHandlerEl = $resizeHandlerEl;\n\n  $el.addClass('view-resizable');\n\n  // Add Events\n  const passive = support.passiveListener ? { passive: true } : false;\n\n  view.$el.on(app.touchEvents.start, '.view-resize-handler', handleTouchStart, passive);\n  app.on('touchmove:active', handleTouchMove);\n  app.on('touchend:passive', handleTouchEnd);\n  app.on('resize', handleResize);\n  view.on('beforeOpen', handleResize);\n\n  view.once('viewDestroy', () => {\n    $el.removeClass('view-resizable');\n    view.$resizeHandlerEl.remove();\n    view.$el.off(app.touchEvents.start, '.view-resize-handler', handleTouchStart, passive);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n    app.off('resize', handleResize);\n    view.off('beforeOpen', handleResize);\n  });\n}\n\nexport default resizableView;\n","import $ from '../../shared/dom64.js';\nimport { extend } from '../../shared/utils.js';\nimport Router from '../../modules/router/router.js';\nimport techno4Class from '../../shared/class.js';\nimport resizableView from './resizable-view.js';\n\nclass View extends techno4Class {\n  constructor(app, el, viewParams = {}) {\n    super(viewParams, [app]);\n\n    const view = this;\n\n    const ssr = view.params.routerId;\n\n    const defaults = {\n      routes: [],\n      routesAdd: [],\n    };\n\n    if (!ssr) {\n      const $el = $(el);\n      if (!$el.length) {\n        let message = \"techno4: can't create a View instance because \";\n        message +=\n          typeof el === 'string'\n            ? `the selector \"${el}\" didn't match any element`\n            : 'el must be an HTMLElement or Dom64 object';\n\n        throw new Error(message);\n      }\n    }\n\n    // Default View params\n    view.params = extend({ el }, defaults, app.params.view, viewParams);\n\n    // Routes\n    if (view.params.routes.length > 0) {\n      view.routes = view.params.routes;\n    } else {\n      view.routes = [].concat(app.routes, view.params.routesAdd);\n    }\n\n    // View Props\n    extend(false, view, {\n      app,\n      name: view.params.name,\n      main: view.params.main,\n      history: [],\n      scrollHistory: {},\n    });\n\n    // Install Modules\n    view.useModules();\n\n    // Add to app\n    app.views.push(view);\n    if (view.main) {\n      app.views.main = view;\n    }\n    if (view.name) {\n      app.views[view.name] = view;\n    }\n\n    // Index\n    view.index = app.views.indexOf(view);\n\n    // View ID\n    let viewId;\n    if (view.name) {\n      viewId = `view_${view.name}`;\n    } else if (view.main) {\n      viewId = 'view_main';\n    } else {\n      viewId = `view_${view.index}`;\n    }\n    view.id = viewId;\n\n    if (!view.params.init) {\n      return view;\n    }\n    // Init View\n    if (app.initialized) {\n      view.init();\n    } else {\n      app.on('init', () => {\n        view.init();\n      });\n    }\n\n    return view;\n  }\n\n  destroy() {\n    let view = this;\n    const app = view.app;\n\n    view.$el.trigger('view:beforedestroy');\n    view.emit('local::beforeDestroy viewBeforeDestroy', view);\n\n    app.off('resize', view.checkMasterDetailBreakpoint);\n\n    if (view.main) {\n      app.views.main = null;\n      delete app.views.main;\n    } else if (view.name) {\n      app.views[view.name] = null;\n      delete app.views[view.name];\n    }\n    view.$el[0].t4View = null;\n    delete view.$el[0].t4View;\n\n    app.views.splice(app.views.indexOf(view), 1);\n\n    // Destroy Router\n    if (view.params.router && view.router) {\n      view.router.destroy();\n    }\n\n    view.emit('local::destroy viewDestroy', view);\n\n    // Delete props & methods\n    Object.keys(view).forEach((viewProp) => {\n      view[viewProp] = null;\n      delete view[viewProp];\n    });\n\n    view = null;\n  }\n\n  checkMasterDetailBreakpoint(force) {\n    const view = this;\n    const app = view.app;\n    const wasMasterDetail = view.$el.hasClass('view-master-detail');\n    const isMasterDetail =\n      app.width >= view.params.masterDetailBreakpoint && view.$el.children('.page-master').length;\n    if ((typeof force === 'undefined' && isMasterDetail) || force === true) {\n      view.$el.addClass('view-master-detail');\n      if (!wasMasterDetail) {\n        view.emit('local::masterDetailBreakpoint viewMasterDetailBreakpoint', view);\n        view.$el.trigger('view:masterDetailBreakpoint');\n      }\n    } else {\n      view.$el.removeClass('view-master-detail');\n      if (wasMasterDetail) {\n        view.emit('local::masterDetailBreakpoint viewMasterDetailBreakpoint', view);\n        view.$el.trigger('view:masterDetailBreakpoint');\n      }\n    }\n  }\n\n  initMasterDetail() {\n    const view = this;\n    const app = view.app;\n    view.checkMasterDetailBreakpoint = view.checkMasterDetailBreakpoint.bind(view);\n    view.checkMasterDetailBreakpoint();\n    if (view.params.masterDetailResizable) {\n      resizableView(view);\n    }\n    app.on('resize', view.checkMasterDetailBreakpoint);\n  }\n\n  mount(viewEl) {\n    const view = this;\n    const app = view.app;\n    const el = view.params.el || viewEl;\n    const $el = $(el);\n\n    // Selector\n    let selector;\n    if (typeof el === 'string') selector = el;\n    else {\n      // Supposed to be HTMLElement or Dom64\n      selector =\n        ($el.attr('id') ? `#${$el.attr('id')}` : '') +\n        ($el.attr('class')\n          ? `.${$el.attr('class').replace(/ /g, '.').replace('.active', '')}`\n          : '');\n    }\n\n    // DynamicNavbar\n    let $navbarsEl;\n    if (app.theme === 'ios' && view.params.iosDynamicNavbar) {\n      $navbarsEl = $el.children('.navbars').eq(0);\n      if ($navbarsEl.length === 0) {\n        $navbarsEl = $('<div class=\"navbars\"></div>');\n      }\n    }\n\n    extend(view, {\n      $el,\n      el: $el[0],\n      main: view.main || $el.hasClass('view-main'),\n      $navbarsEl,\n      navbarsEl: $navbarsEl ? $navbarsEl[0] : undefined,\n      selector,\n    });\n\n    if (view.main) {\n      app.views.main = view;\n    }\n\n    // Save in DOM\n    if ($el && $el[0]) {\n      $el[0].t4View = view;\n    }\n\n    view.emit('local::mount viewMount', view);\n  }\n\n  init(viewEl) {\n    const view = this;\n    view.mount(viewEl);\n    if (view.params.router) {\n      if (view.params.masterDetailBreakpoint > 0) {\n        view.initMasterDetail();\n      }\n      if (\n        view.params.initRouterOnTabShow &&\n        view.$el.hasClass('tab') &&\n        !view.$el.hasClass('tab-active')\n      ) {\n        view.$el.once('tab:show', () => {\n          view.router.init();\n        });\n      } else {\n        view.router.init();\n      }\n\n      view.$el.trigger('view:init');\n      view.emit('local::init viewInit', view);\n    }\n  }\n}\n\n// Use Router\nView.use(Router);\n\nexport default View;\n","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom64.js';\nimport ViewClass from '../../components/view/view-class.js';\n\nfunction initClicks(app) {\n  function handleClicks(e) {\n    const window = getWindow();\n    const $clickedEl = $(e.target);\n    const $clickedLinkEl = $clickedEl.closest('a');\n    const isLink = $clickedLinkEl.length > 0;\n    const url = isLink && $clickedLinkEl.attr('href');\n\n    // Check if link is external\n    if (isLink) {\n      if (\n        $clickedLinkEl.is(app.params.clicks.externalLinks) ||\n        // eslint-disable-next-line\n        (url && url.indexOf('javascript:') >= 0)\n      ) {\n        const target = $clickedLinkEl.attr('target');\n        if (\n          url &&\n          window.cordova &&\n          window.cordova.InAppBrowser &&\n          (target === '_system' || target === '_blank')\n        ) {\n          e.preventDefault();\n          window.cordova.InAppBrowser.open(url, target);\n        } else if (\n          url &&\n          window.Capacitor &&\n          window.Capacitor.Plugins &&\n          window.Capacitor.Plugins.Browser &&\n          (target === '_system' || target === '_blank')\n        ) {\n          e.preventDefault();\n          window.Capacitor.Plugins.Browser.open({ url });\n        }\n        return;\n      }\n    }\n\n    // Modules Clicks\n    Object.keys(app.modules).forEach((moduleName) => {\n      const moduleClicks = app.modules[moduleName].clicks;\n      if (!moduleClicks) return;\n      if (e.preventt4Router) return;\n      Object.keys(moduleClicks).forEach((clickSelector) => {\n        const matchingClickedElement = $clickedEl.closest(clickSelector).eq(0);\n        if (matchingClickedElement.length > 0) {\n          moduleClicks[clickSelector].call(\n            app,\n            matchingClickedElement,\n            matchingClickedElement.dataset(),\n            e,\n          );\n        }\n      });\n    });\n\n    // Load Page\n    let clickedLinkData = {};\n    if (isLink) {\n      e.preventDefault();\n      clickedLinkData = $clickedLinkEl.dataset();\n    }\n    clickedLinkData.clickedEl = $clickedLinkEl[0];\n\n    // Prevent Router\n    if (e.preventt4Router) return;\n    if ($clickedLinkEl.hasClass('prevent-router') || $clickedLinkEl.hasClass('router-prevent'))\n      return;\n\n    const validUrl = url && url.length > 0 && url[0] !== '#';\n    if (validUrl || $clickedLinkEl.hasClass('back')) {\n      let view;\n      if (clickedLinkData.view && clickedLinkData.view === 'current') {\n        view = app.views.current;\n      } else if (clickedLinkData.view) {\n        view = $(clickedLinkData.view)[0].t4View;\n      } else {\n        view = $clickedEl.parents('.view')[0] && $clickedEl.parents('.view')[0].t4View;\n        if (!$clickedLinkEl.hasClass('back') && view && view.params.linksView) {\n          if (typeof view.params.linksView === 'string') view = $(view.params.linksView)[0].t4View;\n          else if (view.params.linksView instanceof ViewClass) view = view.params.linksView;\n        }\n      }\n      if (!view) {\n        if (app.views.main) view = app.views.main;\n      }\n      if (!view || !view.router) return;\n      if ($clickedLinkEl[0].t4RouteProps) {\n        clickedLinkData.props = $clickedLinkEl[0].t4RouteProps;\n      }\n      if ($clickedLinkEl.hasClass('back')) view.router.back(url, clickedLinkData);\n      else view.router.navigate(url, clickedLinkData);\n    }\n  }\n\n  app.on('click', handleClicks);\n}\nexport default {\n  name: 'clicks',\n  params: {\n    clicks: {\n      // External Links\n      externalLinks: '.external',\n    },\n  },\n  on: {\n    init() {\n      const app = this;\n      initClicks(app);\n    },\n  },\n};\n","import { merge } from '../../shared/utils.js';\n\nexport default {\n  name: 'routerComponentLoader',\n  proto: {\n    openIn(router, url, options) {\n      const navigateOptions = {\n        url,\n        route: {\n          path: url,\n          options: {\n            ...options,\n            openIn: undefined,\n          },\n        },\n      };\n      const params = {\n        ...options,\n      };\n      if (options.openIn === 'popup') {\n        params.content = `<div class=\"popup popup-router-open-in\" data-url=\"${url}\"><div class=\"view view-init\" data-links-view=\"${router.view.selector}\" data-url=\"${url}\" data-ignore-open-in=\"true\"></div></div>`;\n        navigateOptions.route.popup = params;\n      }\n      if (options.openIn === 'loginScreen') {\n        params.content = `<div class=\"login-screen login-screen-router-open-in\" data-url=\"${url}\"><div class=\"view view-init\" data-links-view=\"${router.view.selector}\" data-url=\"${url}\" data-ignore-open-in=\"true\"></div></div>`;\n        navigateOptions.route.loginScreen = params;\n      }\n      if (options.openIn === 'sheet') {\n        params.content = `<div class=\"sheet-modal sheet-modal-router-open-in\" data-url=\"${url}\"><div class=\"sheet-modal-inner\"><div class=\"view view-init\" data-links-view=\"${router.view.selector}\" data-url=\"${url}\" data-ignore-open-in=\"true\"></div></div></div>`;\n        navigateOptions.route.sheet = params;\n      }\n      if (options.openIn === 'popover') {\n        params.targetEl = options.clickedEl || options.targetEl;\n        params.content = `<div class=\"popover popover-router-open-in\" data-url=\"${url}\"><div class=\"popover-inner\"><div class=\"view view-init\" data-links-view=\"${router.view.selector}\" data-url=\"${url}\" data-ignore-open-in=\"true\"></div></div></div>`;\n        navigateOptions.route.popover = params;\n      }\n      if (options.openIn.indexOf('panel') >= 0) {\n        const parts = options.openIn.split(':');\n        const side = parts[1] || 'left';\n        const effect = parts[2] || 'cover';\n        params.targetEl = options.clickedEl || options.targetEl;\n        params.content = `<div class=\"panel panel-router-open-in panel-${side} panel-${effect}\" data-url=\"${url}\"><div class=\"view view-init\" data-links-view=\"${router.view.selector}\" data-url=\"${url}\" data-ignore-open-in=\"true\"></div></div>`;\n        navigateOptions.route.panel = params;\n      }\n      return router.navigate(navigateOptions);\n    },\n    componentLoader(component, componentUrl, options = {}, resolve, reject) {\n      const router = this;\n      const { app } = router;\n      const url = typeof component === 'string' ? component : componentUrl;\n      const compiledUrl = router.replaceRequestUrlParams(url, options);\n      function compile(componentFunction) {\n        let context = options.context || {};\n        if (typeof context === 'function') context = context.call(router);\n        else if (typeof context === 'string') {\n          try {\n            context = JSON.parse(context);\n          } catch (err) {\n            reject(err);\n            throw err;\n          }\n        }\n        const componentContext = merge({}, context, {\n          t4route: options.route,\n          t4router: router,\n        });\n        const componentProps = merge(\n          options.route ? options.route.params || {} : {},\n          options.props || {},\n          options.routeProps || {},\n        );\n        let componentEl;\n        let componentRoot;\n        if (options.componentOptions && options.componentOptions.el) {\n          componentEl = options.componentOptions.el;\n        }\n        if (options.componentOptions && options.componentOptions.root) {\n          componentRoot = options.componentOptions.root;\n        }\n        app.component\n          .create(componentFunction, componentProps, {\n            context: componentContext,\n            el: componentEl,\n            root: componentRoot,\n          })\n          .then((createdComponent) => {\n            resolve(createdComponent.el);\n          })\n          .catch((err) => {\n            reject(err);\n            throw new Error(err);\n          });\n      }\n      let cachedComponent;\n      if (compiledUrl && router.params.componentCache) {\n        router.cache.components.forEach((cached) => {\n          if (cached.url === compiledUrl) cachedComponent = cached.component;\n        });\n      }\n      if (compiledUrl && cachedComponent) {\n        compile(cachedComponent);\n      } else if (compiledUrl && !cachedComponent) {\n        // Load via XHR\n        if (router.xhrAbortController) {\n          router.xhrAbortController.abort();\n          router.xhrAbortController = false;\n        }\n        router\n          .xhrRequest(url, options)\n          .then((loadedComponent) => {\n            const parsedComponent = app.component.parse(loadedComponent);\n            if (router.params.componentCache) {\n              router.cache.components.push({\n                url: compiledUrl,\n                component: parsedComponent,\n              });\n            }\n            compile(parsedComponent);\n          })\n          .catch((err) => {\n            reject();\n            throw err;\n          });\n      } else {\n        compile(component);\n      }\n    },\n\n    modalComponentLoader({ component, componentUrl, options, resolve, reject } = {}) {\n      const router = this;\n      router.componentLoader(\n        component,\n        componentUrl,\n        options,\n        (el) => {\n          resolve(el);\n        },\n        reject,\n      );\n    },\n\n    tabComponentLoader({ component, componentUrl, options, resolve, reject } = {}) {\n      const router = this;\n      router.componentLoader(\n        component,\n        componentUrl,\n        options,\n        (el) => {\n          resolve(el);\n        },\n        reject,\n      );\n    },\n\n    pageComponentLoader({ component, componentUrl, options, resolve, reject } = {}) {\n      const router = this;\n      router.componentLoader(\n        component,\n        componentUrl,\n        options,\n        (el, newOptions = {}) => {\n          resolve(el, newOptions);\n        },\n        reject,\n      );\n    },\n  },\n};\n","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","import htm from 'htm';\nimport { flattenArray } from '../../shared/utils.js';\n\nconst ignoreChildren = [false, null, '', undefined];\n\nconst h = (type, props, ...children) => {\n  return {\n    type,\n    props: props || {},\n    children: flattenArray(children.filter((child) => ignoreChildren.indexOf(child) < 0)),\n  };\n};\n\nconst $h = htm.bind(h);\n\nexport default $h;\n","export function vnode(sel, data, children, text, elm) {\n    var key = data === undefined ? undefined : data.key;\n    return { sel: sel, data: data, children: children,\n        text: text, elm: elm, key: key };\n}\nexport default vnode;\n//# sourceMappingURL=vnode.js.map","export var array = Array.isArray;\nexport function primitive(s) {\n    return typeof s === 'string' || typeof s === 'number';\n}\n//# sourceMappingURL=is.js.map","import { vnode } from './vnode.js';\nimport * as is from './is.js';\nfunction addNS(data, children, sel) {\n    data.ns = 'http://www.w3.org/2000/svg';\n    if (sel !== 'foreignObject' && children !== undefined) {\n        for (var i = 0; i < children.length; ++i) {\n            var childData = children[i].data;\n            if (childData !== undefined) {\n                addNS(childData, children[i].children, children[i].sel);\n            }\n        }\n    }\n}\nexport function h(sel, b, c) {\n    var data = {}, children, text, i;\n    if (c !== undefined) {\n        data = b;\n        if (is.array(c)) {\n            children = c;\n        }\n        else if (is.primitive(c)) {\n            text = c;\n        }\n        else if (c && c.sel) {\n            children = [c];\n        }\n    }\n    else if (b !== undefined) {\n        if (is.array(b)) {\n            children = b;\n        }\n        else if (is.primitive(b)) {\n            text = b;\n        }\n        else if (b && b.sel) {\n            children = [b];\n        }\n        else {\n            data = b;\n        }\n    }\n    if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n            if (is.primitive(children[i]))\n                children[i] = vnode(undefined, undefined, undefined, children[i], undefined);\n        }\n    }\n    if (sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n        (sel.length === 3 || sel[3] === '.' || sel[3] === '#')) {\n        addNS(data, children, sel);\n    }\n    return vnode(sel, data, children, text, undefined);\n}\n;\nexport default h;\n//# sourceMappingURL=h.js.map\n","export default {};\n","/* eslint no-use-before-define: \"off\" */\n/* eslint import/no-named-as-default: \"off\" */\nimport h from './snabbdom/h.js';\nimport customComponents from './custom-components.js';\nimport { isObject, eventNameToColonCase } from '../../shared/utils.js';\n\nconst SELF_CLOSING =\n  'area base br col command embed hr img input keygen link menuitem meta param source track wbr'.split(\n    ' ',\n  );\nconst PROPS_ATTRS =\n  'hidden checked disabled readonly selected autofocus autoplay required multiple value indeterminate routeProps innerHTML'.split(\n    ' ',\n  );\nconst BOOLEAN_PROPS =\n  'hidden checked disabled readonly selected autofocus autoplay required multiple readOnly indeterminate'.split(\n    ' ',\n  );\n\nconst getTagName = (treeNode) => {\n  return typeof treeNode.type === 'function'\n    ? treeNode.type.name || 'CustomComponent'\n    : treeNode.type;\n};\n\nconst toCamelCase = (name) => {\n  return name\n    .split('-')\n    .map((word, index) => {\n      if (index === 0) return word.toLowerCase();\n      return word[0].toUpperCase() + word.substr(1);\n    })\n    .join('');\n};\nconst propsFromAttrs = (...args) => {\n  const context = {};\n  args.forEach((obj = {}) => {\n    Object.keys(obj).forEach((key) => {\n      context[toCamelCase(key)] = obj[key];\n    });\n  });\n\n  return context;\n};\n\nconst createCustomComponent = ({ t4, treeNode, vnode, data }) => {\n  const component =\n    typeof treeNode.type === 'function' ? treeNode.type : customComponents[treeNode.type];\n  t4.component\n    .create(component, propsFromAttrs(data.attrs || {}, data.props || {}), {\n      el: vnode.elm,\n      children: treeNode.children,\n    })\n    .then((c) => {\n      if (vnode.data && vnode.data.on && c && c.$el) {\n        Object.keys(vnode.data.on).forEach((eventName) => {\n          c.$el.on(eventName, vnode.data.on[eventName]);\n        });\n      }\n      // eslint-disable-next-line\n      vnode.elm.__component__ = c;\n    });\n};\nconst updateCustomComponent = (vnode) => {\n  // eslint-disable-next-line\n  const component = vnode && vnode.elm && vnode.elm.__component__;\n  if (!component) return;\n  const newProps = propsFromAttrs(vnode.data.attrs || {}, vnode.data.props || {});\n  component.children = vnode.data.treeNode.children;\n  Object.assign(component.props, newProps);\n  component.update();\n};\nconst destroyCustomComponent = (vnode) => {\n  // eslint-disable-next-line\n  const component = vnode && vnode.elm && vnode.elm.__component__;\n\n  if (component) {\n    const { el, $el } = component;\n    if (vnode.data && vnode.data.on && $el) {\n      Object.keys(vnode.data.on).forEach((eventName) => {\n        $el.off(eventName, vnode.data.on[eventName]);\n      });\n    }\n    if (component.destroy) component.destroy();\n    if (el && el.parentNode) el.parentNode.removeChild(el);\n    delete vnode.elm.__component__; // eslint-disable-line\n  }\n};\n\nconst isCustomComponent = (treeNodeType) => {\n  return (\n    typeof treeNodeType === 'function' ||\n    (treeNodeType && treeNodeType.indexOf('-') > 0 && customComponents[treeNodeType])\n  );\n};\n\nfunction getHooks(treeNode, data, t4, initial, isRoot) {\n  const hooks = {};\n  const insert = [];\n  const destroy = [];\n  const update = [];\n  const postpatch = [];\n  let isFakeElement = false;\n  let tagName = getTagName(treeNode);\n  if (data && data.attrs && data.attrs.component) {\n    tagName = data.attrs.component;\n    delete data.attrs.component;\n    isFakeElement = true;\n  }\n\n  const isCustom = isCustomComponent(treeNode.type);\n\n  if (isCustom) {\n    insert.push((vnode) => {\n      if (vnode.sel !== tagName && !isFakeElement) return;\n      createCustomComponent({ t4, treeNode, vnode, data });\n    });\n    destroy.push((vnode) => {\n      destroyCustomComponent(vnode);\n    });\n    update.push((oldVnode, vnode) => {\n      updateCustomComponent(vnode);\n    });\n  }\n\n  if (!isCustom) {\n    if (!data || !data.attrs || !data.attrs.class) return hooks;\n\n    const classNames = data.attrs.class;\n    classNames.split(' ').forEach((className) => {\n      if (!initial) {\n        insert.push(...t4.getVnodeHooks('insert', className));\n      }\n      destroy.push(...t4.getVnodeHooks('destroy', className));\n      update.push(...t4.getVnodeHooks('update', className));\n      postpatch.push(...t4.getVnodeHooks('postpatch', className));\n    });\n  }\n\n  if (isRoot && !initial) {\n    postpatch.push((oldVnode, vnode) => {\n      const vn = vnode || oldVnode;\n      if (!vn) return;\n      if (vn.data && vn.data.component) {\n        vn.data.component.hook('onUpdated');\n      }\n    });\n  }\n  if (\n    insert.length === 0 &&\n    destroy.length === 0 &&\n    update.length === 0 &&\n    postpatch.length === 0\n  ) {\n    return hooks;\n  }\n\n  if (insert.length) {\n    hooks.insert = (vnode) => {\n      insert.forEach((f) => f(vnode));\n    };\n  }\n  if (destroy.length) {\n    hooks.destroy = (vnode) => {\n      destroy.forEach((f) => f(vnode));\n    };\n  }\n  if (update.length) {\n    hooks.update = (oldVnode, vnode) => {\n      update.forEach((f) => f(oldVnode, vnode));\n    };\n  }\n  if (postpatch.length) {\n    hooks.postpatch = (oldVnode, vnode) => {\n      postpatch.forEach((f) => f(oldVnode, vnode));\n    };\n  }\n\n  return hooks;\n}\nconst getEventHandler = (eventHandler, { stop, prevent, once } = {}) => {\n  let fired = false;\n\n  function handler(...args) {\n    const e = args[0];\n    if (once && fired) return;\n    if (stop) e.stopPropagation();\n    if (prevent) e.preventDefault();\n    fired = true;\n\n    eventHandler(...args);\n  }\n\n  return handler;\n};\n\nconst getData = (treeNode, component, t4, initial, isRoot) => {\n  const data = { component, treeNode };\n  const tagName = getTagName(treeNode);\n  Object.keys(treeNode.props).forEach((attrName) => {\n    const attrValue = treeNode.props[attrName];\n    if (typeof attrValue === 'undefined') return;\n    if (PROPS_ATTRS.indexOf(attrName) >= 0) {\n      // Props\n      if (!data.props) data.props = {};\n      if (attrName === 'readonly') {\n        // eslint-disable-next-line\n        attrName = 'readOnly';\n      }\n      if (attrName === 'routeProps') {\n        // eslint-disable-next-line\n        attrName = 't4RouteProps';\n      }\n      if (tagName === 'option' && attrName === 'value') {\n        if (!data.attrs) data.attrs = {};\n        data.attrs.value = attrValue;\n      }\n      if (BOOLEAN_PROPS.indexOf(attrName) >= 0) {\n        // eslint-disable-next-line\n        data.props[attrName] = attrValue === false ? false : true;\n      } else {\n        data.props[attrName] = attrValue;\n      }\n    } else if (attrName === 'key') {\n      // Key\n      data.key = attrValue;\n    } else if (\n      attrName.indexOf('@') === 0 ||\n      (attrName.indexOf('on') === 0 && attrName.length > 2)\n    ) {\n      // Events\n      if (!data.on) data.on = {};\n      let eventName =\n        attrName.indexOf('@') === 0 ? attrName.substr(1) : eventNameToColonCase(attrName.substr(2));\n      let stop = false;\n      let prevent = false;\n      let once = false;\n      if (eventName.indexOf('.') >= 0) {\n        eventName.split('.').forEach((eventNamePart, eventNameIndex) => {\n          if (eventNameIndex === 0) eventName = eventNamePart;\n          else {\n            if (eventNamePart === 'stop') stop = true;\n            if (eventNamePart === 'prevent') prevent = true;\n            if (eventNamePart === 'once') once = true;\n          }\n        });\n      }\n      data.on[eventName] = getEventHandler(attrValue, { stop, prevent, once });\n    } else if (attrName === 'style') {\n      // Style\n      if (typeof attrValue !== 'string') {\n        data.style = attrValue;\n      } else {\n        if (!data.attrs) data.attrs = {};\n        data.attrs.style = attrValue;\n      }\n    } else {\n      // Rest of attribures\n      if (!data.attrs) data.attrs = {};\n      data.attrs[attrName] = attrValue;\n\n      // ID -> Key\n      if (attrName === 'id' && !data.key && !isRoot) {\n        data.key = attrValue;\n      }\n    }\n  });\n\n  const hooks = getHooks(treeNode, data, t4, initial, isRoot);\n\n  hooks.prepatch = (oldVnode, vnode) => {\n    if (!oldVnode || !vnode) return;\n    if (oldVnode && oldVnode.data && oldVnode.data.props) {\n      Object.keys(oldVnode.data.props).forEach((key) => {\n        if (BOOLEAN_PROPS.indexOf(key) < 0) return;\n        if (!vnode.data) vnode.data = {};\n        if (!vnode.data.props) vnode.data.props = {};\n        if (oldVnode.data.props[key] === true && !(key in vnode.data.props)) {\n          vnode.data.props[key] = false;\n        }\n      });\n    }\n  };\n\n  data.hook = hooks;\n\n  return data;\n};\n\nconst getChildren = (treeNode, component, t4, initial) => {\n  if (treeNode && treeNode.type && SELF_CLOSING.indexOf(treeNode.type) >= 0) {\n    return [];\n  }\n  const children = [];\n  const nodes = treeNode.children;\n  for (let i = 0; i < nodes.length; i += 1) {\n    const childNode = nodes[i];\n    const child = treeNodeToVNode(childNode, component, t4, initial, false);\n    if (Array.isArray(child)) {\n      children.push(...child);\n    } else if (child) {\n      children.push(child);\n    }\n  }\n  return children;\n};\n\nconst getSlots = (treeNode, component, t4, initial) => {\n  const slotName = treeNode.props.name || 'default';\n  const slotNodes = (component.children || []).filter((childTreeNode) => {\n    let childSlotName = 'default';\n    if (childTreeNode.props) {\n      childSlotName = childTreeNode.props.slot || 'default';\n    }\n    return childSlotName === slotName;\n  });\n  if (slotNodes.length === 0) {\n    return getChildren(treeNode, component, t4, initial);\n  }\n  return slotNodes.map((subTreeNode) => treeNodeToVNode(subTreeNode, component, t4, initial));\n};\n\nconst isTreeNode = (treeNode) => {\n  return isObject(treeNode) && 'props' in treeNode && 'type' in treeNode && 'children' in treeNode;\n};\n\nconst treeNodeToVNode = (treeNode, component, t4, initial, isRoot) => {\n  if (!isTreeNode(treeNode)) {\n    return String(treeNode);\n  }\n  if (treeNode.type === 'slot') {\n    return getSlots(treeNode, component, t4, initial);\n  }\n  const data = getData(treeNode, component, t4, initial, isRoot);\n  const children = isCustomComponent(treeNode.type)\n    ? []\n    : getChildren(treeNode, component, t4, initial);\n\n  return h(getTagName(treeNode), data, children);\n};\n\nexport default function vdom(tree = {}, component, initial) {\n  return treeNodeToVNode(tree, component, component.t4, initial, true);\n}\n","function createElement(tagName) {\n    return document.createElement(tagName);\n}\nfunction createElementNS(namespaceURI, qualifiedName) {\n    return document.createElementNS(namespaceURI, qualifiedName);\n}\nfunction createTextNode(text) {\n    return document.createTextNode(text);\n}\nfunction createComment(text) {\n    return document.createComment(text);\n}\nfunction insertBefore(parentNode, newNode, referenceNode) {\n    if (referenceNode && referenceNode.parentNode !== parentNode) {\n      if (referenceNode.__component__) referenceNode = referenceNode.__component__.el;\n    }\n    parentNode.insertBefore(newNode, referenceNode);\n}\nfunction removeChild(node, child) {\n    if (!node) return;\n    node.removeChild(child);\n}\nfunction appendChild(node, child) {\n    node.appendChild(child);\n}\nfunction parentNode(node) {\n    return node.parentNode;\n}\nfunction nextSibling(node) {\n    return node.nextSibling;\n}\nfunction tagName(elm) {\n    return elm.tagName;\n}\nfunction setTextContent(node, text) {\n    node.textContent = text;\n}\nfunction getTextContent(node) {\n    return node.textContent;\n}\nfunction isElement(node) {\n    return node.nodeType === 1;\n}\nfunction isText(node) {\n    return node.nodeType === 3;\n}\nfunction isComment(node) {\n    return node.nodeType === 8;\n}\nexport var htmlDomApi = {\n    createElement: createElement,\n    createElementNS: createElementNS,\n    createTextNode: createTextNode,\n    createComment: createComment,\n    insertBefore: insertBefore,\n    removeChild: removeChild,\n    appendChild: appendChild,\n    parentNode: parentNode,\n    nextSibling: nextSibling,\n    tagName: tagName,\n    setTextContent: setTextContent,\n    getTextContent: getTextContent,\n    isElement: isElement,\n    isText: isText,\n    isComment: isComment,\n};\nexport default htmlDomApi;\n//# sourceMappingURL=htmldomapi.js.map\n","import vnode from './vnode.js';\nimport * as is from './is.js';\nimport htmlDomApi from './htmldomapi.js';\nfunction isUndef(s) { return s === undefined; }\nfunction isDef(s) { return s !== undefined; }\nvar emptyNode = vnode('', {}, [], undefined, undefined);\nfunction sameVnode(vnode1, vnode2) {\n    return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\nfunction isVnode(vnode) {\n    return vnode.sel !== undefined;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var i, map = {}, key, ch;\n    for (i = beginIdx; i <= endIdx; ++i) {\n        ch = children[i];\n        if (ch != null) {\n            key = ch.key;\n            if (key !== undefined)\n                map[key] = i;\n        }\n    }\n    return map;\n}\nvar hooks = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\nexport { h } from './h.js';\nexport { thunk } from './thunk.js';\nexport function init(modules, domApi) {\n    var i, j, cbs = {};\n    var api = domApi !== undefined ? domApi : htmlDomApi;\n    for (i = 0; i < hooks.length; ++i) {\n        cbs[hooks[i]] = [];\n        for (j = 0; j < modules.length; ++j) {\n            var hook = modules[j][hooks[i]];\n            if (hook !== undefined) {\n                cbs[hooks[i]].push(hook);\n            }\n        }\n    }\n    function emptyNodeAt(elm) {\n        var id = elm.id ? '#' + elm.id : '';\n        var c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n        return vnode(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n    }\n    function createRmCb(childElm, listeners) {\n        return function rmCb() {\n            if (--listeners === 0) {\n                var parent_1 = api.parentNode(childElm);\n                api.removeChild(parent_1, childElm);\n            }\n        };\n    }\n    function createElm(vnode, insertedVnodeQueue) {\n        var i, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.init)) {\n                i(vnode);\n                data = vnode.data;\n            }\n        }\n        var children = vnode.children, sel = vnode.sel;\n        if (sel === '!') {\n            if (isUndef(vnode.text)) {\n                vnode.text = '';\n            }\n            vnode.elm = api.createComment(vnode.text);\n        }\n        else if (sel !== undefined) {\n            // Parse selector\n            var hashIdx = sel.indexOf('#');\n            var dotIdx = sel.indexOf('.', hashIdx);\n            var hash = hashIdx > 0 ? hashIdx : sel.length;\n            var dot = dotIdx > 0 ? dotIdx : sel.length;\n            var tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n            var elm = vnode.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag)\n                : api.createElement(tag);\n            if (hash < dot)\n                elm.setAttribute('id', sel.slice(hash + 1, dot));\n            if (dotIdx > 0)\n                elm.setAttribute('class', sel.slice(dot + 1).replace(/\\./g, ' '));\n            for (i = 0; i < cbs.create.length; ++i)\n                cbs.create[i](emptyNode, vnode);\n            if (is.array(children)) {\n                for (i = 0; i < children.length; ++i) {\n                    var ch = children[i];\n                    if (ch != null) {\n                        api.appendChild(elm, createElm(ch, insertedVnodeQueue));\n                    }\n                }\n            }\n            else if (is.primitive(vnode.text)) {\n                api.appendChild(elm, api.createTextNode(vnode.text));\n            }\n            i = vnode.data.hook; // Reuse variable\n            if (isDef(i)) {\n                if (i.create)\n                    i.create(emptyNode, vnode);\n                if (i.insert)\n                    insertedVnodeQueue.push(vnode);\n            }\n        }\n        else {\n            vnode.elm = api.createTextNode(vnode.text);\n        }\n        return vnode.elm;\n    }\n    function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var ch = vnodes[startIdx];\n            if (ch != null) {\n                api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n            }\n        }\n    }\n    function invokeDestroyHook(vnode) {\n        var i, j, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.destroy))\n                i(vnode);\n            for (i = 0; i < cbs.destroy.length; ++i)\n                cbs.destroy[i](vnode);\n            if (vnode.children !== undefined) {\n                for (j = 0; j < vnode.children.length; ++j) {\n                    i = vnode.children[j];\n                    if (i != null && typeof i !== \"string\") {\n                        invokeDestroyHook(i);\n                    }\n                }\n            }\n        }\n    }\n    function removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var i_1 = void 0, listeners = void 0, rm = void 0, ch = vnodes[startIdx];\n            if (ch != null) {\n                if (isDef(ch.sel)) {\n                    invokeDestroyHook(ch);\n                    listeners = cbs.remove.length + 1;\n                    rm = createRmCb(ch.elm, listeners);\n                    for (i_1 = 0; i_1 < cbs.remove.length; ++i_1)\n                        cbs.remove[i_1](ch, rm);\n                    if (isDef(i_1 = ch.data) && isDef(i_1 = i_1.hook) && isDef(i_1 = i_1.remove)) {\n                        i_1(ch, rm);\n                    }\n                    else {\n                        rm();\n                    }\n                }\n                else {\n                    api.removeChild(parentElm, ch.elm);\n                }\n            }\n        }\n    }\n    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {\n        var oldStartIdx = 0, newStartIdx = 0;\n        var oldEndIdx = oldCh.length - 1;\n        var oldStartVnode = oldCh[0];\n        var oldEndVnode = oldCh[oldEndIdx];\n        var newEndIdx = newCh.length - 1;\n        var newStartVnode = newCh[0];\n        var newEndVnode = newCh[newEndIdx];\n        var oldKeyToIdx;\n        var idxInOld;\n        var elmToMove;\n        var before;\n        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n            if (oldStartVnode == null) {\n                oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n            }\n            else if (oldEndVnode == null) {\n                oldEndVnode = oldCh[--oldEndIdx];\n            }\n            else if (newStartVnode == null) {\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (newEndVnode == null) {\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newStartVnode)) {\n                patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n                oldStartVnode = oldCh[++oldStartIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (sameVnode(oldEndVnode, newEndVnode)) {\n                patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newEndVnode)) {\n                patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n                oldStartVnode = oldCh[++oldStartIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldEndVnode, newStartVnode)) {\n                patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                if (oldKeyToIdx === undefined) {\n                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n                }\n                idxInOld = oldKeyToIdx[newStartVnode.key];\n                if (isUndef(idxInOld)) {\n                    api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    newStartVnode = newCh[++newStartIdx];\n                }\n                else {\n                    elmToMove = oldCh[idxInOld];\n                    if (elmToMove.sel !== newStartVnode.sel) {\n                        api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    }\n                    else {\n                        patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n                        oldCh[idxInOld] = undefined;\n                        api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n                    }\n                    newStartVnode = newCh[++newStartIdx];\n                }\n            }\n        }\n        if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n            if (oldStartIdx > oldEndIdx) {\n                before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n                addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n            }\n            else {\n                removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n            }\n        }\n    }\n    function patchVnode(oldVnode, vnode, insertedVnodeQueue) {\n        var i, hook;\n        if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n            i(oldVnode, vnode);\n        }\n        var elm = vnode.elm = oldVnode.elm;\n        var oldCh = oldVnode.children;\n        var ch = vnode.children;\n        if (oldVnode === vnode)\n            return;\n        if (vnode.data !== undefined) {\n            for (i = 0; i < cbs.update.length; ++i)\n                cbs.update[i](oldVnode, vnode);\n            i = vnode.data.hook;\n            if (isDef(i) && isDef(i = i.update))\n                i(oldVnode, vnode);\n        }\n        if (isUndef(vnode.text)) {\n            if (isDef(oldCh) && isDef(ch)) {\n                if (oldCh !== ch)\n                    updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n            }\n            else if (isDef(ch)) {\n                if (isDef(oldVnode.text))\n                    api.setTextContent(elm, '');\n                addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n            }\n            else if (isDef(oldCh)) {\n                removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n            }\n            else if (isDef(oldVnode.text)) {\n                api.setTextContent(elm, '');\n            }\n        }\n        else if (oldVnode.text !== vnode.text) {\n            api.setTextContent(elm, vnode.text);\n        }\n        if (isDef(hook) && isDef(i = hook.postpatch)) {\n            i(oldVnode, vnode);\n        }\n    }\n    return function patch(oldVnode, vnode) {\n        var i, elm, parent;\n        var insertedVnodeQueue = [];\n        for (i = 0; i < cbs.pre.length; ++i)\n            cbs.pre[i]();\n        if (!isVnode(oldVnode)) {\n            oldVnode = emptyNodeAt(oldVnode);\n        }\n        if (sameVnode(oldVnode, vnode)) {\n            patchVnode(oldVnode, vnode, insertedVnodeQueue);\n        }\n        else {\n            elm = oldVnode.elm;\n            parent = api.parentNode(elm);\n            createElm(vnode, insertedVnodeQueue);\n            if (parent !== null) {\n                api.insertBefore(parent, vnode.elm, api.nextSibling(elm));\n                removeVnodes(parent, [oldVnode], 0, 0);\n            }\n        }\n        for (i = 0; i < insertedVnodeQueue.length; ++i) {\n            insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);\n        }\n        for (i = 0; i < cbs.post.length; ++i)\n            cbs.post[i]();\n        return vnode;\n    };\n}\n//# sourceMappingURL=snabbdom.js.map\n","var xlinkNS = 'http://www.w3.org/1999/xlink';\nvar xmlNS = 'http://www.w3.org/XML/1998/namespace';\nvar colonChar = 58;\nvar xChar = 120;\nfunction updateAttrs(oldVnode, vnode) {\n    var key, elm = vnode.elm, oldAttrs = oldVnode.data.attrs, attrs = vnode.data.attrs;\n    if (!oldAttrs && !attrs)\n        return;\n    if (oldAttrs === attrs)\n        return;\n    oldAttrs = oldAttrs || {};\n    attrs = attrs || {};\n    // update modified attributes, add new attributes\n    for (key in attrs) {\n        var cur = attrs[key];\n        var old = oldAttrs[key];\n        if (old !== cur) {\n            if (cur === true) {\n                elm.setAttribute(key, \"\");\n            }\n            else if (cur === false) {\n                elm.removeAttribute(key);\n            }\n            else {\n                if (key.charCodeAt(0) !== xChar) {\n                    elm.setAttribute(key, cur);\n                }\n                else if (key.charCodeAt(3) === colonChar) {\n                    // Assume xml namespace\n                    elm.setAttributeNS(xmlNS, key, cur);\n                }\n                else if (key.charCodeAt(5) === colonChar) {\n                    // Assume xlink namespace\n                    elm.setAttributeNS(xlinkNS, key, cur);\n                }\n                else {\n                    elm.setAttribute(key, cur);\n                }\n            }\n        }\n    }\n    // remove removed attributes\n    // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n    // the other option is to remove all attributes with value == undefined\n    for (key in oldAttrs) {\n        if (!(key in attrs)) {\n            elm.removeAttribute(key);\n        }\n    }\n}\nexport var attributesModule = { create: updateAttrs, update: updateAttrs };\nexport default attributesModule;\n//# sourceMappingURL=attributes.js.map","function updateProps(oldVnode, vnode) {\n    var key, cur, old, elm = vnode.elm, oldProps = oldVnode.data.props, props = vnode.data.props;\n    if (!oldProps && !props)\n        return;\n    if (oldProps === props)\n        return;\n    oldProps = oldProps || {};\n    props = props || {};\n    for (key in oldProps) {\n        if (!props[key]) {\n            delete elm[key];\n        }\n    }\n    for (key in props) {\n        cur = props[key];\n        old = oldProps[key];\n        if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n            elm[key] = cur;\n        }\n    }\n}\nexport var propsModule = { create: updateProps, update: updateProps };\nexport default propsModule;\n//# sourceMappingURL=props.js.map","var raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\nvar nextFrame = function (fn) { raf(function () { raf(fn); }); };\nfunction setNextFrame(obj, prop, val) {\n    nextFrame(function () { obj[prop] = val; });\n}\nfunction updateStyle(oldVnode, vnode) {\n    var cur, name, elm = vnode.elm, oldStyle = oldVnode.data.style, style = vnode.data.style;\n    if (!oldStyle && !style)\n        return;\n    if (oldStyle === style)\n        return;\n    oldStyle = oldStyle || {};\n    style = style || {};\n    var oldHasDel = 'delayed' in oldStyle;\n    for (name in oldStyle) {\n        if (!style[name]) {\n            if (name[0] === '-' && name[1] === '-') {\n                elm.style.removeProperty(name);\n            }\n            else {\n                elm.style[name] = '';\n            }\n        }\n    }\n    for (name in style) {\n        cur = style[name];\n        if (name === 'delayed' && style.delayed) {\n            for (var name2 in style.delayed) {\n                cur = style.delayed[name2];\n                if (!oldHasDel || cur !== oldStyle.delayed[name2]) {\n                    setNextFrame(elm.style, name2, cur);\n                }\n            }\n        }\n        else if (name !== 'remove' && cur !== oldStyle[name]) {\n            if (name[0] === '-' && name[1] === '-') {\n                elm.style.setProperty(name, cur);\n            }\n            else {\n                elm.style[name] = cur;\n            }\n        }\n    }\n}\nfunction applyDestroyStyle(vnode) {\n    var style, name, elm = vnode.elm, s = vnode.data.style;\n    if (!s || !(style = s.destroy))\n        return;\n    for (name in style) {\n        elm.style[name] = style[name];\n    }\n}\nfunction applyRemoveStyle(vnode, rm) {\n    var s = vnode.data.style;\n    if (!s || !s.remove) {\n        rm();\n        return;\n    }\n    var name, elm = vnode.elm, i = 0, compStyle, style = s.remove, amount = 0, applied = [];\n    for (name in style) {\n        applied.push(name);\n        elm.style[name] = style[name];\n    }\n    compStyle = getComputedStyle(elm);\n    var props = compStyle['transition-property'].split(', ');\n    for (; i < props.length; ++i) {\n        if (applied.indexOf(props[i]) !== -1)\n            amount++;\n    }\n    elm.addEventListener('transitionend', function (ev) {\n        if (ev.target === elm)\n            --amount;\n        if (amount === 0)\n            rm();\n    });\n}\nexport var styleModule = {\n    create: updateStyle,\n    update: updateStyle,\n    destroy: applyDestroyStyle,\n    remove: applyRemoveStyle\n};\nexport default styleModule;\n//# sourceMappingURL=style.js.map","import $ from '../../shared/dom64.js';\n\nfunction invokeHandler(handler, event, args) {\n  if (typeof handler === 'function') {\n    // call function handler\n    handler(event, ...args);\n  }\n}\nfunction handleEvent(event, args, vnode) {\n  const name = event.type;\n  const on = vnode.data.on;\n  // call event handler(s) if exists\n  if (on && on[name]) {\n    invokeHandler(on[name], event, args, vnode);\n  }\n}\nfunction createListener() {\n  return function handler(event, ...args) {\n    handleEvent(event, args, handler.vnode);\n  };\n}\nfunction updateEvents(oldVnode, vnode) {\n  const oldOn = oldVnode.data.on;\n  const oldListener = oldVnode.listener;\n  const oldElm = oldVnode.elm;\n  const on = vnode && vnode.data.on;\n  const elm = vnode && vnode.elm;\n  // optimization for reused immutable handlers\n  if (oldOn === on) {\n    return;\n  }\n  // remove existing listeners which no longer used\n  if (oldOn && oldListener) {\n    // if element changed or deleted we remove all existing listeners unconditionally\n    if (!on) {\n      Object.keys(oldOn).forEach((name) => {\n        $(oldElm).off(name, oldListener);\n      });\n    } else {\n      Object.keys(oldOn).forEach((name) => {\n        if (!on[name]) {\n          $(oldElm).off(name, oldListener);\n        }\n      });\n    }\n  }\n  // add new listeners which has not already attached\n  if (on) {\n    // reuse existing listener or create new\n    const listener = oldVnode.listener || createListener();\n    vnode.listener = listener;\n    // update vnode for listener\n    listener.vnode = vnode;\n    // if element changed or added we add all needed listeners unconditionally\n    if (!oldOn) {\n      Object.keys(on).forEach((name) => {\n        $(elm).on(name, listener);\n      });\n    } else {\n      Object.keys(on).forEach((name) => {\n        if (!oldOn[name]) {\n          $(elm).on(name, listener);\n        }\n      });\n    }\n  }\n}\n\nexport default {\n  create: updateEvents,\n  update: updateEvents,\n  destroy: updateEvents,\n};\n","/* eslint import/no-named-as-default: off */\nimport { init } from './snabbdom/snabbdom.js';\nimport attributesModule from './snabbdom/modules/attributes.js';\nimport propsModule from './snabbdom/modules/props.js';\nimport styleModule from './snabbdom/modules/style.js';\nimport eventListenersModule from './eventslisteners.js';\n\nconst patch = init([attributesModule, propsModule, styleModule, eventListenersModule]);\n\nexport default patch;\n","import { flattenArray } from '../../shared/utils.js';\n\nconst ignoreChildren = [false, null, '', undefined];\n\nconst $jsx = (type, props, ...children) => {\n  const flatChildren = flattenArray(\n    (children || []).filter((child) => ignoreChildren.indexOf(child) < 0),\n  );\n  if (type === 'Fragment') {\n    return flatChildren;\n  }\n  return {\n    type,\n    props: props || {},\n    children: flatChildren,\n  };\n};\n\nexport default $jsx;\n","/* eslint no-underscore-dangle: \"off\" */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom64.js';\nimport $h from './$h.js';\nimport { id as generateId, merge, eventNameToColonCase, deleteProps } from '../../shared/utils.js';\nimport vdom from './vdom.js';\nimport patch from './patch.js';\nimport $jsx from './$jsx.js';\n\nclass Component {\n  constructor(app, component, props = {}, { el, context, children } = {}) {\n    const document = getDocument();\n    merge(this, {\n    t4: app,\n      props: props || {},\n      context: context || {},\n      id: component.id || generateId(),\n      children: children || [],\n      theme: {\n        ios: app.theme === 'ios',\n        md: app.theme === 'md',\n        aurora: app.theme === 'aurora',\n      },\n      style: component.style,\n      __updateQueue: [],\n      __eventHandlers: [],\n      __onceEventHandlers: [],\n      __onBeforeMount: [],\n      __onMounted: [],\n      __onBeforeUpdate: [],\n      __onUpdated: [],\n      __onBeforeUnmount: [],\n      __onUnmounted: [],\n    });\n\n    const createComponent = () => {\n      return component(this.props, this.getComponentContext(true));\n    };\n\n    const getRenderFuncion = (componentResult) =>\n      new Promise((resolve, reject) => {\n        if (typeof componentResult === 'function') {\n          resolve(componentResult);\n        } else if (componentResult instanceof Promise) {\n          componentResult\n            .then((render) => {\n              resolve(render);\n            })\n            .catch((err) => {\n              reject(err);\n            });\n        } else {\n          reject(\n            new Error(\n              'techno4: Component render function is not a \"function\" type. Didn\\'t you forget to \"return $render\"?',\n            ),\n          );\n        }\n      });\n\n    return new Promise((resolve, reject) => {\n      const componentResult = createComponent();\n      getRenderFuncion(componentResult)\n        .then((render) => {\n          this.renderFunction = render;\n\n          const tree = this.render();\n\n          if (el) {\n            this.vnode = vdom(tree, this, true);\n            if (this.style) {\n              this.styleEl = document.createElement('style');\n              this.styleEl.innerHTML = this.style;\n            }\n            this.el = el;\n            patch(this.el, this.vnode);\n            this.el = this.vnode.elm;\n            this.$el = $(this.el);\n\n            this.attachEvents();\n            this.el.t4Component = this;\n            this.mount();\n            resolve(this);\n            return;\n          }\n          // Make Dom\n          if (tree) {\n            this.vnode = vdom(tree, this, true);\n            this.el = document.createElement(this.vnode.sel || 'div');\n            patch(this.el, this.vnode);\n            this.$el = $(this.el);\n          }\n          if (this.style) {\n            this.styleEl = document.createElement('style');\n            this.styleEl.innerHTML = this.style;\n          }\n\n          this.attachEvents();\n\n          if (this.el) {\n            this.el.t4Component = this;\n          }\n\n          resolve(this);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n\n  on(eventName, handler) {\n    if (!this.__eventHandlers) return;\n    this.__eventHandlers.push({ eventName, handler });\n  }\n\n  once(eventName, handler) {\n    if (!this.__eventHandlers) return;\n    this.__onceEventHandlers.push({ eventName, handler });\n  }\n\n  getComponentRef() {\n    const self = this;\n    return (initialValue) => {\n      let value = initialValue;\n      const obj = {};\n      Object.defineProperty(obj, 'value', {\n        get() {\n          return value;\n        },\n        set(v) {\n          value = v;\n          self.update();\n        },\n      });\n      return obj;\n    };\n  }\n\n  getComponentStore() {\n    const { state, _gettersPlain, dispatch } = this.t4.store;\n    const $store = {\n      state,\n      dispatch,\n    };\n    $store.getters = new Proxy(_gettersPlain, {\n      get: (target, prop) => {\n        const obj = target[prop];\n        const callback = (v) => {\n          obj.value = v;\n          this.update();\n        };\n        obj.onUpdated(callback);\n        return obj;\n      },\n    });\n\n    return $store;\n  }\n\n  getComponentContext(includeHooks) {\n    const ctx = {\n      $t4route: this.context.t4route,\n      $t4router: this.context.t4router,\n      $h,\n      $,\n      $id: this.id,\n      $t4: this.t4,\n      $t4ready: this.t4ready.bind(this),\n      $theme: this.theme,\n      $tick: this.tick.bind(this),\n      $update: this.update.bind(this),\n      $emit: this.emit.bind(this),\n      $store: this.getComponentStore(),\n      $ref: this.getComponentRef(),\n      $el: {},\n    };\n    Object.defineProperty(ctx.$el, 'value', {\n      get: () => {\n        return this.$el;\n      },\n    });\n    if (includeHooks)\n      Object.assign(ctx, {\n        $on: this.on.bind(this),\n        $once: this.once.bind(this),\n        $onBeforeMount: (handler) => this.__onBeforeMount.push(handler),\n        $onMounted: (handler) => this.__onMounted.push(handler),\n        $onBeforeUpdate: (handler) => this.__onBeforeUpdate.push(handler),\n        $onUpdated: (handler) => this.__onUpdated.push(handler),\n        $onBeforeUnmount: (handler) => this.__onBeforeUnmount.push(handler),\n        $onUnmounted: (handler) => this.__onUnmounted.push(handler),\n      });\n\n    return ctx;\n  }\n\n  render() {\n    return this.renderFunction(this.getComponentContext());\n  }\n\n  emit(name, data) {\n    if (!this.el) return;\n    this.$el.trigger(name, data);\n  }\n\n  attachEvents() {\n    const { $el } = this;\n    if (!this.__eventHandlers) return;\n    this.__eventHandlers.forEach(({ eventName, handler }) => {\n      $el.on(eventNameToColonCase(eventName), handler);\n    });\n    this.__onceEventHandlers.forEach(({ eventName, handler }) => {\n      $el.once(eventNameToColonCase(eventName), handler);\n    });\n  }\n\n  detachEvents() {\n    const { $el } = this;\n    if (!this.__eventHandlers) return;\n    this.__eventHandlers.forEach(({ eventName, handler }) => {\n      $el.on(eventNameToColonCase(eventName), handler);\n    });\n    this.__onceEventHandlers.forEach(({ eventName, handler }) => {\n      $el.once(eventNameToColonCase(eventName), handler);\n    });\n  }\n\n  startUpdateQueue() {\n    const window = getWindow();\n    if (this.__requestAnimationFrameId) return;\n    const update = () => {\n      this.hook('onBeforeUpdate');\n      const tree = this.render();\n\n      // Make Dom\n      if (tree) {\n        const newVNode = vdom(tree, this, false);\n        this.vnode = patch(this.vnode, newVNode);\n      }\n    };\n    this.__requestAnimationFrameId = window.requestAnimationFrame(() => {\n      if (this.__updateIsPending) update();\n      let resolvers = [...this.__updateQueue];\n      this.__updateQueue = [];\n      this.__updateIsPending = false;\n      window.cancelAnimationFrame(this.__requestAnimationFrameId);\n      delete this.__requestAnimationFrameId;\n      delete this.__updateIsPending;\n      resolvers.forEach((resolver) => resolver());\n      resolvers = [];\n    });\n  }\n\n  tick(callback) {\n    return new Promise((resolve) => {\n      function resolver() {\n        resolve();\n        if (callback) callback();\n      }\n      this.__updateQueue.push(resolver);\n      this.startUpdateQueue();\n    });\n  }\n\n  update(callback) {\n    if (this.__destroyed) return new Promise(() => {});\n    return new Promise((resolve) => {\n      const resolver = () => {\n        resolve();\n        if (callback) callback();\n      };\n      this.__updateIsPending = true;\n      this.__updateQueue.push(resolver);\n      this.startUpdateQueue();\n    });\n  }\n\n  setState(callback) {\n    return this.update(callback);\n  }\n\n  t4ready(callback) {\n    if (this.t4.initialized) {\n      callback(this.t4);\n      return;\n    }\n    this.t4.once('init', () => {\n      callback(this.t4);\n    });\n  }\n\n  mount(mountMethod) {\n    this.hook('onBeforeMount', this.$el);\n    if (this.styleEl) $('head').append(this.styleEl);\n    if (mountMethod) mountMethod(this.el);\n    this.hook('onMounted', this.$el);\n  }\n\n  destroy() {\n    if (this.__destroyed) return;\n    const window = getWindow();\n    this.hook('onBeforeUnmount');\n\n    if (this.styleEl) $(this.styleEl).remove();\n\n    this.detachEvents();\n    this.hook('onUnmounted');\n    // Delete component instance\n    if (this.el && this.el.t4Component) {\n      this.el.t4Component = null;\n      delete this.el.t4Component;\n    }\n    // Patch with empty node\n    if (this.vnode) {\n      this.vnode = patch(this.vnode, { sel: this.vnode.sel, data: {} });\n    }\n    // Clear update queue\n    window.cancelAnimationFrame(this.__requestAnimationFrameId);\n    this.__updateQueue = [];\n    this.__eventHandlers = [];\n    this.__onceEventHandlers = [];\n    this.__onBeforeMount = [];\n    this.__onMounted = [];\n    this.__onBeforeUpdate = [];\n    this.__onUpdated = [];\n    this.__onBeforeUnmount = [];\n    this.__onUnmounted = [];\n    // Delete all props\n    deleteProps(this);\n    this.__destroyed = true;\n  }\n\n  hook(name, ...args) {\n    if (this.__destroyed) return;\n    this[`__${name}`].forEach((handler) => {\n      handler(...args);\n    });\n  }\n}\n\nComponent.$jsx = $jsx;\n\nexport default Component;\n","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom64.js';\nimport { id } from '../../shared/utils.js';\n\nfunction parseComponent(componentString) {\n  const window = getWindow();\n  const document = getDocument();\n  const componentId = id();\n  const callbackCreateName = `t4_component_create_callback_${componentId}`;\n\n  // Template\n  let template;\n  const hasTemplate = componentString.match(/<template([ ]?)([a-z0-9-]*)>/);\n  if (hasTemplate) {\n    template = componentString\n      .split(/<template[ ]?[a-z0-9-]*>/)\n      .filter((item, index) => index > 0)\n      .join('<template>')\n      .split('</template>')\n      .filter((item, index, arr) => index < arr.length - 1)\n      .join('</template>')\n      .replace(/{{#raw}}([ \\n]*)<template/g, '{{#raw}}<template')\n      .replace(/\\/template>([ \\n]*){{\\/raw}}/g, '/template>{{/raw}}')\n      .replace(/([ \\n])<template/g, '$1{{#raw}}<template')\n      .replace(/\\/template>([ \\n])/g, '/template>{{/raw}}$1');\n  }\n\n  // Parse Styles\n  let style = null;\n\n  if (componentString.indexOf('<style>') >= 0) {\n    style = componentString.split('<style>')[1].split('</style>')[0];\n  }\n  if (componentString.indexOf('<style scoped>') >= 0) {\n    style = componentString.split('<style scoped>')[1].split('</style>')[0];\n  }\n\n  // Parse Script\n  let scriptContent;\n  if (componentString.indexOf('<script>') >= 0) {\n    const scripts = componentString.split('<script>');\n    scriptContent = scripts[scripts.length - 1].split('</script>')[0].trim();\n  } else {\n    scriptContent = 'return () => {return $render}';\n  }\n  if (!scriptContent || !scriptContent.trim()) scriptContent = 'return () => {return $render}';\n\n  // Parse Template\n  if (template) {\n    scriptContent = scriptContent\n      .replace(\n        '$render',\n        `function ($$ctx) {\n          var $ = $$ctx.$$;\n          var $h = $$ctx.$h;\n          var $root = $$ctx.$root;\n          var $t4 = $$ctx.$t4;\n          var $t4route = $$ctx.$t4route;\n          var $t4router = $$ctx.$t4router;\n          var $theme = $$ctx.$theme;\n          var $update = $$ctx.$update;\n          var $store = $$ctx.$store;\n          var $ref = $$ctx.$ref;\n\n          return $h\\`${template}\\`\n        }\n        `,\n      )\n      .replace(/export default/g, 'return');\n  }\n\n  // Execute Script\n  scriptContent = `window.${callbackCreateName} = function () {${scriptContent}}`;\n\n  // Insert Script El\n  const scriptEl = document.createElement('script');\n  scriptEl.innerHTML = scriptContent;\n  $('head').append(scriptEl);\n\n  const component = window[callbackCreateName]();\n\n  // Remove Script El\n  $(scriptEl).remove();\n  window[callbackCreateName] = null;\n  delete window[callbackCreateName];\n\n  // Assign Style\n  if (style) {\n    component.style = style;\n  }\n\n  // Component ID\n  component.id = componentId;\n  return component;\n}\n\nexport default parseComponent;\n","import Component from './component-class.js';\nimport parseComponent from './parse-component.js';\nimport customComponents from './custom-components.js';\nimport $jsx from './$jsx.js';\n\nfunction registerComponent(tagName, component) {\n  customComponents[tagName] = component;\n}\n\nfunction unregisterComponent(tagName) {\n  delete customComponents[tagName];\n}\n\nexport { Component, $jsx };\nexport default {\n  name: 'component',\n  static: {\n    Component,\n    parseComponent,\n    registerComponent,\n    unregisterComponent,\n  },\n  create() {\n    const app = this;\n    app.component = {\n      registerComponent,\n      unregisterComponent,\n      parse(componentString) {\n        return parseComponent(componentString);\n      },\n      create(component, props, { root, el, context, children }) {\n        return new Component(app, component, props, { root, el, context, children });\n      },\n    };\n  },\n};\n","import History from '../../shared/history.js';\n\nexport default {\n  name: 'history',\n  static: {\n    history: History,\n  },\n  on: {\n    init() {\n      History.init(this);\n    },\n  },\n};\n","import { getWindow } from 'ssr-window';\nimport { extend } from '../../shared/utils.js';\n\nconst SW = {\n  registrations: [],\n  register(path, scope) {\n    const app = this;\n    const window = getWindow();\n\n    if (!('serviceWorker' in window.navigator) || !app.serviceWorker.container) {\n      return new Promise((resolve, reject) => {\n        reject(new Error('Service worker is not supported'));\n      });\n    }\n    return new Promise((resolve, reject) => {\n      app.serviceWorker.container\n        .register(path, scope ? { scope } : {})\n        .then((reg) => {\n          SW.registrations.push(reg);\n          app.emit('serviceWorkerRegisterSuccess', reg);\n          resolve(reg);\n        })\n        .catch((error) => {\n          app.emit('serviceWorkerRegisterError', error);\n          reject(error);\n        });\n    });\n  },\n  unregister(registration) {\n    const app = this;\n    const window = getWindow();\n    if (!('serviceWorker' in window.navigator) || !app.serviceWorker.container) {\n      return new Promise((resolve, reject) => {\n        reject(new Error('Service worker is not supported'));\n      });\n    }\n    let registrations;\n    if (!registration) registrations = SW.registrations;\n    else if (Array.isArray(registration)) registrations = registration;\n    else registrations = [registration];\n    return Promise.all(\n      registrations.map(\n        (reg) =>\n          new Promise((resolve, reject) => {\n            reg\n              .unregister()\n              .then(() => {\n                if (SW.registrations.indexOf(reg) >= 0) {\n                  SW.registrations.splice(SW.registrations.indexOf(reg), 1);\n                }\n                app.emit('serviceWorkerUnregisterSuccess', reg);\n                resolve();\n              })\n              .catch((error) => {\n                app.emit('serviceWorkerUnregisterError', reg, error);\n                reject(error);\n              });\n          }),\n      ),\n    );\n  },\n};\n\nexport default {\n  name: 'sw',\n  params: {\n    serviceWorker: {\n      path: undefined,\n      scope: undefined,\n    },\n  },\n  create() {\n    const app = this;\n    const window = getWindow();\n    extend(app, {\n      serviceWorker: {\n        container: 'serviceWorker' in window.navigator ? window.navigator.serviceWorker : undefined,\n        registrations: SW.registrations,\n        register: SW.register.bind(app),\n        unregister: SW.unregister.bind(app),\n      },\n    });\n  },\n  on: {\n    init() {\n      const window = getWindow();\n      if (!('serviceWorker' in window.navigator)) return;\n      const app = this;\n      if (app.device.cordova || (window.Capacitor && window.Capacitor.isNative)) return;\n      if (!app.serviceWorker.container) return;\n      const paths = app.params.serviceWorker.path;\n      const scope = app.params.serviceWorker.scope;\n      if (!paths || (Array.isArray(paths) && !paths.length)) return;\n      const toRegister = Array.isArray(paths) ? paths : [paths];\n      toRegister.forEach((path) => {\n        app.serviceWorker.register(path, scope);\n      });\n    },\n  },\n};\n","/* eslint-disable no-underscore-dangle */\nimport { extend } from '../../shared/utils.js';\n\nfunction createStore(storeParams = {}) {\n  const store = {\n    __store: true,\n  };\n  const originalState = { ...(storeParams.state || {}) };\n  const actions = { ...(storeParams.actions || {}) };\n  const getters = { ...(storeParams.getters || {}) };\n  const state = extend({}, originalState);\n\n  let propsQueue = [];\n  const gettersDependencies = {};\n  const gettersCallbacks = {};\n\n  Object.keys(getters).forEach((getterKey) => {\n    gettersDependencies[getterKey] = [];\n    gettersCallbacks[getterKey] = [];\n  });\n\n  const getGetterValue = (getterKey) => {\n    return getters[getterKey]({ state: store.state });\n  };\n\n  const addGetterDependencies = (getterKey, deps) => {\n    if (!gettersDependencies[getterKey]) gettersDependencies[getterKey] = [];\n    deps.forEach((dep) => {\n      if (gettersDependencies[getterKey].indexOf(dep) < 0) {\n        gettersDependencies[getterKey].push(dep);\n      }\n    });\n  };\n\n  const addGetterCallback = (getterKey, callback) => {\n    if (!gettersCallbacks[getterKey]) gettersCallbacks[getterKey] = [];\n    gettersCallbacks[getterKey].push(callback);\n  };\n\n  const runGetterCallbacks = (stateKey) => {\n    const keys = Object.keys(gettersDependencies).filter((getterKey) => {\n      return gettersDependencies[getterKey].indexOf(stateKey) >= 0;\n    });\n    keys.forEach((getterKey) => {\n      if (!gettersCallbacks[getterKey] || !gettersCallbacks[getterKey].length) return;\n      gettersCallbacks[getterKey].forEach((callback) => {\n        callback(getGetterValue(getterKey));\n      });\n    });\n  };\n\n  const removeGetterCallback = (callback) => {\n    Object.keys(gettersCallbacks).forEach((stateKey) => {\n      const callbacks = gettersCallbacks[stateKey];\n\n      if (callbacks.indexOf(callback) >= 0) {\n        callbacks.splice(callbacks.indexOf(callback), 1);\n      }\n    });\n  };\n\n  // eslint-disable-next-line\n  store.__removeCallback = (callback) => {\n    removeGetterCallback(callback);\n  };\n\n  const getterValue = (getterKey, addCallback = true) => {\n    if (getterKey === 'constructor') return undefined;\n    propsQueue = [];\n    const value = getGetterValue(getterKey);\n    addGetterDependencies(getterKey, propsQueue);\n    const onUpdated = (callback) => {\n      addGetterCallback(getterKey, callback);\n    };\n\n    const obj = {\n      value,\n      onUpdated,\n    };\n\n    if (!addCallback) {\n      return obj;\n    }\n\n    const callback = (v) => {\n      obj.value = v;\n    };\n\n    obj.__callback = callback;\n    addGetterCallback(getterKey, callback);\n    // eslint-disable-next-line\n    return obj;\n  };\n\n  store.state = new Proxy(state, {\n    set: (target, prop, value) => {\n      target[prop] = value;\n      runGetterCallbacks(prop);\n      return true;\n    },\n    get: (target, prop) => {\n      propsQueue.push(prop);\n      return target[prop];\n    },\n  });\n\n  store.getters = new Proxy(getters, {\n    set: () => false,\n    get: (target, prop) => {\n      if (!target[prop]) {\n        return undefined;\n      }\n      return getterValue(prop, true);\n    },\n  });\n\n  store._gettersPlain = new Proxy(getters, {\n    set: () => false,\n    get: (target, prop) => {\n      if (!target[prop]) {\n        return undefined;\n      }\n      return getterValue(prop, false);\n    },\n  });\n\n  store.dispatch = (actionName, data) => {\n    return new Promise((resolve, reject) => {\n      if (!actions[actionName]) {\n        reject();\n        throw new Error(`techno4: Store action \"${actionName}\" is not found`);\n      }\n      const result = actions[actionName]({ state: store.state, dispatch: store.dispatch }, data);\n      resolve(result);\n    });\n  };\n\n  return store;\n}\n\nexport default createStore;\n","import createStore from './create-store.js';\n\nexport { createStore };\nexport default {\n  name: 'store',\n  static: { createStore },\n  proto: { createStore },\n};\n","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom64.js';\nimport { bindMethods } from '../../shared/utils.js';\nimport { getDevice } from '../../shared/get-device.js';\n\nconst isCapacitor = () => {\n  const window = getWindow();\n  return (\n    window.Capacitor &&\n    window.Capacitor.isNative &&\n    window.Capacitor.Plugins &&\n    window.Capacitor.Plugins.StatusBar\n  );\n};\n\nconst Statusbar = {\n  hide() {\n    const window = getWindow();\n    const device = getDevice();\n    if (device.cordova && window.StatusBar) {\n      window.StatusBar.hide();\n    }\n    if (isCapacitor()) {\n      window.Capacitor.Plugins.StatusBar.hide();\n    }\n  },\n  show() {\n    const window = getWindow();\n    const device = getDevice();\n    if (device.cordova && window.StatusBar) {\n      window.StatusBar.show();\n    }\n    if (isCapacitor()) {\n      window.Capacitor.Plugins.StatusBar.show();\n    }\n  },\n  onClick() {\n    const app = this;\n    let pageContent;\n    if ($('.popup.modal-in').length > 0) {\n      // Check for opened popup\n      pageContent = $('.popup.modal-in')\n        .find('.page:not(.page-previous):not(.page-next):not(.cached)')\n        .find('.page-content');\n    } else if ($('.panel.panel-in').length > 0) {\n      // Check for opened panel\n      pageContent = $('.panel.panel-in')\n        .find('.page:not(.page-previous):not(.page-next):not(.cached)')\n        .find('.page-content');\n    } else if ($('.views > .view.tab-active').length > 0) {\n      // View in tab bar app layout\n      pageContent = $('.views > .view.tab-active')\n        .find('.page:not(.page-previous):not(.page-next):not(.cached)')\n        .find('.page-content');\n    } else if ($('.views').length > 0) {\n      pageContent = $('.views')\n        .find('.page:not(.page-previous):not(.page-next):not(.cached)')\n        .find('.page-content');\n    } else {\n      pageContent = app.$el\n        .children('.view')\n        .find('.page:not(.page-previous):not(.page-next):not(.cached)')\n        .find('.page-content');\n    }\n\n    if (pageContent && pageContent.length > 0) {\n      // Check for tab\n      if (pageContent.hasClass('tab')) {\n        pageContent = pageContent.parent('.tabs').children('.page-content.tab-active');\n      }\n      if (pageContent.length > 0) pageContent.scrollTop(0, 300);\n    }\n  },\n  setTextColor(color) {\n    const window = getWindow();\n    const device = getDevice();\n    if (device.cordova && window.StatusBar) {\n      if (color === 'white') {\n        window.StatusBar.styleLightContent();\n      } else {\n        window.StatusBar.styleDefault();\n      }\n    }\n    if (isCapacitor()) {\n      if (color === 'white') {\n        window.Capacitor.Plugins.StatusBar.setStyle({ style: 'DARK' });\n      } else {\n        window.Capacitor.Plugins.StatusBar.setStyle({ style: 'LIGHT' });\n      }\n    }\n  },\n  setBackgroundColor(color) {\n    const window = getWindow();\n    const device = getDevice();\n    if (device.cordova && window.StatusBar) {\n      window.StatusBar.backgroundColorByHexString(color);\n    }\n    if (isCapacitor()) {\n      window.Capacitor.Plugins.StatusBar.setBackgroundColor({ color });\n    }\n  },\n  isVisible() {\n    const window = getWindow();\n    const device = getDevice();\n    return new Promise((resolve) => {\n      if (device.cordova && window.StatusBar) {\n        resolve(window.StatusBar.isVisible);\n      }\n      if (isCapacitor()) {\n        window.Capacitor.Plugins.StatusBar.getInfo().then((info) => {\n          resolve(info.visible);\n        });\n      }\n      resolve(false);\n    });\n  },\n  overlaysWebView(overlays = true) {\n    const window = getWindow();\n    const device = getDevice();\n    if (device.cordova && window.StatusBar) {\n      window.StatusBar.overlaysWebView(overlays);\n    }\n    if (isCapacitor()) {\n      window.Capacitor.Plugins.StatusBar.setOverlaysWebView({ overlay: overlays });\n    }\n  },\n  init() {\n    const app = this;\n    const window = getWindow();\n    const device = getDevice();\n    const params = app.params.statusbar;\n    if (!params.enabled) return;\n    const isCordova = device.cordova && window.StatusBar;\n    const isCap = isCapacitor();\n\n    if (isCordova || isCap) {\n      if (params.scrollTopOnClick) {\n        $(window).on('statusTap', Statusbar.onClick.bind(app));\n      }\n      if (device.ios) {\n        if (params.iosOverlaysWebView) {\n          Statusbar.overlaysWebView(true);\n        } else {\n          Statusbar.overlaysWebView(false);\n        }\n        if (params.iosTextColor === 'white') {\n          Statusbar.setTextColor('white');\n        } else {\n          Statusbar.setTextColor('black');\n        }\n      }\n      if (device.android) {\n        if (params.androidOverlaysWebView) {\n          Statusbar.overlaysWebView(true);\n        } else {\n          Statusbar.overlaysWebView(false);\n        }\n        if (params.androidTextColor === 'white') {\n          Statusbar.setTextColor('white');\n        } else {\n          Statusbar.setTextColor('black');\n        }\n      }\n    }\n    if (params.iosBackgroundColor && device.ios) {\n      Statusbar.setBackgroundColor(params.iosBackgroundColor);\n    }\n    if (params.androidBackgroundColor && device.android) {\n      Statusbar.setBackgroundColor(params.androidBackgroundColor);\n    }\n  },\n};\n\nexport default {\n  name: 'statusbar',\n  params: {\n    statusbar: {\n      enabled: true,\n\n      scrollTopOnClick: true,\n\n      iosOverlaysWebView: true,\n      iosTextColor: 'black',\n      iosBackgroundColor: null,\n\n      androidOverlaysWebView: false,\n      androidTextColor: 'black',\n      androidBackgroundColor: null,\n    },\n  },\n  create() {\n    const app = this;\n    bindMethods(app, {\n      statusbar: Statusbar,\n    });\n  },\n  on: {\n    init() {\n      const app = this;\n      Statusbar.init.call(app);\n    },\n  },\n};\n","import $ from '../../shared/dom64.js';\nimport { extend } from '../../shared/utils.js';\nimport View from './view-class.js';\n\nfunction getCurrentView(app) {\n  const $popoverView = $('.popover.modal-in .view');\n  const $popupView = $('.popup.modal-in .view');\n  const $panelView = $('.panel.panel-in .view');\n  let $viewsEl = $('.views');\n  if ($viewsEl.length === 0) $viewsEl = app.$el;\n  // Find active view as tab\n  let $viewEl = $viewsEl.children('.view');\n  if ($viewEl.length === 0) {\n    $viewEl = $viewsEl.children('.tabs').children('.view');\n  }\n  // Propably in tabs or split view\n  if ($viewEl.length > 1) {\n    if ($viewEl.hasClass('tab')) {\n      // Tabs\n      $viewEl = $viewsEl.children('.view.tab-active');\n      if ($viewEl.length === 0) {\n        $viewEl = $viewsEl.children('.tabs').children('.view.tab-active');\n      }\n    } else {\n      // Split View, leave appView intact\n    }\n  }\n  if ($popoverView.length > 0 && $popoverView[0].t4View) return $popoverView[0].t4View;\n  if ($popupView.length > 0 && $popupView[0].t4View) return $popupView[0].t4View;\n  if ($panelView.length > 0 && $panelView[0].t4View) return $panelView[0].t4View;\n  if ($viewEl.length > 0) {\n    if ($viewEl.length === 1 && $viewEl[0].t4View) return $viewEl[0].t4View;\n    if ($viewEl.length > 1) {\n      return app.views.main;\n    }\n  }\n  return undefined;\n}\n\nexport default {\n  name: 'view',\n  params: {\n    view: {\n      init: true,\n      initRouterOnTabShow: false,\n      name: undefined,\n      main: false,\n      router: true,\n      linksView: null,\n      stackPages: false,\n      xhrCache: true,\n      xhrCacheIgnore: [],\n      xhrCacheIgnoreGetParameters: false,\n      xhrCacheDuration: 1000 * 60 * 10, // Ten minutes\n      componentCache: true,\n      preloadPreviousPage: true,\n      allowDuplicateUrls: false,\n      reloadPages: false,\n      reloadDetail: false,\n      masterDetailBreakpoint: 0,\n      masterDetailResizable: false,\n      removeElements: true,\n      removeElementsWithTimeout: false,\n      removeElementsTimeout: 0,\n      restoreScrollTopOnBack: true,\n      unloadTabContent: true,\n      passRouteQueryToRequest: true,\n      passRouteParamsToRequest: false,\n      loadInitialPage: true,\n      // Swipe Back\n      iosSwipeBack: true,\n      iosSwipeBackAnimateShadow: true,\n      iosSwipeBackAnimateOpacity: true,\n      iosSwipeBackActiveArea: 30,\n      iosSwipeBackThreshold: 0,\n      mdSwipeBack: false,\n      mdSwipeBackAnimateShadow: true,\n      mdSwipeBackAnimateOpacity: false,\n      mdSwipeBackActiveArea: 30,\n      mdSwipeBackThreshold: 0,\n      auroraSwipeBack: false,\n      auroraSwipeBackAnimateShadow: false,\n      auroraSwipeBackAnimateOpacity: true,\n      auroraSwipeBackActiveArea: 30,\n      auroraSwipeBackThreshold: 0,\n      // Push State\n      browserHistory: false,\n      browserHistoryRoot: undefined,\n      browserHistoryAnimate: true,\n      browserHistoryAnimateOnLoad: false,\n      browserHistorySeparator: '#!',\n      browserHistoryOnLoad: true,\n      browserHistoryInitialMatch: false,\n      browserHistoryStoreHistory: true,\n      browserHistoryTabs: 'replace',\n      // Animate Pages\n      animate: true,\n      // iOS Dynamic Navbar\n      iosDynamicNavbar: true,\n      // Animate iOS Navbar Back Icon\n      iosAnimateNavbarBackIcon: true,\n      // Delays\n      iosPageLoadDelay: 0,\n      mdPageLoadDelay: 0,\n      auroraPageLoadDelay: 0,\n      // Routes hooks\n      routesBeforeEnter: null,\n      routesBeforeLeave: null,\n    },\n  },\n  static: {\n    View,\n  },\n  create() {\n    const app = this;\n    extend(app, {\n      views: extend([], {\n        create(el, params) {\n          return new View(app, el, params);\n        },\n        get(viewEl) {\n          const $viewEl = $(viewEl);\n          if ($viewEl.length && $viewEl[0].t4View) return $viewEl[0].t4View;\n          return undefined;\n        },\n      }),\n    });\n    Object.defineProperty(app.views, 'current', {\n      enumerable: true,\n      configurable: true,\n      get() {\n        return getCurrentView(app);\n      },\n    });\n    // Alias\n    app.view = app.views;\n  },\n  on: {\n    init() {\n      const app = this;\n      $('.view-init').each((viewEl) => {\n        if (viewEl.t4View) return;\n        const viewParams = $(viewEl).dataset();\n        app.views.create(viewEl, viewParams);\n      });\n    },\n    'modalOpen panelOpen': function onOpen(instance) {\n      const app = this;\n      instance.$el.find('.view-init').each((viewEl) => {\n        if (viewEl.t4View) return;\n        const viewParams = $(viewEl).dataset();\n        app.views.create(viewEl, viewParams);\n      });\n    },\n    'modalBeforeDestroy panelBeforeDestroy': function onClose(instance) {\n      if (!instance || !instance.$el) return;\n      instance.$el.find('.view-init').each((viewEl) => {\n        const view = viewEl.t4View;\n        if (!view) return;\n        view.destroy();\n      });\n    },\n  },\n  vnode: {\n    'view-init': {\n      insert(vnode) {\n        const app = this;\n        const viewEl = vnode.elm;\n        if (viewEl.t4View) return;\n        const viewParams = $(viewEl).dataset();\n        app.views.create(viewEl, viewParams);\n      },\n      destroy(vnode) {\n        const viewEl = vnode.elm;\n        const view = viewEl.t4View;\n        if (!view) return;\n        view.destroy();\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom64.js';\nimport { bindMethods } from '../../shared/utils.js';\nimport { getSupport } from '../../shared/get-support.js';\n\nconst Navbar = {\n  size(el) {\n    const app = this;\n\n    let $el = $(el);\n\n    if ($el.hasClass('navbars')) {\n      $el = $el.children('.navbar').each((navbarEl) => {\n        app.navbar.size(navbarEl);\n      });\n      return;\n    }\n\n    const $innerEl = $el.children('.navbar-inner');\n    if (!$innerEl.length) return;\n\n    const needCenterTitle =\n      $innerEl.hasClass('navbar-inner-centered-title') ||\n      app.params.navbar[`${app.theme}CenterTitle`];\n    const needLeftTitle = app.theme === 'ios' && !app.params.navbar[`${app.theme}CenterTitle`];\n\n    if (!needCenterTitle && !needLeftTitle) return;\n\n    if (\n      $el.hasClass('stacked') ||\n      $el.parents('.stacked').length > 0 ||\n      $el.parents('.tab:not(.tab-active)').length > 0 ||\n      $el.parents('.popup:not(.modal-in)').length > 0\n    ) {\n      return;\n    }\n\n    if (app.theme !== 'ios' && app.params.navbar[`${app.theme}CenterTitle`]) {\n      $innerEl.addClass('navbar-inner-centered-title');\n    }\n    if (app.theme === 'ios' && !app.params.navbar.iosCenterTitle) {\n      $innerEl.addClass('navbar-inner-left-title');\n    }\n\n    const $viewEl = $el.parents('.view').eq(0);\n    const left = app.rtl ? $innerEl.children('.right') : $innerEl.children('.left');\n    const right = app.rtl ? $innerEl.children('.left') : $innerEl.children('.right');\n    const title = $innerEl.children('.title');\n    const subnavbar = $innerEl.children('.subnavbar');\n    const noLeft = left.length === 0;\n    const noRight = right.length === 0;\n    const leftWidth = noLeft ? 0 : left.outerWidth(true);\n    const rightWidth = noRight ? 0 : right.outerWidth(true);\n    const titleWidth = title.outerWidth(true);\n    const navbarStyles = $innerEl.styles();\n    const navbarWidth = $innerEl[0].offsetWidth;\n    const navbarInnerWidth =\n      navbarWidth -\n      parseInt(navbarStyles.paddingLeft, 10) -\n      parseInt(navbarStyles.paddingRight, 10);\n    const isPrevious = $el.hasClass('navbar-previous');\n    const sliding = $innerEl.hasClass('sliding');\n\n    let router;\n    let dynamicNavbar;\n\n    if ($viewEl.length > 0 && $viewEl[0].t4View) {\n      router = $viewEl[0].t4View.router;\n      dynamicNavbar = router && router.dynamicNavbar;\n    }\n\n    let currLeft;\n    let diff;\n    if (noRight) {\n      currLeft = navbarInnerWidth - titleWidth;\n    }\n    if (noLeft) {\n      currLeft = 0;\n    }\n    if (!noLeft && !noRight) {\n      currLeft = (navbarInnerWidth - rightWidth - titleWidth + leftWidth) / 2;\n    }\n    let requiredLeft = (navbarInnerWidth - titleWidth) / 2;\n    if (navbarInnerWidth - leftWidth - rightWidth > titleWidth) {\n      if (requiredLeft < leftWidth) {\n        requiredLeft = leftWidth;\n      }\n      if (requiredLeft + titleWidth > navbarInnerWidth - rightWidth) {\n        requiredLeft = navbarInnerWidth - rightWidth - titleWidth;\n      }\n      diff = requiredLeft - currLeft;\n    } else {\n      diff = 0;\n    }\n\n    // RTL inverter\n    const inverter = app.rtl ? -1 : 1;\n\n    if (dynamicNavbar && app.theme === 'ios') {\n      if (title.hasClass('sliding') || (title.length > 0 && sliding)) {\n        let titleLeftOffset = -(currLeft + diff) * inverter;\n        const titleRightOffset = (navbarInnerWidth - currLeft - diff - titleWidth) * inverter;\n\n        if (isPrevious) {\n          if (router && router.params.iosAnimateNavbarBackIcon) {\n            const activeNavbarBackLink = $el\n              .parent()\n              .find('.navbar-current')\n              .children('.left.sliding')\n              .find('.back .icon ~ span');\n            if (activeNavbarBackLink.length > 0) {\n              titleLeftOffset += activeNavbarBackLink[0].offsetLeft;\n            }\n          }\n        }\n        title[0].t4NavbarLeftOffset = titleLeftOffset;\n        title[0].t4NavbarRightOffset = titleRightOffset;\n      }\n      if (!noLeft && (left.hasClass('sliding') || sliding)) {\n        if (app.rtl) {\n          left[0].t4NavbarLeftOffset = (-(navbarInnerWidth - left[0].offsetWidth) / 2) * inverter;\n          left[0].t4NavbarRightOffset = leftWidth * inverter;\n        } else {\n          left[0].t4NavbarLeftOffset = -leftWidth;\n          left[0].t4NavbarRightOffset = (navbarInnerWidth - left[0].offsetWidth) / 2;\n          if (\n            router &&\n            router.params.iosAnimateNavbarBackIcon &&\n            left.find('.back .icon').length > 0\n          ) {\n            if (left.find('.back .icon ~ span').length) {\n              const leftOffset = left[0].t4NavbarLeftOffset;\n              const rightOffset = left[0].t4NavbarRightOffset;\n              left[0].t4NavbarLeftOffset = 0;\n              left[0].t4NavbarRightOffset = 0;\n              left.find('.back .icon ~ span')[0].t4NavbarLeftOffset = leftOffset;\n              left.find('.back .icon ~ span')[0].t4NavbarRightOffset =\n                rightOffset - left.find('.back .icon')[0].offsetWidth;\n            }\n          }\n        }\n      }\n      if (!noRight && (right.hasClass('sliding') || sliding)) {\n        if (app.rtl) {\n          right[0].t4NavbarLeftOffset = -rightWidth * inverter;\n          right[0].t4NavbarRightOffset = ((navbarInnerWidth - right[0].offsetWidth) / 2) * inverter;\n        } else {\n          right[0].t4NavbarLeftOffset = -(navbarInnerWidth - right[0].offsetWidth) / 2;\n          right[0].t4NavbarRightOffset = rightWidth;\n        }\n      }\n      if (subnavbar.length && (subnavbar.hasClass('sliding') || sliding)) {\n        subnavbar[0].t4NavbarLeftOffset = app.rtl\n          ? subnavbar[0].offsetWidth\n          : -subnavbar[0].offsetWidth;\n        subnavbar[0].t4NavbarRightOffset = -subnavbar[0].t4NavbarLeftOffset;\n      }\n    }\n\n    // Center title\n    if (needCenterTitle) {\n      let titleLeft = diff;\n      if (app.rtl && noLeft && noRight && title.length > 0) titleLeft = -titleLeft;\n      title.css({ left: `${titleLeft}px` });\n    }\n  },\n  hide(el, animate = true, hideStatusbar = false, hideOnlyCurrent = false) {\n    const app = this;\n    let $el = $(el);\n    const isDynamic = $el.hasClass('navbar') && $el.parent('.navbars').length && !hideOnlyCurrent;\n    if (isDynamic) $el = $el.parents('.navbars');\n    if (!$el.length) return;\n    if ($el.hasClass('navbar-hidden')) return;\n    let className = `navbar-hidden${animate ? ' navbar-transitioning' : ''}`;\n    const currentIsLarge = isDynamic\n      ? $el.find('.navbar-current .title-large').length\n      : $el.find('.title-large').length;\n    if (currentIsLarge) {\n      className += ' navbar-large-hidden';\n    }\n    if (hideStatusbar) {\n      className += ' navbar-hidden-statusbar';\n    }\n    $el.transitionEnd(() => {\n      $el.removeClass('navbar-transitioning');\n    });\n    $el.addClass(className);\n    if (isDynamic) {\n      $el.children('.navbar').each((subEl) => {\n        $(subEl).trigger('navbar:hide');\n        app.emit('navbarHide', subEl);\n      });\n    } else {\n      $el.trigger('navbar:hide');\n      app.emit('navbarHide', $el[0]);\n    }\n  },\n  show(el = '.navbar-hidden', animate = true, hideOnlyCurrent = false) {\n    const app = this;\n    let $el = $(el);\n    const isDynamic = $el.hasClass('navbar') && $el.parent('.navbars').length && !hideOnlyCurrent;\n    if (isDynamic) $el = $el.parents('.navbars');\n    if (!$el.length) return;\n    if (!$el.hasClass('navbar-hidden')) return;\n    if (animate) {\n      $el.addClass('navbar-transitioning');\n      $el.transitionEnd(() => {\n        $el.removeClass('navbar-transitioning');\n      });\n    }\n    $el.removeClass('navbar-hidden navbar-large-hidden navbar-hidden-statusbar');\n    if (isDynamic) {\n      $el.children('.navbar').each((subEl) => {\n        $(subEl).trigger('navbar:show');\n        app.emit('navbarShow', subEl);\n      });\n    } else {\n      $el.trigger('navbar:show');\n      app.emit('navbarShow', $el[0]);\n    }\n  },\n  getElByPage(page) {\n    let $pageEl;\n    let $navbarEl;\n    let pageData;\n    if (page.$navbarEl || page.$el) {\n      pageData = page;\n      $pageEl = page.$el;\n    } else {\n      $pageEl = $(page);\n      if ($pageEl.length > 0) pageData = $pageEl[0].t4Page;\n    }\n    if (pageData && pageData.$navbarEl && pageData.$navbarEl.length > 0) {\n      $navbarEl = pageData.$navbarEl;\n    } else if ($pageEl) {\n      $navbarEl = $pageEl.children('.navbar');\n    }\n    if (!$navbarEl || ($navbarEl && $navbarEl.length === 0)) return undefined;\n    return $navbarEl[0];\n  },\n  getPageByEl(navbarEl) {\n    const $navbarEl = $(navbarEl);\n    if ($navbarEl.parents('.page').length) {\n      return $navbarEl.parents('.page')[0];\n    }\n    let pageEl;\n    $navbarEl\n      .parents('.view')\n      .find('.page')\n      .each((el) => {\n        if (el && el.t4Page && el.t4Page.navbarEl && $navbarEl[0] === el.t4Page.navbarEl) {\n          pageEl = el;\n        }\n      });\n    return pageEl;\n  },\n\n  collapseLargeTitle(navbarEl) {\n    const app = this;\n    let $navbarEl = $(navbarEl);\n    if ($navbarEl.hasClass('navbars')) {\n      $navbarEl = $navbarEl.find('.navbar');\n      if ($navbarEl.length > 1) {\n        $navbarEl = $(navbarEl).find('.navbar-large.navbar-current');\n      }\n      if ($navbarEl.length > 1 || !$navbarEl.length) {\n        return;\n      }\n    }\n    const $pageEl = $(app.navbar.getPageByEl($navbarEl));\n    $navbarEl.addClass('navbar-large-collapsed');\n    $pageEl.eq(0).addClass('page-with-navbar-large-collapsed').trigger('page:navbarlargecollapsed');\n    app.emit('pageNavbarLargeCollapsed', $pageEl[0]);\n    $navbarEl.trigger('navbar:collapse');\n    app.emit('navbarCollapse', $navbarEl[0]);\n  },\n  expandLargeTitle(navbarEl) {\n    const app = this;\n    let $navbarEl = $(navbarEl);\n    if ($navbarEl.hasClass('navbars')) {\n      $navbarEl = $navbarEl.find('.navbar-large');\n      if ($navbarEl.length > 1) {\n        $navbarEl = $(navbarEl).find('.navbar-large.navbar-current');\n      }\n      if ($navbarEl.length > 1 || !$navbarEl.length) {\n        return;\n      }\n    }\n    const $pageEl = $(app.navbar.getPageByEl($navbarEl));\n    $navbarEl.removeClass('navbar-large-collapsed');\n    $pageEl\n      .eq(0)\n      .removeClass('page-with-navbar-large-collapsed')\n      .trigger('page:navbarlargeexpanded');\n    app.emit('pageNavbarLargeExpanded', $pageEl[0]);\n    $navbarEl.trigger('navbar:expand');\n    app.emit('navbarExpand', $navbarEl[0]);\n  },\n  toggleLargeTitle(navbarEl) {\n    const app = this;\n    let $navbarEl = $(navbarEl);\n    if ($navbarEl.hasClass('navbars')) {\n      $navbarEl = $navbarEl.find('.navbar-large');\n      if ($navbarEl.length > 1) {\n        $navbarEl = $(navbarEl).find('.navbar-large.navbar-current');\n      }\n      if ($navbarEl.length > 1 || !$navbarEl.length) {\n        return;\n      }\n    }\n    if ($navbarEl.hasClass('navbar-large-collapsed')) {\n      app.navbar.expandLargeTitle($navbarEl);\n    } else {\n      app.navbar.collapseLargeTitle($navbarEl);\n    }\n  },\n  initNavbarOnScroll(pageEl, navbarEl, needHide, needCollapse, needTransparent) {\n    const app = this;\n    const support = getSupport();\n    const $pageEl = $(pageEl);\n    const $navbarEl = $(navbarEl);\n    const $titleLargeEl = $navbarEl.find('.title-large');\n    const isLarge = $titleLargeEl.length || $navbarEl.hasClass('.navbar-large');\n    let navbarHideHeight = 44;\n    const snapPageScrollToLargeTitle = app.params.navbar.snapPageScrollToLargeTitle;\n    const snapPageScrollToTransparentNavbar = app.params.navbar.snapPageScrollToTransparentNavbar;\n\n    let previousScrollTop;\n    let currentScrollTop;\n\n    let scrollHeight;\n    let offsetHeight;\n    let reachEnd;\n    let action;\n    let navbarHidden;\n\n    let navbarCollapsed;\n    let navbarTitleLargeHeight;\n\n    let navbarOffsetHeight;\n\n    if (needCollapse || (needHide && isLarge)) {\n      navbarTitleLargeHeight = $navbarEl.css('--t4-navbar-large-title-height');\n\n      if (navbarTitleLargeHeight && navbarTitleLargeHeight.indexOf('px') >= 0) {\n        navbarTitleLargeHeight = parseInt(navbarTitleLargeHeight, 10);\n        if (Number.isNaN(navbarTitleLargeHeight) && $titleLargeEl.length) {\n          navbarTitleLargeHeight = $titleLargeEl[0].offsetHeight;\n        } else if (Number.isNaN(navbarTitleLargeHeight)) {\n          if (app.theme === 'ios') navbarTitleLargeHeight = 52;\n          else if (app.theme === 'md') navbarTitleLargeHeight = 48;\n          else if (app.theme === 'aurora') navbarTitleLargeHeight = 38;\n        }\n      } else if ($titleLargeEl.length) {\n        navbarTitleLargeHeight = $titleLargeEl[0].offsetHeight;\n      } else {\n        // eslint-disable-next-line\n        if (app.theme === 'ios') navbarTitleLargeHeight = 52;\n        else if (app.theme === 'md') navbarTitleLargeHeight = 48;\n        else if (app.theme === 'aurora') navbarTitleLargeHeight = 38;\n      }\n    }\n\n    if (needHide && isLarge) {\n      navbarHideHeight += navbarTitleLargeHeight;\n    }\n\n    let scrollChanged;\n    let scrollContent;\n    let scrollTimeoutId;\n    let touchEndTimeoutId;\n    const touchSnapTimeout = 70;\n    const desktopSnapTimeout = 300;\n\n    function calcScrollableDistance() {\n      $pageEl.find('.page-content').each((pageContentEl) => {\n        pageContentEl.t4ScrollableDistance =\n          pageContentEl.scrollHeight - pageContentEl.offsetHeight;\n      });\n    }\n\n    function snapLargeNavbar() {\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      if (!scrollContent || currentScrollTop < 0) return;\n      if (\n        currentScrollTop >= navbarTitleLargeHeight / 2 &&\n        currentScrollTop < navbarTitleLargeHeight\n      ) {\n        $(scrollContent).scrollTop(navbarTitleLargeHeight, 100);\n      } else if (currentScrollTop < navbarTitleLargeHeight) {\n        $(scrollContent).scrollTop(0, 200);\n      }\n    }\n\n    function snapTransparentNavbar() {\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      if (!scrollContent || currentScrollTop < 0) return;\n      if (currentScrollTop >= navbarOffsetHeight / 2 && currentScrollTop < navbarOffsetHeight) {\n        $(scrollContent).scrollTop(navbarOffsetHeight, 100);\n      } else if (currentScrollTop < navbarOffsetHeight) {\n        $(scrollContent).scrollTop(0, 200);\n      }\n    }\n\n    function handleNavbarTransparent() {\n      const isHidden =\n        $navbarEl.hasClass('navbar-hidden') ||\n        $navbarEl.parent('.navbars').hasClass('navbar-hidden');\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded || isHidden) return;\n      if (!navbarOffsetHeight) {\n        navbarOffsetHeight = navbarEl.offsetHeight;\n      }\n      let opacity = currentScrollTop / navbarOffsetHeight;\n      const notTransparent = $navbarEl.hasClass('navbar-transparent-visible');\n      opacity = Math.max(Math.min(opacity, 1), 0);\n\n      if ((notTransparent && opacity === 1) || (!notTransparent && opacity === 0)) {\n        $navbarEl.find('.navbar-bg, .title').css('opacity', '');\n        return;\n      }\n      if (notTransparent && opacity === 0) {\n        $navbarEl.trigger('navbar:transparenthide');\n        app.emit('navbarTransparentHide', $navbarEl[0]);\n        $navbarEl.removeClass('navbar-transparent-visible');\n        $navbarEl.find('.navbar-bg, .title').css('opacity', '');\n        return;\n      }\n      if (!notTransparent && opacity === 1) {\n        $navbarEl.trigger('navbar:transparentshow');\n        app.emit('navbarTransparentShow', $navbarEl[0]);\n        $navbarEl.addClass('navbar-transparent-visible');\n        $navbarEl.find('.navbar-bg, .title').css('opacity', '');\n        return;\n      }\n\n      $navbarEl.find('.navbar-bg, .title').css('opacity', opacity);\n\n      if (snapPageScrollToTransparentNavbar) {\n        if (!support.touch) {\n          clearTimeout(scrollTimeoutId);\n          scrollTimeoutId = setTimeout(() => {\n            snapTransparentNavbar();\n          }, desktopSnapTimeout);\n        } else if (touchEndTimeoutId) {\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n          touchEndTimeoutId = setTimeout(() => {\n            snapTransparentNavbar();\n            clearTimeout(touchEndTimeoutId);\n            touchEndTimeoutId = null;\n          }, touchSnapTimeout);\n        }\n      }\n    }\n\n    let previousCollapseProgress = null;\n    let collapseProgress = null;\n    function handleLargeNavbarCollapse(pageContentEl) {\n      const isHidden =\n        $navbarEl.hasClass('navbar-hidden') ||\n        $navbarEl.parent('.navbars').hasClass('navbar-hidden');\n      if (isHidden) return;\n      const isLargeTransparent =\n        $navbarEl.hasClass('navbar-large-transparent') ||\n        ($navbarEl.hasClass('navbar-large') && $navbarEl.hasClass('navbar-transparent'));\n      previousCollapseProgress = collapseProgress;\n      const scrollableDistance = Math.min(\n        navbarTitleLargeHeight,\n        pageContentEl.t4ScrollableDistance || navbarTitleLargeHeight,\n      );\n      collapseProgress = Math.min(Math.max(currentScrollTop / scrollableDistance, 0), 1);\n      const previousCollapseWasInMiddle =\n        previousCollapseProgress > 0 && previousCollapseProgress < 1;\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      navbarCollapsed = $navbarEl.hasClass('navbar-large-collapsed');\n      if (collapseProgress === 0 && navbarCollapsed) {\n        app.navbar.expandLargeTitle($navbarEl[0]);\n      } else if (collapseProgress === 1 && !navbarCollapsed) {\n        app.navbar.collapseLargeTitle($navbarEl[0]);\n      }\n      if (\n        (collapseProgress === 0 && navbarCollapsed) ||\n        (collapseProgress === 0 && previousCollapseWasInMiddle) ||\n        (collapseProgress === 1 && !navbarCollapsed) ||\n        (collapseProgress === 1 && previousCollapseWasInMiddle)\n      ) {\n        if (app.theme === 'md') {\n          $navbarEl.find('.navbar-inner').css('overflow', '');\n        }\n        $navbarEl.find('.title').css('opacity', '');\n        $navbarEl.find('.title-large-text, .subnavbar').css('transform', '');\n        if (isLargeTransparent) {\n          $navbarEl.find('.navbar-bg').css('opacity', '');\n        } else {\n          $navbarEl.find('.navbar-bg').css('transform', '');\n        }\n      } else if (collapseProgress > 0 && collapseProgress < 1) {\n        if (app.theme === 'md') {\n          $navbarEl.find('.navbar-inner').css('overflow', 'visible');\n        }\n        $navbarEl.find('.title').css('opacity', collapseProgress);\n        $navbarEl\n          .find('.title-large-text, .subnavbar')\n          .css(\n            'transform',\n            `translate3d(0px, ${-1 * collapseProgress * navbarTitleLargeHeight}px, 0)`,\n          );\n        if (isLargeTransparent) {\n          $navbarEl.find('.navbar-bg').css('opacity', collapseProgress);\n        } else {\n          $navbarEl\n            .find('.navbar-bg')\n            .css(\n              'transform',\n              `translate3d(0px, ${-1 * collapseProgress * navbarTitleLargeHeight}px, 0)`,\n            );\n        }\n      }\n\n      if (snapPageScrollToLargeTitle) {\n        if (!support.touch) {\n          clearTimeout(scrollTimeoutId);\n          scrollTimeoutId = setTimeout(() => {\n            snapLargeNavbar();\n          }, desktopSnapTimeout);\n        } else if (touchEndTimeoutId) {\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n          touchEndTimeoutId = setTimeout(() => {\n            snapLargeNavbar();\n            clearTimeout(touchEndTimeoutId);\n            touchEndTimeoutId = null;\n          }, touchSnapTimeout);\n        }\n      }\n    }\n\n    function handleTitleHideShow() {\n      if ($pageEl.hasClass('page-with-card-opened')) return;\n      scrollHeight = scrollContent.scrollHeight;\n      offsetHeight = scrollContent.offsetHeight;\n      reachEnd = currentScrollTop + offsetHeight >= scrollHeight;\n      navbarHidden =\n        $navbarEl.hasClass('navbar-hidden') ||\n        $navbarEl.parent('.navbars').hasClass('navbar-hidden');\n      if (reachEnd) {\n        if (app.params.navbar.showOnPageScrollEnd) {\n          action = 'show';\n        }\n      } else if (previousScrollTop > currentScrollTop) {\n        if (app.params.navbar.showOnPageScrollTop || currentScrollTop <= navbarHideHeight) {\n          action = 'show';\n        } else {\n          action = 'hide';\n        }\n      } else if (currentScrollTop > navbarHideHeight) {\n        action = 'hide';\n      } else {\n        action = 'show';\n      }\n\n      if (action === 'show' && navbarHidden) {\n        app.navbar.show($navbarEl, true, true);\n        navbarHidden = false;\n      } else if (action === 'hide' && !navbarHidden) {\n        app.navbar.hide($navbarEl, true, false, true);\n        navbarHidden = true;\n      }\n      previousScrollTop = currentScrollTop;\n    }\n\n    function handleScroll(e) {\n      scrollContent = this;\n      if (e && e.target && e.target !== scrollContent) {\n        return;\n      }\n      currentScrollTop = scrollContent.scrollTop;\n      scrollChanged = currentScrollTop;\n      if (needCollapse) {\n        handleLargeNavbarCollapse(scrollContent);\n      } else if (needTransparent) {\n        handleNavbarTransparent();\n      }\n      if ($pageEl.hasClass('page-previous')) return;\n      if (needHide) {\n        handleTitleHideShow();\n      }\n    }\n    function handeTouchStart() {\n      scrollChanged = false;\n    }\n    function handleTouchEnd() {\n      clearTimeout(touchEndTimeoutId);\n      touchEndTimeoutId = null;\n      touchEndTimeoutId = setTimeout(() => {\n        if (scrollChanged !== false) {\n          if (needTransparent && !needCollapse) {\n            snapTransparentNavbar();\n          } else {\n            snapLargeNavbar();\n          }\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n        }\n      }, touchSnapTimeout);\n    }\n    $pageEl.on('scroll', '.page-content', handleScroll, true);\n\n    if (\n      support.touch &&\n      ((needCollapse && snapPageScrollToLargeTitle) ||\n        (needTransparent && snapPageScrollToTransparentNavbar))\n    ) {\n      app.on('touchstart:passive', handeTouchStart);\n      app.on('touchend:passive', handleTouchEnd);\n    }\n    calcScrollableDistance();\n    if (needCollapse || needTransparent) {\n      $pageEl.find('.page-content').each((pageContentEl) => {\n        if (pageContentEl.scrollTop > 0) handleScroll.call(pageContentEl);\n      });\n    }\n    app.on('resize', calcScrollableDistance);\n    $pageEl[0].t4DetachNavbarScrollHandlers = function t4DetachNavbarScrollHandlers() {\n      app.off('resize', calcScrollableDistance);\n      delete $pageEl[0].t4DetachNavbarScrollHandlers;\n      $pageEl.off('scroll', '.page-content', handleScroll, true);\n      if (\n        support.touch &&\n        ((needCollapse && snapPageScrollToLargeTitle) ||\n          (needTransparent && snapPageScrollToTransparentNavbar))\n      ) {\n        app.off('touchstart:passive', handeTouchStart);\n        app.off('touchend:passive', handleTouchEnd);\n      }\n    };\n  },\n};\nexport default {\n  name: 'navbar',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      navbar: Navbar,\n    });\n  },\n  params: {\n    navbar: {\n      scrollTopOnTitleClick: true,\n      iosCenterTitle: true,\n      mdCenterTitle: false,\n      auroraCenterTitle: true,\n      hideOnPageScroll: false,\n      showOnPageScrollEnd: true,\n      showOnPageScrollTop: true,\n      collapseLargeTitleOnScroll: true,\n      snapPageScrollToLargeTitle: true,\n      snapPageScrollToTransparentNavbar: true,\n    },\n  },\n  on: {\n    'panelBreakpoint panelCollapsedBreakpoint panelResize viewResize resize viewMasterDetailBreakpoint':\n      function onPanelResize() {\n        const app = this;\n        $('.navbar').each((navbarEl) => {\n          app.navbar.size(navbarEl);\n        });\n      },\n    pageBeforeRemove(page) {\n      if (page.$el[0].t4DetachNavbarScrollHandlers) {\n        page.$el[0].t4DetachNavbarScrollHandlers();\n      }\n    },\n    pageBeforeIn(page) {\n      const app = this;\n      if (app.theme !== 'ios') return;\n      let $navbarsEl;\n      const view = page.$el.parents('.view')[0].t4View;\n      const navbarEl = app.navbar.getElByPage(page);\n      if (!navbarEl) {\n        $navbarsEl = page.$el.parents('.view').children('.navbars');\n      } else {\n        $navbarsEl = $(navbarEl).parents('.navbars');\n      }\n      if (page.$el.hasClass('no-navbar') || (view.router.dynamicNavbar && !navbarEl)) {\n        const animate = !!(page.pageFrom && page.router.history.length > 0);\n        app.navbar.hide($navbarsEl, animate);\n      } else {\n        app.navbar.show($navbarsEl);\n      }\n    },\n    pageReinit(page) {\n      const app = this;\n      const $navbarEl = $(app.navbar.getElByPage(page));\n      if (!$navbarEl || $navbarEl.length === 0) return;\n      app.navbar.size($navbarEl);\n    },\n    pageInit(page) {\n      const app = this;\n      const $navbarEl = $(app.navbar.getElByPage(page));\n      if (!$navbarEl || $navbarEl.length === 0) return;\n\n      // Size\n      app.navbar.size($navbarEl);\n\n      // Need Collapse On Scroll\n      let needCollapseOnScrollHandler;\n      if ($navbarEl.find('.title-large').length > 0) {\n        $navbarEl.addClass('navbar-large');\n      }\n      if ($navbarEl.hasClass('navbar-large')) {\n        if (app.params.navbar.collapseLargeTitleOnScroll) needCollapseOnScrollHandler = true;\n        page.$el.addClass('page-with-navbar-large');\n      }\n\n      // Need transparent on scroll\n      let needTransparentOnScroll;\n      if (!needCollapseOnScrollHandler && $navbarEl.hasClass('navbar-transparent')) {\n        needTransparentOnScroll = true;\n      }\n\n      // Need Hide On Scroll\n      let needHideOnScrollHandler;\n      if (\n        app.params.navbar.hideOnPageScroll ||\n        page.$el.find('.hide-navbar-on-scroll').length ||\n        page.$el.hasClass('hide-navbar-on-scroll') ||\n        page.$el.find('.hide-bars-on-scroll').length ||\n        page.$el.hasClass('hide-bars-on-scroll')\n      ) {\n        if (\n          page.$el.find('.keep-navbar-on-scroll').length ||\n          page.$el.hasClass('keep-navbar-on-scroll') ||\n          page.$el.find('.keep-bars-on-scroll').length ||\n          page.$el.hasClass('keep-bars-on-scroll')\n        ) {\n          needHideOnScrollHandler = false;\n        } else {\n          needHideOnScrollHandler = true;\n        }\n      }\n\n      if (needCollapseOnScrollHandler || needHideOnScrollHandler || needTransparentOnScroll) {\n        app.navbar.initNavbarOnScroll(\n          page.el,\n          $navbarEl[0],\n          needHideOnScrollHandler,\n          needCollapseOnScrollHandler,\n          needTransparentOnScroll,\n        );\n      }\n    },\n    'panelOpen panelSwipeOpen modalOpen': function onPanelModalOpen(instance) {\n      const app = this;\n      instance.$el.find('.navbar:not(.navbar-previous):not(.stacked)').each((navbarEl) => {\n        app.navbar.size(navbarEl);\n      });\n    },\n    tabShow(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.navbar:not(.navbar-previous):not(.stacked)')\n        .each((navbarEl) => {\n          app.navbar.size(navbarEl);\n        });\n    },\n  },\n  clicks: {\n    '.navbar .title': function onTitleClick($clickedEl, clickedData, e) {\n      const app = this;\n      if (!app.params.navbar.scrollTopOnTitleClick) return;\n      if ($(e.target).closest('a, button').length > 0) {\n        return;\n      }\n      let $pageContentEl;\n\n      // Find active page\n      const $navbarEl = $clickedEl.parents('.navbar');\n      const $navbarsEl = $navbarEl.parents('.navbars');\n\n      // Static Layout\n      $pageContentEl = $navbarEl.parents('.page-content');\n\n      if ($pageContentEl.length === 0) {\n        // Fixed Layout\n        if ($navbarEl.parents('.page').length > 0) {\n          $pageContentEl = $navbarEl.parents('.page').find('.page-content');\n        }\n        // Through Layout iOS\n        if ($pageContentEl.length === 0 && $navbarsEl.length) {\n          if ($navbarsEl.nextAll('.page-current:not(.stacked)').length > 0) {\n            $pageContentEl = $navbarsEl\n              .nextAll('.page-current:not(.stacked)')\n              .find('.page-content');\n          }\n        }\n        // Through Layout\n        if ($pageContentEl.length === 0) {\n          if ($navbarEl.nextAll('.page-current:not(.stacked)').length > 0) {\n            $pageContentEl = $navbarEl.nextAll('.page-current:not(.stacked)').find('.page-content');\n          }\n        }\n      }\n      if ($pageContentEl && $pageContentEl.length > 0) {\n        // Check for tab\n        if ($pageContentEl.hasClass('tab')) {\n          $pageContentEl = $pageContentEl.parent('.tabs').children('.page-content.tab-active');\n        }\n        if ($pageContentEl.length > 0) $pageContentEl.scrollTop(0, 300);\n      }\n    },\n  },\n  vnode: {\n    navbar: {\n      postpatch(vnode) {\n        const app = this;\n        app.navbar.size(vnode.elm);\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom64.js';\nimport { nextFrame, bindMethods } from '../../shared/utils.js';\n\nconst Toolbar = {\n  setHighlight(tabbarEl) {\n    const app = this;\n    const $tabbarEl = $(tabbarEl);\n    if (app.theme === 'ios' && !$tabbarEl.hasClass('tabbar-highlight')) return;\n\n    if (\n      $tabbarEl.length === 0 ||\n      !($tabbarEl.hasClass('tabbar') || $tabbarEl.hasClass('tabbar-labels'))\n    )\n      return;\n\n    let $highlightEl = $tabbarEl.find('.tab-link-highlight');\n    const tabLinksCount = $tabbarEl.find('.tab-link').length;\n    if (tabLinksCount === 0) {\n      $highlightEl.remove();\n      return;\n    }\n\n    if ($highlightEl.length === 0) {\n      $tabbarEl.children('.toolbar-inner').append('<span class=\"tab-link-highlight\"></span>');\n      $highlightEl = $tabbarEl.find('.tab-link-highlight');\n    } else if ($highlightEl.next().length) {\n      $tabbarEl.children('.toolbar-inner').append($highlightEl);\n    }\n\n    const $activeLink = $tabbarEl.find('.tab-link-active');\n    let highlightWidth;\n    let highlightTranslate;\n\n    if ($tabbarEl.hasClass('tabbar-scrollable') && $activeLink && $activeLink[0]) {\n      highlightWidth = `${$activeLink[0].offsetWidth}px`;\n      highlightTranslate = `${$activeLink[0].offsetLeft}px`;\n    } else {\n      const activeIndex = $activeLink.index();\n      highlightWidth = `${100 / tabLinksCount}%`;\n      highlightTranslate = `${(app.rtl ? -activeIndex : activeIndex) * 100}%`;\n    }\n\n    nextFrame(() => {\n      $highlightEl.css('width', highlightWidth).transform(`translate3d(${highlightTranslate},0,0)`);\n    });\n  },\n  init(tabbarEl) {\n    const app = this;\n    app.toolbar.setHighlight(tabbarEl);\n  },\n  hide(el, animate = true) {\n    const app = this;\n    const $el = $(el);\n    if ($el.hasClass('toolbar-hidden')) return;\n    const className = `toolbar-hidden${animate ? ' toolbar-transitioning' : ''}`;\n    $el.transitionEnd(() => {\n      $el.removeClass('toolbar-transitioning');\n    });\n    $el.addClass(className);\n    $el.trigger('toolbar:hide');\n    app.emit('toolbarHide', $el[0]);\n  },\n  show(el, animate = true) {\n    const app = this;\n    const $el = $(el);\n    if (!$el.hasClass('toolbar-hidden')) return;\n    if (animate) {\n      $el.addClass('toolbar-transitioning');\n      $el.transitionEnd(() => {\n        $el.removeClass('toolbar-transitioning');\n      });\n    }\n    $el.removeClass('toolbar-hidden');\n    $el.trigger('toolbar:show');\n    app.emit('toolbarShow', $el[0]);\n  },\n  initToolbarOnScroll(pageEl) {\n    const app = this;\n    const $pageEl = $(pageEl);\n    let $toolbarEl = $pageEl.parents('.view').children('.toolbar');\n    if ($toolbarEl.length === 0) {\n      $toolbarEl = $pageEl.find('.toolbar');\n    }\n    if ($toolbarEl.length === 0) {\n      $toolbarEl = $pageEl.parents('.views').children('.tabbar, .tabbar-labels');\n    }\n    if ($toolbarEl.length === 0) {\n      return;\n    }\n\n    let previousScrollTop;\n    let currentScrollTop;\n\n    let scrollHeight;\n    let offsetHeight;\n    let reachEnd;\n    let action;\n    let toolbarHidden;\n    function handleScroll(e) {\n      if ($pageEl.hasClass('page-with-card-opened')) return;\n      if ($pageEl.hasClass('page-previous')) return;\n      const scrollContent = this;\n      if (e && e.target && e.target !== scrollContent) {\n        return;\n      }\n      currentScrollTop = scrollContent.scrollTop;\n      scrollHeight = scrollContent.scrollHeight;\n      offsetHeight = scrollContent.offsetHeight;\n      reachEnd = currentScrollTop + offsetHeight >= scrollHeight;\n      toolbarHidden = $toolbarEl.hasClass('toolbar-hidden');\n\n      if (reachEnd) {\n        if (app.params.toolbar.showOnPageScrollEnd) {\n          action = 'show';\n        }\n      } else if (previousScrollTop > currentScrollTop) {\n        if (app.params.toolbar.showOnPageScrollTop || currentScrollTop <= 44) {\n          action = 'show';\n        } else {\n          action = 'hide';\n        }\n      } else if (currentScrollTop > 44) {\n        action = 'hide';\n      } else {\n        action = 'show';\n      }\n\n      if (action === 'show' && toolbarHidden) {\n        app.toolbar.show($toolbarEl);\n        toolbarHidden = false;\n      } else if (action === 'hide' && !toolbarHidden) {\n        app.toolbar.hide($toolbarEl);\n        toolbarHidden = true;\n      }\n\n      previousScrollTop = currentScrollTop;\n    }\n    $pageEl.on('scroll', '.page-content', handleScroll, true);\n    $pageEl[0].t4ScrollToolbarHandler = handleScroll;\n  },\n};\nexport default {\n  name: 'toolbar',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      toolbar: Toolbar,\n    });\n  },\n  params: {\n    toolbar: {\n      hideOnPageScroll: false,\n      showOnPageScrollEnd: true,\n      showOnPageScrollTop: true,\n    },\n  },\n  on: {\n    pageBeforeRemove(page) {\n      if (page.$el[0].t4ScrollToolbarHandler) {\n        page.$el.off('scroll', '.page-content', page.$el[0].t4ScrollToolbarHandler, true);\n      }\n    },\n    pageBeforeIn(page) {\n      const app = this;\n      let $toolbarEl = page.$el.parents('.view').children('.toolbar');\n      if ($toolbarEl.length === 0) {\n        $toolbarEl = page.$el.parents('.views').children('.tabbar, .tabbar-labels');\n      }\n      if ($toolbarEl.length === 0) {\n        $toolbarEl = page.$el.find('.toolbar');\n      }\n      if ($toolbarEl.length === 0) {\n        return;\n      }\n      if (page.$el.hasClass('no-toolbar')) {\n        app.toolbar.hide($toolbarEl);\n      } else {\n        app.toolbar.show($toolbarEl);\n      }\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.tabbar, .tabbar-labels').each((tabbarEl) => {\n        app.toolbar.init(tabbarEl);\n      });\n      if (\n        app.params.toolbar.hideOnPageScroll ||\n        page.$el.find('.hide-toolbar-on-scroll').length ||\n        page.$el.hasClass('hide-toolbar-on-scroll') ||\n        page.$el.find('.hide-bars-on-scroll').length ||\n        page.$el.hasClass('hide-bars-on-scroll')\n      ) {\n        if (\n          page.$el.find('.keep-toolbar-on-scroll').length ||\n          page.$el.hasClass('keep-toolbar-on-scroll') ||\n          page.$el.find('.keep-bars-on-scroll').length ||\n          page.$el.hasClass('keep-bars-on-scroll')\n        ) {\n          return;\n        }\n        app.toolbar.initToolbarOnScroll(page.el);\n      }\n    },\n    init() {\n      const app = this;\n      app.$el.find('.tabbar, .tabbar-labels').each((tabbarEl) => {\n        app.toolbar.init(tabbarEl);\n      });\n    },\n  },\n  vnode: {\n    tabbar: {\n      insert(vnode) {\n        const app = this;\n        app.toolbar.init(vnode.elm);\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom64.js';\n\nexport default {\n  name: 'subnavbar',\n  on: {\n    pageInit(page) {\n      if (page.$navbarEl && page.$navbarEl.length && page.$navbarEl.find('.subnavbar').length) {\n        page.$el.addClass('page-with-subnavbar');\n      }\n      const $innerSubnavbars = page.$el.find('.subnavbar').filter((subnavbarEl) => {\n        return $(subnavbarEl).parents('.page')[0] === page.$el[0];\n      });\n      if ($innerSubnavbars.length) {\n        page.$el.addClass('page-with-subnavbar');\n      }\n    },\n  },\n};\n","import $ from '../../shared/dom64.js';\n\nexport default class TouchRipple {\n  constructor(app, $el, x, y) {\n    const ripple = this;\n\n    if (!$el) return undefined;\n\n    const { left, top, width, height } = $el[0].getBoundingClientRect();\n    const center = {\n      x: x - left,\n      y: y - top,\n    };\n    let diameter = Math.max((height ** 2 + width ** 2) ** 0.5, 48);\n\n    let isInset = false;\n    const insetElements = app.params.touch.touchRippleInsetElements || '';\n    if (insetElements && $el.is(insetElements)) {\n      isInset = true;\n    }\n    if (isInset) {\n      diameter = Math.max(Math.min(width, height), 48);\n    }\n\n    if (!isInset && $el.css('overflow') === 'hidden') {\n      const distanceFromCenter =\n        ((center.x - width / 2) ** 2 + (center.y - height / 2) ** 2) ** 0.5;\n      const scale = (diameter / 2 + distanceFromCenter) / (diameter / 2);\n      ripple.rippleTransform = `translate3d(0px, 0px, 0) scale(${scale})`;\n    } else {\n      // prettier-ignore\n      ripple.rippleTransform = `translate3d(${-center.x + width / 2}px, ${-center.y + height / 2}px, 0) scale(1)`;\n    }\n    if (isInset) {\n      $el.addClass('ripple-inset');\n    }\n\n    ripple.$rippleWaveEl = $(\n      `<div class=\"ripple-wave\" style=\"width: ${diameter}px; height: ${diameter}px; margin-top:-${\n        diameter / 2\n      }px; margin-left:-${diameter / 2}px; left:${center.x}px; top:${\n        center.y\n      }px; --t4-ripple-transform: ${ripple.rippleTransform}\"></div>`,\n    );\n\n    $el.prepend(ripple.$rippleWaveEl);\n\n    ripple.$rippleWaveEl.animationEnd(() => {\n      if (!ripple.$rippleWaveEl) return;\n      if (ripple.$rippleWaveEl.hasClass('ripple-wave-out')) return;\n      ripple.$rippleWaveEl.addClass('ripple-wave-in');\n      if (ripple.shouldBeRemoved) {\n        ripple.out();\n      }\n    });\n\n    return ripple;\n  }\n\n  destroy() {\n    let ripple = this;\n    if (ripple.$rippleWaveEl) {\n      ripple.$rippleWaveEl.remove();\n    }\n    Object.keys(ripple).forEach((key) => {\n      ripple[key] = null;\n      delete ripple[key];\n    });\n    ripple = null;\n  }\n\n  out() {\n    const ripple = this;\n    const { $rippleWaveEl } = this;\n    clearTimeout(ripple.removeTimeout);\n    $rippleWaveEl.addClass('ripple-wave-out');\n\n    ripple.removeTimeout = setTimeout(() => {\n      ripple.destroy();\n    }, 300);\n\n    $rippleWaveEl.animationEnd(() => {\n      clearTimeout(ripple.removeTimeout);\n      ripple.destroy();\n    });\n  }\n\n  remove() {\n    const ripple = this;\n    if (ripple.shouldBeRemoved) return;\n    ripple.removeTimeout = setTimeout(() => {\n      ripple.destroy();\n    }, 400);\n    ripple.shouldBeRemoved = true;\n    if (ripple.$rippleWaveEl.hasClass('ripple-wave-in')) {\n      ripple.out();\n    }\n  }\n}\n","import TouchRipple from './touch-ripple-class.js';\n\nexport default {\n  name: 'touch-ripple',\n  static: {\n    TouchRipple,\n  },\n  create() {\n    const app = this;\n    app.touchRipple = {\n      create(...args) {\n        return new TouchRipple(...args);\n      },\n    };\n  },\n};\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom64.js';\nimport { extend, deleteProps } from '../../shared/utils.js';\nimport techno4Class from '../../shared/class.js';\n\nconst openedModals = [];\nconst dialogsQueue = [];\nfunction clearDialogsQueue() {\n  if (dialogsQueue.length === 0) return;\n  const dialog = dialogsQueue.shift();\n  dialog.open();\n}\nclass Modal extends techno4Class {\n  constructor(app, params) {\n    super(params, [app]);\n\n    const modal = this;\n\n    const defaults = {};\n\n    // Extend defaults with modules params\n    modal.useModulesParams(defaults);\n\n    modal.params = extend(defaults, params);\n    modal.opened = false;\n\n    let $containerEl = modal.params.containerEl ? $(modal.params.containerEl).eq(0) : app.$el;\n    if (!$containerEl.length) $containerEl = app.$el;\n\n    modal.$containerEl = $containerEl;\n    modal.containerEl = $containerEl[0];\n\n    // Install Modules\n    modal.useModules();\n\n    return this;\n  }\n\n  onOpen() {\n    const modal = this;\n    modal.opened = true;\n    openedModals.push(modal);\n    $('html').addClass(`with-modal-${modal.type.toLowerCase()}`);\n    modal.$el.trigger(`modal:open ${modal.type.toLowerCase()}:open`);\n    modal.emit(`local::open modalOpen ${modal.type}Open`, modal);\n  }\n\n  onOpened() {\n    const modal = this;\n    modal.$el.trigger(`modal:opened ${modal.type.toLowerCase()}:opened`);\n    modal.emit(`local::opened modalOpened ${modal.type}Opened`, modal);\n  }\n\n  onClose() {\n    const modal = this;\n    modal.opened = false;\n    if (!modal.type || !modal.$el) return;\n    openedModals.splice(openedModals.indexOf(modal), 1);\n    $('html').removeClass(`with-modal-${modal.type.toLowerCase()}`);\n    modal.$el.trigger(`modal:close ${modal.type.toLowerCase()}:close`);\n    modal.emit(`local::close modalClose ${modal.type}Close`, modal);\n  }\n\n  onClosed() {\n    const modal = this;\n    if (!modal.type || !modal.$el) return;\n    modal.$el.removeClass('modal-out');\n    modal.$el.hide();\n    if (\n      modal.params.backdrop &&\n      (modal.params.backdropUnique || modal.forceBackdropUnique) &&\n      modal.$backdropEl\n    ) {\n      modal.$backdropEl.remove();\n    }\n    modal.$el.trigger(`modal:closed ${modal.type.toLowerCase()}:closed`);\n    modal.emit(`local::closed modalClosed ${modal.type}Closed`, modal);\n  }\n\n  open(animateModal) {\n    const modal = this;\n    const document = getDocument();\n    const app = modal.app;\n    const $el = modal.$el;\n    const $backdropEl = modal.$backdropEl;\n    const type = modal.type;\n    let animate = true;\n    if (typeof animateModal !== 'undefined') animate = animateModal;\n    else if (typeof modal.params.animate !== 'undefined') {\n      animate = modal.params.animate;\n    }\n\n    if (!$el || $el.hasClass('modal-in')) {\n      if (animateModal === false && $el[0] && type !== 'dialog') {\n        $el[0].style.display = 'block';\n      }\n      return modal;\n    }\n\n    if (type === 'dialog' && app.params.modal.queueDialogs) {\n      let pushToQueue;\n      if ($('.dialog.modal-in').length > 0) {\n        pushToQueue = true;\n      } else if (openedModals.length > 0) {\n        openedModals.forEach((openedModal) => {\n          if (openedModal.type === 'dialog') pushToQueue = true;\n        });\n      }\n      if (pushToQueue) {\n        dialogsQueue.push(modal);\n        return modal;\n      }\n    }\n\n    const $modalParentEl = $el.parent();\n    const wasInDom = $el.parents(document).length > 0;\n    if (!$modalParentEl.is(modal.$containerEl)) {\n      modal.$containerEl.append($el);\n      modal.once(`${type}Closed`, () => {\n        if (wasInDom) {\n          $modalParentEl.append($el);\n        } else {\n          $el.remove();\n        }\n      });\n    }\n    // Show Modal\n    $el.show();\n\n    if (\n      modal.params.backdrop &&\n      (modal.params.backdropUnique || modal.forceBackdropUnique) &&\n      modal.$backdropEl\n    ) {\n      modal.$backdropEl.insertBefore($el);\n    }\n\n    /* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_clientLeft\"] }] */\n    modal._clientLeft = $el[0].clientLeft;\n\n    // Modal\n    function transitionEnd() {\n      if ($el.hasClass('modal-out')) {\n        modal.onClosed();\n      } else if ($el.hasClass('modal-in')) {\n        modal.onOpened();\n      }\n    }\n    if (animate) {\n      if ($backdropEl) {\n        $backdropEl.removeClass('not-animated');\n        $backdropEl.addClass('backdrop-in');\n      }\n      $el.animationEnd(() => {\n        transitionEnd();\n      });\n      $el.transitionEnd(() => {\n        transitionEnd();\n      });\n      $el.removeClass('modal-out not-animated').addClass('modal-in');\n      modal.onOpen();\n    } else {\n      if ($backdropEl) {\n        $backdropEl.addClass('backdrop-in not-animated');\n      }\n      $el.removeClass('modal-out').addClass('modal-in not-animated');\n      modal.onOpen();\n      modal.onOpened();\n    }\n\n    return modal;\n  }\n\n  close(animateModal) {\n    const modal = this;\n    const $el = modal.$el;\n    const $backdropEl = modal.$backdropEl;\n\n    let animate = true;\n    if (typeof animateModal !== 'undefined') animate = animateModal;\n    else if (typeof modal.params.animate !== 'undefined') {\n      animate = modal.params.animate;\n    }\n\n    if (!$el || !$el.hasClass('modal-in')) {\n      if (dialogsQueue.indexOf(modal) >= 0) {\n        dialogsQueue.splice(dialogsQueue.indexOf(modal), 1);\n      }\n      return modal;\n    }\n\n    // backdrop\n    if ($backdropEl) {\n      let needToHideBackdrop = true;\n      if (modal.type === 'popup') {\n        modal.$el\n          .prevAll('.popup.modal-in')\n          .add(modal.$el.nextAll('.popup.modal-in'))\n          .each((popupEl) => {\n            const popupInstance = popupEl.t4Modal;\n            if (!popupInstance) return;\n            if (\n              popupInstance.params.closeByBackdropClick &&\n              popupInstance.params.backdrop &&\n              popupInstance.backdropEl === modal.backdropEl\n            ) {\n              needToHideBackdrop = false;\n            }\n          });\n      }\n      if (needToHideBackdrop) {\n        $backdropEl[animate ? 'removeClass' : 'addClass']('not-animated');\n        $backdropEl.removeClass('backdrop-in');\n      }\n    }\n\n    // Modal\n    $el[animate ? 'removeClass' : 'addClass']('not-animated');\n\n    function transitionEnd() {\n      if ($el.hasClass('modal-out')) {\n        modal.onClosed();\n      } else if ($el.hasClass('modal-in')) {\n        modal.onOpened();\n      }\n    }\n    if (animate) {\n      $el.animationEnd(() => {\n        transitionEnd();\n      });\n      $el.transitionEnd(() => {\n        transitionEnd();\n      });\n      $el.removeClass('modal-in').addClass('modal-out');\n      // Emit close\n      modal.onClose();\n    } else {\n      $el.addClass('not-animated').removeClass('modal-in').addClass('modal-out');\n      // Emit close\n      modal.onClose();\n      modal.onClosed();\n    }\n\n    if (modal.type === 'dialog') {\n      clearDialogsQueue();\n    }\n\n    return modal;\n  }\n\n  destroy() {\n    const modal = this;\n    if (modal.destroyed) return;\n    modal.emit(`local::beforeDestroy modalBeforeDestroy ${modal.type}BeforeDestroy`, modal);\n    if (modal.$el) {\n      modal.$el.trigger(`modal:beforedestroy ${modal.type.toLowerCase()}:beforedestroy`);\n      if (modal.$el.length && modal.$el[0].t4Modal) {\n        delete modal.$el[0].t4Modal;\n      }\n    }\n    deleteProps(modal);\n    modal.destroyed = true;\n  }\n}\n\nexport default Modal;\n","import $ from '../../shared/dom64.js';\nimport { extend } from '../../shared/utils.js';\nimport Modal from './modal-class.js';\n\nclass CustomModal extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend(\n      {\n        backdrop: true,\n        closeByBackdropClick: true,\n        on: {},\n      },\n      params,\n    );\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n\n    const customModal = this;\n\n    customModal.params = extendedParams;\n\n    // Find Element\n    let $el;\n    if (!customModal.params.el) {\n      $el = $(customModal.params.content);\n    } else {\n      $el = $(customModal.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].t4Modal) {\n      return $el[0].t4Modal;\n    }\n\n    if ($el.length === 0) {\n      return customModal.destroy();\n    }\n    let $backdropEl;\n    if (customModal.params.backdrop) {\n      $backdropEl = app.$el.children('.custom-modal-backdrop');\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"custom-modal-backdrop\"></div>');\n        app.$el.append($backdropEl);\n      }\n    }\n\n    function handleClick(e) {\n      if (!customModal || customModal.destroyed) return;\n      if ($backdropEl && e.target === $backdropEl[0]) {\n        customModal.close();\n      }\n    }\n\n    customModal.on('customModalOpened', () => {\n      if (customModal.params.closeByBackdropClick && customModal.params.backdrop) {\n        app.on('click', handleClick);\n      }\n    });\n    customModal.on('customModalClose', () => {\n      if (customModal.params.closeByBackdropClick && customModal.params.backdrop) {\n        app.off('click', handleClick);\n      }\n    });\n\n    extend(customModal, {\n      app,\n      $el,\n      el: $el[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'customModal',\n    });\n\n    $el[0].t4Modal = customModal;\n\n    return customModal;\n  }\n}\nexport default CustomModal;\n","import Modal from './modal-class.js';\nimport CustomModal from './custom-modal-class.js';\n\nexport default {\n  name: 'modal',\n  static: {\n    Modal,\n    CustomModal,\n  },\n  create() {\n    const app = this;\n    app.customModal = {\n      create(params) {\n        return new CustomModal(app, params);\n      },\n    };\n  },\n  params: {\n    modal: {\n      queueDialogs: true,\n    },\n  },\n};\n","import $ from './shared/dom64.js';\n\nimport techno4 from './components/app/app-class.js';\n\n//IMPORT_HELPERS\n\nimport DeviceModule from './modules/device/device.js';\nimport SupportModule from './modules/support/support.js';\nimport UtilsModule from './modules/utils/utils.js';\nimport ResizeModule from './modules/resize/resize.js';\nimport RequestModule from './modules/request/request.js';\nimport TouchModule from './modules/touch/touch.js';\nimport ClicksModule from './modules/clicks/clicks.js';\nimport RouterModule from './modules/router/router.js';\nimport RouterComponentLoaderModule from './modules/router/component-loader.js';\nimport ComponentModule, { Component, $jsx } from './modules/component/component.js';\nimport HistoryModule from './modules/history/history.js';\nimport ServiceWorkerModule from './modules/service-worker/service-worker.js';\nimport StoreModule, { createStore } from './modules/store/store.js';\n\nimport Statusbar from './components/statusbar/statusbar.js';\nimport View from './components/view/view.js';\nimport Navbar from './components/navbar/navbar.js';\nimport Toolbar from './components/toolbar/toolbar.js';\nimport Subnavbar from './components/subnavbar/subnavbar.js';\nimport TouchRipple from './components/touch-ripple/touch-ripple.js';\nimport Modal from './components/modal/modal.js';\nimport Router from './modules/router/router-class.js';\n\n//IMPORT_COMPONENTS\n\n// UMD_ONLY_START\nif (typeof window !== 'undefined') {\n  // Dom64\n  if (!window.Dom64) window.Dom64 = $;\n}\n// UMD_ONLY_END\n\nRouter.use([RouterComponentLoaderModule]);\n\ntechno4.use([\n  DeviceModule,\n  SupportModule,\n  UtilsModule,\n  ResizeModule,\n  RequestModule,\n  TouchModule,\n  ClicksModule,\n  RouterModule,\n  HistoryModule,\n  ComponentModule,\n  ServiceWorkerModule,\n  StoreModule,\n  Statusbar,\n  View,\n  Navbar,\n  Toolbar,\n  Subnavbar,\n  TouchRipple,\n  Modal,\n  //INSTALL_COMPONENTS\n]);\n\n//NAMED_EXPORT\nexport default techno4;\n"],"mappings":";;;;;;;;;;;;wOAYA,SAASA,EAASC,GACd,OAAgB,OAARA,GACW,iBAARA,GACP,gBAAiBA,GACjBA,EAAIC,cAAgBC,MAC5B,CACA,SAASC,EAAOC,EAAaC,QAAP,IAAND,MAAS,SAAO,IAAHC,MAAM,IAC/BH,OAAOI,KAAKD,GAAKE,SAASC,SACK,IAAhBJ,EAAOI,GACdJ,EAAOI,GAAOH,EAAIG,GACbT,EAASM,EAAIG,KAClBT,EAASK,EAAOI,KAChBN,OAAOI,KAAKD,EAAIG,IAAMC,OAAS,GAC/BN,EAAOC,EAAOI,GAAMH,EAAIG,GAC5B,GAER,CAEA,MAAME,EAAc,CAChBC,KAAM,GACNC,mBAAmB,EACnBC,sBAAsB,EACtBC,cAAe,CACXC,OAAO,EACPC,SAAU,IAEdC,cAAaA,IACF,KAEXC,iBAAgBA,IACL,GAEXC,eAAcA,IACH,KAEXC,YAAWA,KACA,CACHC,YAAY,IAGpBC,cAAaA,KACF,CACHC,SAAU,GACVC,WAAY,GACZC,MAAO,GACPC,eAAe,EACfC,qBAAoBA,IACT,KAInBC,gBAAeA,KACJ,IAEXC,WAAUA,IACC,KAEXC,SAAU,CACNC,KAAM,GACNC,KAAM,GACNC,SAAU,GACVC,KAAM,GACNC,OAAQ,GACRC,SAAU,GACVC,SAAU,GACVC,OAAQ,KAGhB,SAASC,IACL,MAAMC,EAA0B,oBAAbC,SAA2BA,SAAW,GAEzD,OADAtC,EAAOqC,EAAK9B,GACL8B,CACX,CAEA,MAAME,EAAY,CACdD,SAAU/B,EACViC,UAAW,CACPC,UAAW,IAEfd,SAAU,CACNC,KAAM,GACNC,KAAM,GACNC,SAAU,GACVC,KAAM,GACNC,OAAQ,GACRC,SAAU,GACVC,SAAU,GACVC,OAAQ,IAEZO,QAAS,CACLC,eAAe,EACfC,YAAY,EACZC,KAAK,EACLC,OAAO,GAEXC,YAAa,WACT,OAAOC,I,EAEXvC,mBAAmB,EACnBC,sBAAsB,EACtBuC,iBAAgBA,KACL,CACHC,iBAAgBA,IACL,KAInBC,QAAQ,EACRC,OAAO,EACPC,OAAQ,GACRC,aAAa,EACbC,eAAe,EACfC,WAAUA,KACC,IAEXC,sBAAsBC,GACQ,oBAAfJ,YACPI,IACO,MAEJJ,WAAWI,EAAU,GAEhCC,qBAAqBC,GACS,oBAAfN,YAGXC,aAAaK,EACjB,GAEJ,SAASC,IACL,MAAMC,EAAwB,oBAAXC,OAAyBA,OAAS,GAErD,OADA/D,EAAO8D,EAAKvB,GACLuB,CACX,CCrHA,MAAME,UAAcC,MAClBnE,YAAYoE,GACW,iBAAVA,EACTC,MAAMD,IAENC,SAAUD,GAAS,IAnBzB,SAAsBrE,GACpB,MAAMuE,EAAQvE,EAAIwE,UAClBtE,OAAOuE,eAAezE,EAAK,YAAa,CACtC0E,IAAGA,IACMH,EAGTI,IAAIC,GACFL,EAAMC,UAAYI,CACpB,GAGJ,CAQMC,CAAa1B,MAEjB,EAIF,SAAS2B,EAAUC,QAAG,IAAHA,MAAM,IACvB,MAAMC,EAAM,GAQZ,OAPAD,EAAIxE,SAAQ0E,IACNb,MAAMc,QAAQD,GAChBD,EAAIG,QAAQL,EAAUG,IAEtBD,EAAIG,KAAKF,EACX,IAEKD,CACT,CACA,SAASI,EAAYL,EAAKlB,GACxB,OAAOO,MAAMiB,UAAUC,OAAOC,KAAKR,EAAKlB,EAC1C,CA+BA,SAAS2B,EAAEC,EAAUC,GACnB,MAAMxB,EAASF,IACTvB,EAAWF,IACjB,IAAIwC,EAAM,GAEV,IAAKW,GAAWD,aAAoBtB,EAClC,OAAOsB,EAGT,IAAKA,EACH,OAAO,IAAItB,EAAMY,GAGnB,GAAwB,iBAAbU,EAAuB,CAChC,MAAME,EAAOF,EAASG,OAEtB,GAAID,EAAKE,QAAQ,MAAQ,GAAKF,EAAKE,QAAQ,MAAQ,EAAG,CACpD,IAAIC,EAAW,MACa,IAAxBH,EAAKE,QAAQ,SAAcC,EAAW,MACd,IAAxBH,EAAKE,QAAQ,SAAcC,EAAW,SACd,IAAxBH,EAAKE,QAAQ,QAAwC,IAAxBF,EAAKE,QAAQ,SAAcC,EAAW,MACxC,IAA3BH,EAAKE,QAAQ,YAAiBC,EAAW,SACb,IAA5BH,EAAKE,QAAQ,aAAkBC,EAAW,UAC9C,MAAMC,EAAatD,EAASnB,cAAcwE,GAC1CC,EAAWC,UAAYL,EAEvB,IAAK,IAAIM,EAAI,EAAGA,EAAIF,EAAWvE,WAAWf,OAAQwF,GAAK,EACrDlB,EAAII,KAAKY,EAAWvE,WAAWyE,GAEnC,MACElB,EA7CN,SAAaU,EAAUC,GACrB,GAAwB,iBAAbD,EACT,MAAO,CAACA,GAGV,MAAMS,EAAI,GACJlB,EAAMU,EAAQxE,iBAAiBuE,GAErC,IAAK,IAAIQ,EAAI,EAAGA,EAAIjB,EAAIvE,OAAQwF,GAAK,EACnCC,EAAEf,KAAKH,EAAIiB,IAGb,OAAOC,CACT,CAgCYC,CAAIV,EAASG,OAAQF,GAAWjD,EAG1C,MAAO,GAAIgD,EAASW,UAAYX,IAAavB,GAAUuB,IAAahD,EAClEsC,EAAII,KAAKM,QACJ,GAAIrB,MAAMc,QAAQO,GAAW,CAClC,GAAIA,aAAoBtB,EAAO,OAAOsB,EACtCV,EAAMU,CACR,CAEA,OAAO,IAAItB,EAtEb,SAAqBY,GACnB,MAAMsB,EAAc,GAEpB,IAAK,IAAIJ,EAAI,EAAGA,EAAIlB,EAAItE,OAAQwF,GAAK,GACE,IAAjCI,EAAYR,QAAQd,EAAIkB,KAAYI,EAAYlB,KAAKJ,EAAIkB,IAG/D,OAAOI,CACT,CA8DmBC,CAAYvB,GAC/B,CAEAS,EAAEe,GAAKpC,EAAMkB,UA4yCb,MAAMmB,EAAY,gBAAgBC,MAAM,KAExC,SAASC,EAASC,GAiBhB,OAhBA,WAA+B,QAAAC,EAAAC,UAAApG,OAANqG,EAAI1C,UAAAwC,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAJD,EAAIC,GAAAF,UAAAE,GAC3B,QAAuB,IAAZD,EAAK,GAAoB,CAClC,IAAK,IAAIb,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAChCO,EAAUX,QAAQc,GAAQ,IACxBA,KAAQxD,KAAK8C,GAAI9C,KAAK8C,GAAGU,KAC3BnB,EAAErC,KAAK8C,IAAIe,QAAQL,IAKzB,OAAOxD,IACT,CAEA,OAAOA,KAAK8D,GAAGN,KAASG,EAC1B,CAGF,CAEA,MAAMI,EAAQR,EAAS,SACjB3F,EAAO2F,EAAS,QAChBS,EAAQT,EAAS,SACjBU,EAAUV,EAAS,WACnBW,EAAWX,EAAS,YACpBY,EAAQZ,EAAS,SACjBa,EAAUb,EAAS,WACnBc,EAAWd,EAAS,YACpBe,EAASf,EAAS,UAClBgB,EAAShB,EAAS,UAClBiB,EAAYjB,EAAS,aACrBkB,EAAYlB,EAAS,aACrBmB,EAAUnB,EAAS,WACnBoB,EAAapB,EAAS,cACtBqB,EAAarB,EAAS,cACtBsB,EAAWtB,EAAS,YACpBuB,EAAYvB,EAAS,aACrBwB,EAAaxB,EAAS,cACtByB,EAAWzB,EAAS,YACpB0B,EAAY1B,EAAS,aACrB2B,EAAS3B,EAAS,UAClB4B,EAAS5B,EAAS,U,sDAzaxB,WACE,MAAM6B,EAAMpF,KACZ,IAAI8C,EACAuC,EAAE,QAAAC,EAAA5B,UAAApG,OAHQiI,EAAGtE,UAAAqE,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAHD,EAAGC,GAAA9B,UAAA8B,GAKjB,IAAK1C,EAAI,EAAGA,EAAIyC,EAAIjI,OAAQwF,GAAK,EAAG,CAClC,MAAM2C,EAAQpD,EAAEkD,EAAIzC,IAEpB,IAAKuC,EAAI,EAAGA,EAAII,EAAMnI,OAAQ+H,GAAK,EACjCD,EAAIpD,KAAKyD,EAAMJ,GAEnB,CAEA,OAAOD,CACT,E,SAx7BA,WAA8B,QAAAM,EAAAhC,UAAApG,OAATqI,EAAO1E,UAAAyE,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAPD,EAAOC,GAAAlC,UAAAkC,GAC1B,MAAMC,EAAalE,EAAUgE,EAAQG,KAAIC,GAAKA,EAAEzC,MAAM,QAItD,OAHAtD,KAAK5C,SAAQ0E,IACXA,EAAGkE,UAAUC,OAAOJ,EAAW,IAE1B7F,IACT,E,QAulCA,SAAiBkG,EAAcC,GAC7B,MAAMpF,EAASF,IACT0E,EAAMvF,KACN+C,EAAI,CACRqD,MAAOrJ,OAAOsJ,OAAO,GAAIH,GACzBI,OAAQvJ,OAAOsJ,OAAO,CACpBE,SAAU,IACVC,OAAQ,SAQPL,GACHM,SAAUlB,EACVmB,WAAW,EACXC,IAAK,GAELC,eAAcA,CAACJ,EAAQK,IACN,UAAXL,EACK,GAAMM,KAAKC,IAAIF,EAAWC,KAAKE,IAAM,EAGxB,mBAAXR,EACFA,EAAOK,GAGTA,EAGTI,OACMlE,EAAEmE,SACJnG,EAAOJ,qBAAqBoC,EAAEmE,SAGhCnE,EAAE2D,WAAY,EACd3D,EAAE0D,SAASU,MAAKrF,WACEA,EACDsF,oBAAoB,IAErCrE,EAAE4D,IAAM,E,EAGVU,KAAKC,GAQH,GAPAvE,EAAE2D,WAAY,EACd3D,EAAE0D,SAASU,MAAKrF,WACEA,EACDsF,oBAAoB,IAEjCE,GAAUA,EAAS/B,GAEnBxC,EAAE4D,IAAIrJ,OAAS,EAAG,CACpB,MAAMqJ,EAAM5D,EAAE4D,IAAIY,QAClBxE,EAAEyE,QAAQb,EAAI,GAAIA,EAAI,GACxB,C,EAGFa,QAAQpB,EAAOE,GACb,GAAIvD,EAAE2D,UAEJ,OADA3D,EAAE4D,IAAI3E,KAAK,CAACoE,EAAOE,IACZvD,EAGT,MAAM0D,EAAW,GAEjB1D,EAAE0D,SAASU,MAAK,CAACrF,EAAI2F,KACnB,IAAIC,EACAC,EACAC,EACAC,EACAC,EACChG,EAAGsF,uBAAsBrE,EAAE0D,SAASgB,GAAOL,qBAAuBrE,GACvE0D,EAASgB,GAAS,CAChBM,UAAWjG,GAEb/E,OAAOI,KAAKiJ,GAAOhJ,SAAQ4K,IACzBN,EAAmB3G,EAAOd,iBAAiB6B,EAAI,MAAM5B,iBAAiB8H,GAAMC,QAAQ,IAAK,KACzFN,EAAeO,WAAWR,GAC1BE,EAAOF,EAAiBO,QAAQN,EAAc,IAC9CE,EAAaK,WAAW9B,EAAM4B,IAC9BF,EAAiB1B,EAAM4B,GAAQJ,EAC/BnB,EAASgB,GAAOO,GAAQ,CACtBN,mBACAC,eACAC,OACAC,aACAC,iBACAK,aAAcR,EACf,GACD,IAEJ,IACIS,EAGAf,EAJAgB,EAAY,KAEZC,EAAe,EACfC,EAAY,EAEZC,GAAQ,EAiEZ,OAhEAzF,EAAE2D,WAAY,EA+Dd3D,EAAEmE,QAAUnG,EAAON,uBA7DnB,SAASgI,IAEP,IAAI5B,EACA6B,EAFJN,GAAO,IAAIhI,MAAOuI,UAIbH,IACHA,GAAQ,EACJlC,EAAOsC,OAAOtC,EAAOsC,MAAMrD,IAGf,OAAd8C,IACFA,EAAYD,GAGV9B,EAAOO,UAETP,EAAOO,SAAStB,EAAKuB,KAAK+B,IAAI/B,KAAKgC,KAAKV,EAAOC,GAAa/B,EAAOC,SAAU,GAAI,GAAI8B,EAAY/B,EAAOC,SAAW6B,EAAO,EAAI,EAAIC,EAAY/B,EAAOC,SAAW6B,EAAMC,GAGxK5B,EAASrJ,SAAQ2L,IACf,MAAMjH,EAAKiH,EACP1B,GAAQvF,EAAGuF,MACftK,OAAOI,KAAKiJ,GAAOhJ,SAAQ4K,IACzB,GAAIX,GAAQvF,EAAGuF,KAAM,OACrBR,EAAWC,KAAK+B,IAAI/B,KAAKgC,KAAKV,EAAOC,GAAa/B,EAAOC,SAAU,GAAI,GACvEmC,EAAe3F,EAAE6D,eAAeN,EAAOE,OAAQK,GAC/C,MAAMc,aACJA,EAAYE,WACZA,EAAUD,KACVA,GACE9F,EAAGkG,GACPlG,EAAGkG,GAAMG,aAAeR,EAAee,GAAgBb,EAAaF,GACpE,MAAMQ,EAAerG,EAAGkG,GAAMG,cAE1BN,EAAaF,GAAgBQ,GAAgBN,GAAcA,EAAaF,GAAgBQ,GAAgBN,KAC1G/F,EAAGiG,UAAUzJ,MAAM0J,GAAQH,EAAaD,EACxCW,GAAa,EAETA,IAAcxL,OAAOI,KAAKiJ,GAAO9I,SACnCwE,EAAGuF,MAAO,EACViB,GAAgB,GAGdA,IAAiB7B,EAASnJ,SAC5B+J,GAAO,IAIPA,EACFtE,EAAEsE,KAAKf,EAAOgB,UAIhBxF,EAAGiG,UAAUzJ,MAAM0J,GAAQG,EAAeP,CAAI,GAC9C,IAEAP,IAEJtE,EAAEmE,QAAUnG,EAAON,sBAAsBgI,GAC3C,IAGO1F,CACT,GAIF,GAA0B,IAAtBA,EAAE0D,SAASnJ,OACb,OAAOiI,EAGT,IAAIyD,EAEJ,IAAK,IAAIlG,EAAI,EAAGA,EAAIC,EAAE0D,SAASnJ,OAAQwF,GAAK,EACtCC,EAAE0D,SAAS3D,GAAGsE,qBAChB4B,EAAkBjG,EAAE0D,SAAS3D,GAAGsE,qBAC3BrE,EAAE0D,SAAS3D,GAAGsE,qBAAuBrE,EAa9C,OAVKiG,IACHA,EAAkBjG,GAGC,SAAjBmD,EACF8C,EAAgB/B,OAEhB+B,EAAgBxB,QAAQzE,EAAEqD,MAAOrD,EAAEuD,QAG9Bf,CACT,E,aAj4BA,SAAsB7E,GACpB,MAAM0E,EAAMpF,KAYZ,OAJIU,GACF0E,EAAItB,GAAG,gBAPT,SAASmF,EAAaC,GAChBA,EAAEjM,SAAW+C,OACjBU,EAAS0B,KAAKpC,KAAMkJ,GACpB9D,EAAI+D,IAAI,eAAgBF,GAC1B,IAMOjJ,IACT,E,OA8PA,WACE,IAAIoJ,EACJ,MAAM9J,EAAWF,IAEjB,IAAK,IAAIiK,EAAI,EAAGA,EAAI3F,UAAIpG,OAAQ+L,GAAK,EAAG,CACtCD,EAAeC,EAAC3F,aAAApG,QAAD+L,OAACC,EAAA5F,UAAD2F,GAEf,IAAK,IAAIvG,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACpC,GAAwB,iBAAbsG,EAAuB,CAChC,MAAMG,EAAUjK,EAASnB,cAAc,OAGvC,IAFAoL,EAAQ1G,UAAYuG,EAEbG,EAAQC,YACbxJ,KAAK8C,GAAG2G,YAAYF,EAAQC,WAEhC,MAAO,GAAIJ,aAAoBpI,EAC7B,IAAK,IAAIqE,EAAI,EAAGA,EAAI+D,EAAS9L,OAAQ+H,GAAK,EACxCrF,KAAK8C,GAAG2G,YAAYL,EAAS/D,SAG/BrF,KAAK8C,GAAG2G,YAAYL,EAG1B,CAEA,OAAOpJ,IACT,E,SAEA,SAAkB0J,GAEhB,OADArH,EAAEqH,GAAQC,OAAO3J,MACVA,IACT,E,KAtqBA,SAAc4J,EAAOnI,GACnB,GAAyB,IAArBiC,UAAUpG,QAAiC,iBAAVsM,EAEnC,OAAI5J,KAAK,GAAWA,KAAK,GAAG6J,aAAaD,QACzC,EAIF,IAAK,IAAI9G,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACpC,GAAyB,IAArBY,UAAUpG,OAEZ0C,KAAK8C,GAAGvE,aAAaqL,EAAOnI,QAG5B,IAAK,MAAMqI,KAAYF,EACrB5J,KAAK8C,GAAGgH,GAAYF,EAAME,GAC1B9J,KAAK8C,GAAGvE,aAAauL,EAAUF,EAAME,IAK3C,OAAO9J,IACT,E,yBAw1BA,SAAkBsC,GAChB,MAAMlE,EAAW,GAEjB,IAAK,IAAI0E,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAAG,CACvC,MAAMzE,EAAa2B,KAAK8C,GAAG1E,SAE3B,IAAK,IAAIiH,EAAI,EAAGA,EAAIhH,EAAWf,OAAQ+H,GAAK,EACrC/C,IAAYD,EAAEhE,EAAWgH,IAAI0E,GAAGzH,IACnClE,EAAS4D,KAAK3D,EAAWgH,GAG/B,CAEA,OAAOhD,EAAEjE,EACX,E,gBA1CA,SAAiBkE,GACf,IAAI0H,EAAUhK,KAEd,YAAwB,IAAbsC,EACFD,EAAE,KAGN2H,EAAQD,GAAGzH,KACd0H,EAAUA,EAAQC,QAAQ3H,GAAU4H,GAAG,IAGlCF,EACT,E,IAxWA,SAAa5D,EAAO3E,GAClB,MAAMV,EAASF,IACf,IAAIiC,EAEJ,GAAyB,IAArBY,UAAUpG,OAAc,CAC1B,GAAqB,iBAAV8I,EAGJ,CAEL,IAAKtD,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAChC,IAAK,MAAMkF,KAAQ5B,EACjBpG,KAAK8C,GAAGxE,MAAM0J,GAAQ5B,EAAM4B,GAIhC,OAAOhI,IACT,CAVE,GAAIA,KAAK,GAAI,OAAOe,EAAOd,iBAAiBD,KAAK,GAAI,MAAME,iBAAiBkG,EAWhF,CAEA,GAAyB,IAArB1C,UAAUpG,QAAiC,iBAAV8I,EAAoB,CAEvD,IAAKtD,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAChC9C,KAAK8C,GAAGxE,MAAM8H,GAAS3E,EAGzB,OAAOzB,IACT,CAEA,OAAOA,IACT,E,KA5dA,SAAc3C,EAAKoE,GACjB,IAAIK,EAEJ,QAAqB,IAAVL,EAAuB,CAEhC,GADAK,EAAK9B,KAAK,IACL8B,EAAI,OAET,GAAIA,EAAGqI,yBAA2B9M,KAAOyE,EAAGqI,wBAC1C,OAAOrI,EAAGqI,wBAAwB9M,GAGpC,MAAM+M,EAAUtI,EAAG+H,aAAc,QAAOxM,KAExC,OAAI+M,QAIJ,CACF,CAGA,IAAK,IAAItH,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACpChB,EAAK9B,KAAK8C,GACLhB,EAAGqI,0BAAyBrI,EAAGqI,wBAA0B,IAC9DrI,EAAGqI,wBAAwB9M,GAAOoE,EAGpC,OAAOzB,IACT,E,QAaA,WACE,MAAM8B,EAAK9B,KAAK,GAChB,IAAK8B,EAAI,OACT,MAAMuI,EAAU,GAEhB,GAAIvI,EAAGuI,QACL,IAAK,MAAMD,KAAWtI,EAAGuI,QACvBA,EAAQD,GAAWtI,EAAGuI,QAAQD,QAGhC,IAAK,IAAItH,EAAI,EAAGA,EAAIhB,EAAGwI,WAAWhN,OAAQwF,GAAK,EAAG,CAChD,MAAMyH,EAAOzI,EAAGwI,WAAWxH,GAEvByH,EAAK/G,KAAKd,QAAQ,UAAY,IAChC2H,GAnNaG,EAmNOD,EAAK/G,KAAKF,MAAM,SAAS,GAlN5CkH,EAAOC,cAAcxC,QAAQ,SAAS,CAACyC,EAAOC,IAAUA,EAAMC,kBAkNXL,EAAK9I,MAE7D,CArNJ,IAAqB+I,EAwNnB,IAAK,MAAMnN,KAAOgN,EACK,UAAjBA,EAAQhN,GAAkBgN,EAAQhN,IAAO,EAAgC,SAAjBgN,EAAQhN,GAAiBgN,EAAQhN,IAAO,EAAc6K,WAAWmC,EAAQhN,MAAyB,EAAfgN,EAAQhN,KAAUgN,EAAQhN,IAAQ,GAGnL,OAAOgN,CACT,E,OA6wBA,WACE,OAAOrK,KAAK6K,QACd,E,KAlXA,SAAcnK,GACZ,OAAKA,GACLV,KAAK5C,SAAQ,CAAC0E,EAAI2F,KAChB/G,EAASoK,MAAMhJ,EAAI,CAACA,EAAI2F,GAAO,IAE1BzH,MAJeA,IAKxB,E,MA8XA,WACE,IAAK,IAAI8C,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAAG,CACvC,MAAMhB,EAAK9B,KAAK8C,GAEhB,GAAoB,IAAhBhB,EAAGmB,SAAgB,CACrB,IAAK,IAAIoC,EAAI,EAAGA,EAAIvD,EAAGzD,WAAWf,OAAQ+H,GAAK,EACzCvD,EAAGzD,WAAWgH,GAAG0F,YACnBjJ,EAAGzD,WAAWgH,GAAG0F,WAAWC,YAAYlJ,EAAGzD,WAAWgH,IAI1DvD,EAAGmJ,YAAc,EACnB,CACF,CAEA,OAAOjL,IACT,E,GApTA,SAAYyH,GACV,QAAqB,IAAVA,EAAuB,OAAOzH,KACzC,MAAM1C,EAAS0C,KAAK1C,OAEpB,GAAImK,EAAQnK,EAAS,EACnB,OAAO+E,EAAE,IAGX,GAAIoF,EAAQ,EAAG,CACb,MAAMyD,EAAc5N,EAASmK,EAC7B,OAA4BpF,EAAxB6I,EAAc,EAAY,GACrB,CAAClL,KAAKkL,IACjB,CAEA,OAAO7I,EAAE,CAACrC,KAAKyH,IACjB,E,OAvGA,SAAgB/G,GAEd,OAAO2B,EADQJ,EAAYjC,KAAMU,GAEnC,E,KA+TA,SAAc4B,GACZ,MAAM6I,EAAgB,GAEtB,IAAK,IAAIrI,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAAG,CACvC,MAAMsI,EAAQpL,KAAK8C,GAAG/E,iBAAiBuE,GAEvC,IAAK,IAAI+C,EAAI,EAAGA,EAAI+F,EAAM9N,OAAQ+H,GAAK,EACrC8F,EAAcnJ,KAAKoJ,EAAM/F,GAE7B,CAEA,OAAOhD,EAAE8I,EACX,E,sCAn3BA,WAA8B,QAAAE,EAAA3H,UAAApG,OAATqI,EAAO1E,UAAAoK,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAP3F,EAAO2F,GAAA5H,UAAA4H,GAC1B,MAAMzF,EAAalE,EAAUgE,EAAQG,KAAIC,GAAKA,EAAEzC,MAAM,QACtD,OAAOrB,EAAYjC,MAAM8B,GAChB+D,EAAW1D,QAAOoJ,GAAazJ,EAAGkE,UAAUwF,SAASD,KAAYjO,OAAS,IAChFA,OAAS,CACd,E,OAwaA,WACE,MAAMyD,EAASF,IAEf,OAAIb,KAAK,KAAOe,EACPA,EAAO0K,YAGZzL,KAAK1C,OAAS,EACT4K,WAAWlI,KAAK0L,IAAI,WAGtB,IACT,E,KAmCA,WACE,IAAK,IAAI5I,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACpC9C,KAAK8C,GAAGxE,MAAMqN,QAAU,OAG1B,OAAO3L,IACT,E,KAwEA,SAAcwC,GACZ,QAAoB,IAATA,EACT,OAAOxC,KAAK,GAAKA,KAAK,GAAG6C,UAAY,KAGvC,IAAK,IAAIC,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACpC9C,KAAK8C,GAAGD,UAAYL,EAGtB,OAAOxC,IACT,E,MAwDA,WACE,IACI8C,EADA8I,EAAQ5L,KAAK,GAGjB,GAAI4L,EAAO,CAGT,IAFA9I,EAAI,EAEuC,QAAnC8I,EAAQA,EAAMC,kBACG,IAAnBD,EAAM3I,WAAgBH,GAAK,GAGjC,OAAOA,CACT,CAGF,E,YAgGA,SAAqBR,GACnB,MAAMwJ,EAAQzJ,EAAEC,GAEhB,IAAK,IAAIQ,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACpC,GAAqB,IAAjBgJ,EAAMxO,OACRwO,EAAM,GAAGf,WAAWgB,aAAa/L,KAAK8C,GAAIgJ,EAAM,GAAGE,kBAC9C,GAAIF,EAAMxO,OAAS,EACxB,IAAK,IAAI+H,EAAI,EAAGA,EAAIyG,EAAMxO,OAAQ+H,GAAK,EACrCyG,EAAMzG,GAAG0F,WAAWgB,aAAa/L,KAAK8C,GAAGmJ,WAAU,GAAOH,EAAMzG,GAAG2G,YAI3E,E,aA1BA,SAAsB1J,GACpB,MAAM4J,EAAS7J,EAAEC,GAEjB,IAAK,IAAIQ,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACpC,GAAsB,IAAlBoJ,EAAO5O,OACT4O,EAAO,GAAGnB,WAAWgB,aAAa/L,KAAK8C,GAAIoJ,EAAO,SAC7C,GAAIA,EAAO5O,OAAS,EACzB,IAAK,IAAI+H,EAAI,EAAGA,EAAI6G,EAAO5O,OAAQ+H,GAAK,EACtC6G,EAAO7G,GAAG0F,WAAWgB,aAAa/L,KAAK8C,GAAGmJ,WAAU,GAAOC,EAAO7G,GAI1E,E,GAvJA,SAAY/C,GACV,MAAMvB,EAASF,IACTvB,EAAWF,IACX0C,EAAK9B,KAAK,GAChB,IAAImM,EACArJ,EACJ,IAAKhB,QAA0B,IAAbQ,EAA0B,OAAO,EAEnD,GAAwB,iBAAbA,EAAuB,CAChC,GAAIR,EAAGsK,QAAS,OAAOtK,EAAGsK,QAAQ9J,GAClC,GAAIR,EAAGuK,sBAAuB,OAAOvK,EAAGuK,sBAAsB/J,GAC9D,GAAIR,EAAGwK,kBAAmB,OAAOxK,EAAGwK,kBAAkBhK,GAGtD,IAFA6J,EAAc9J,EAAEC,GAEXQ,EAAI,EAAGA,EAAIqJ,EAAY7O,OAAQwF,GAAK,EACvC,GAAIqJ,EAAYrJ,KAAOhB,EAAI,OAAO,EAGpC,OAAO,CACT,CAEA,GAAIQ,IAAahD,EACf,OAAOwC,IAAOxC,EAGhB,GAAIgD,IAAavB,EACf,OAAOe,IAAOf,EAGhB,GAAIuB,EAASW,UAAYX,aAAoBtB,EAAO,CAGlD,IAFAmL,EAAc7J,EAASW,SAAW,CAACX,GAAYA,EAE1CQ,EAAI,EAAGA,EAAIqJ,EAAY7O,OAAQwF,GAAK,EACvC,GAAIqJ,EAAYrJ,KAAOhB,EAAI,OAAO,EAGpC,OAAO,CACT,CAEA,OAAO,CACT,E,qHA+HA,SAAcQ,GACZ,OAAItC,KAAK1C,OAAS,EACZgF,EACEtC,KAAK,GAAGuM,oBAAsBlK,EAAErC,KAAK,GAAGuM,oBAAoBxC,GAAGzH,GAC1DD,EAAE,CAACrC,KAAK,GAAGuM,qBAGblK,EAAE,IAGPrC,KAAK,GAAGuM,mBAA2BlK,EAAE,CAACrC,KAAK,GAAGuM,qBAC3ClK,EAAE,IAGJA,EAAE,GACX,E,QAEA,SAAiBC,GACf,MAAMkK,EAAU,GAChB,IAAI1K,EAAK9B,KAAK,GACd,IAAK8B,EAAI,OAAOO,EAAE,IAElB,KAAOP,EAAGyK,oBAAoB,CAC5B,MAAME,EAAO3K,EAAGyK,mBAEZjK,EACED,EAAEoK,GAAM1C,GAAGzH,IAAWkK,EAAQxK,KAAKyK,GAClCD,EAAQxK,KAAKyK,GAEpB3K,EAAK2K,CACP,CAEA,OAAOpK,EAAEmK,EACX,E,IAxgBA,WAAsB,QAAAE,EAAAhJ,UAAApG,OAANqG,EAAI1C,UAAAyL,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJhJ,EAAIgJ,GAAAjJ,UAAAiJ,GAClB,IAAKC,EAAWC,EAAgBC,EAAUC,GAAWpJ,EAE9B,mBAAZA,EAAK,MACbiJ,EAAWE,EAAUC,GAAWpJ,EACjCkJ,OAAiBvD,GAGdyD,IAASA,GAAU,GACxB,MAAMC,EAASJ,EAAUtJ,MAAM,KAE/B,IAAK,IAAIR,EAAI,EAAGA,EAAIkK,EAAO1P,OAAQwF,GAAK,EAAG,CACzC,MAAMmK,EAAQD,EAAOlK,GAErB,IAAK,IAAIuC,EAAI,EAAGA,EAAIrF,KAAK1C,OAAQ+H,GAAK,EAAG,CACvC,MAAMvD,EAAK9B,KAAKqF,GAChB,IAAI6H,EAQJ,IANKL,GAAkB/K,EAAGqL,eACxBD,EAAWpL,EAAGqL,eAAeF,GACpBJ,GAAkB/K,EAAGsL,qBAC9BF,EAAWpL,EAAGsL,mBAAmBH,IAG/BC,GAAYA,EAAS5P,OACvB,IAAK,IAAI+L,EAAI6D,EAAS5P,OAAS,EAAG+L,GAAK,EAAGA,GAAK,EAAG,CAChD,MAAMgE,EAAUH,EAAS7D,GAErByD,GAAYO,EAAQP,WAAaA,GAG1BA,GAAYO,EAAQP,UAAYO,EAAQP,SAASQ,YAAcD,EAAQP,SAASQ,aAAeR,GAFxGhL,EAAGpE,oBAAoBuP,EAAOI,EAAQE,cAAeR,GACrDG,EAASM,OAAOnE,EAAG,IAITyD,IACVhL,EAAGpE,oBAAoBuP,EAAOI,EAAQE,cAAeR,GACrDG,EAASM,OAAOnE,EAAG,GAEvB,CAEJ,CACF,CAEA,OAAOrJ,IACT,E,OA0JA,WACE,GAAIA,KAAK1C,OAAS,EAAG,CACnB,MAAMyD,EAASF,IACTvB,EAAWF,IACX0C,EAAK9B,KAAK,GACVyN,EAAM3L,EAAG4L,wBACTlQ,EAAO8B,EAAS9B,KAChBmQ,EAAY7L,EAAG6L,WAAanQ,EAAKmQ,WAAa,EAC9CC,EAAa9L,EAAG8L,YAAcpQ,EAAKoQ,YAAc,EACjDC,EAAY/L,IAAOf,EAASA,EAAO+M,QAAUhM,EAAG+L,UAChDE,EAAajM,IAAOf,EAASA,EAAOiN,QAAUlM,EAAGiM,WACvD,MAAO,CACLE,IAAKR,EAAIQ,IAAMJ,EAAYF,EAC3BO,KAAMT,EAAIS,KAAOH,EAAaH,EAElC,CAEA,OAAO,IACT,E,GAjSA,WAAqB,QAAAO,EAAAzK,UAAApG,OAANqG,EAAI1C,UAAAkN,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJzK,EAAIyK,GAAA1K,UAAA0K,GACjB,IAAKxB,EAAWC,EAAgBC,EAAUC,GAAWpJ,EASrD,SAAS0K,EAAgBnF,GACvB,MAAMjM,EAASiM,EAAEjM,OACjB,IAAKA,EAAQ,OACb,MAAMqR,EAAYpF,EAAEjM,OAAOsR,gBAAkB,GAM7C,GAJID,EAAU5L,QAAQwG,GAAK,GACzBoF,EAAUE,QAAQtF,GAGhB7G,EAAEpF,GAAQ8M,GAAG8C,GAAiBC,EAAShC,MAAM7N,EAAQqR,OAAgB,CACvE,MAAMrE,EAAU5H,EAAEpF,GAAQgN,UAE1B,IAAK,IAAIZ,EAAI,EAAGA,EAAIY,EAAQ3M,OAAQ+L,GAAK,EACnChH,EAAE4H,EAAQZ,IAAIU,GAAG8C,IAAiBC,EAAShC,MAAMb,EAAQZ,GAAIiF,EAErE,CACF,CAEA,SAASG,EAAYvF,GACnB,MAAMoF,EAAYpF,GAAKA,EAAEjM,QAASiM,EAAEjM,OAAOsR,gBAAuB,GAE9DD,EAAU5L,QAAQwG,GAAK,GACzBoF,EAAUE,QAAQtF,GAGpB4D,EAAShC,MAAM9K,KAAMsO,EACvB,CAjCuB,mBAAZ3K,EAAK,MACbiJ,EAAWE,EAAUC,GAAWpJ,EACjCkJ,OAAiBvD,GAGdyD,IAASA,GAAU,GA8BxB,MAAMC,EAASJ,EAAUtJ,MAAM,KAC/B,IAAI+B,EAEJ,IAAK,IAAIvC,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAAG,CACvC,MAAMhB,EAAK9B,KAAK8C,GAEhB,GAAK+J,EAaH,IAAKxH,EAAI,EAAGA,EAAI2H,EAAO1P,OAAQ+H,GAAK,EAAG,CACrC,MAAM4H,EAAQD,EAAO3H,GAChBvD,EAAGsL,qBAAoBtL,EAAGsL,mBAAqB,IAC/CtL,EAAGsL,mBAAmBH,KAAQnL,EAAGsL,mBAAmBH,GAAS,IAClEnL,EAAGsL,mBAAmBH,GAAOjL,KAAK,CAChC8K,WACAS,cAAec,IAEjBvM,EAAGrE,iBAAiBwP,EAAOoB,EAAiBtB,EAC9C,MArBA,IAAK1H,EAAI,EAAGA,EAAI2H,EAAO1P,OAAQ+H,GAAK,EAAG,CACrC,MAAM4H,EAAQD,EAAO3H,GAChBvD,EAAGqL,iBAAgBrL,EAAGqL,eAAiB,IACvCrL,EAAGqL,eAAeF,KAAQnL,EAAGqL,eAAeF,GAAS,IAC1DnL,EAAGqL,eAAeF,GAAOjL,KAAK,CAC5B8K,WACAS,cAAekB,IAEjB3M,EAAGrE,iBAAiBwP,EAAOwB,EAAa1B,EAC1C,CAcJ,CAEA,OAAO/M,IACT,E,KAgDA,WACE,MAAMoF,EAAMpF,KAAK,QAAA0O,EAAAhL,UAAApG,OADFqG,EAAI1C,UAAAyN,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJhL,EAAIgL,GAAAjL,UAAAiL,GAEnB,IAAKC,EAAW/B,EAAgBC,EAAUC,GAAWpJ,EAOrD,SAASkL,IAA0B,QAAAC,EAAApL,UAAApG,OAAXyR,EAAS9N,UAAA6N,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAATD,EAASC,GAAAtL,UAAAsL,GAC/BlC,EAAShC,MAAM9K,KAAM+O,GACrB3J,EAAI+D,IAAIyF,EAAW/B,EAAgBgC,EAAa9B,GAE5C8B,EAAYvB,mBACPuB,EAAYvB,UAEvB,CAGA,MAfuB,mBAAZ3J,EAAK,MACbiL,EAAW9B,EAAUC,GAAWpJ,EACjCkJ,OAAiBvD,GAYnBuF,EAAYvB,WAAaR,EAClB1H,EAAItB,GAAG8K,EAAW/B,EAAgBgC,EAAa9B,EACxD,E,YAuHA,SAAqBkC,GACnB,GAAIjP,KAAK1C,OAAS,EAAG,CACnB,GAAI2R,EAAgB,CAClB,MAAMC,EAASlP,KAAKkP,SACpB,OAAOlP,KAAK,GAAGmP,aAAejH,WAAWgH,EAAOhP,iBAAiB,eAAiBgI,WAAWgH,EAAOhP,iBAAiB,iBACvH,CAEA,OAAOF,KAAK,GAAGmP,YACjB,CAEA,OAAO,IACT,E,WAtCA,SAAoBF,GAClB,GAAIjP,KAAK1C,OAAS,EAAG,CACnB,GAAI2R,EAAgB,CAClB,MAAMC,EAASlP,KAAKkP,SACpB,OAAOlP,KAAK,GAAGoP,YAAclH,WAAWgH,EAAOhP,iBAAiB,iBAAmBgI,WAAWgH,EAAOhP,iBAAiB,eACxH,CAEA,OAAOF,KAAK,GAAGoP,WACjB,CAEA,OAAO,IACT,E,OA0YA,SAAgB9M,GACd,MAAM2H,EAAU,GAEhB,IAAK,IAAInH,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACT,OAAvB9C,KAAK8C,GAAGiI,aACNzI,EACED,EAAErC,KAAK8C,GAAGiI,YAAYhB,GAAGzH,IAAW2H,EAAQjI,KAAKhC,KAAK8C,GAAGiI,YAE7Dd,EAAQjI,KAAKhC,KAAK8C,GAAGiI,aAK3B,OAAO1I,EAAE4H,EACX,E,QAEA,SAAiB3H,GACf,MAAM2H,EAAU,GAEhB,IAAK,IAAInH,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAAG,CACvC,IAAI4G,EAAS1J,KAAK8C,GAAGiI,WAErB,KAAOrB,GACDpH,EACED,EAAEqH,GAAQK,GAAGzH,IAAW2H,EAAQjI,KAAK0H,GAEzCO,EAAQjI,KAAK0H,GAGfA,EAASA,EAAOqB,UAEpB,CAEA,OAAO1I,EAAE4H,EACX,E,QAxKA,SAAiBb,GACf,MAAM9J,EAAWF,IACjB,IAAI0D,EACAuC,EAEJ,IAAKvC,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAChC,GAAwB,iBAAbsG,EAAuB,CAChC,MAAMG,EAAUjK,EAASnB,cAAc,OAGvC,IAFAoL,EAAQ1G,UAAYuG,EAEf/D,EAAIkE,EAAQlL,WAAWf,OAAS,EAAG+H,GAAK,EAAGA,GAAK,EACnDrF,KAAK8C,GAAGiJ,aAAaxC,EAAQlL,WAAWgH,GAAIrF,KAAK8C,GAAGzE,WAAW,GAEnE,MAAO,GAAI+K,aAAoBpI,EAC7B,IAAKqE,EAAI,EAAGA,EAAI+D,EAAS9L,OAAQ+H,GAAK,EACpCrF,KAAK8C,GAAGiJ,aAAa3C,EAAS/D,GAAIrF,KAAK8C,GAAGzE,WAAW,SAGvD2B,KAAK8C,GAAGiJ,aAAa3C,EAAUpJ,KAAK8C,GAAGzE,WAAW,IAItD,OAAO2B,IACT,E,UAEA,SAAmB0J,GAEjB,OADArH,EAAEqH,GAAQ2F,QAAQrP,MACXA,IACT,E,KAiEA,SAAcsC,GACZ,GAAItC,KAAK1C,OAAS,EAAG,CACnB,MAAMwE,EAAK9B,KAAK,GAEhB,OAAIsC,EACER,EAAGwN,wBAA0BjN,EAAEP,EAAGwN,wBAAwBvF,GAAGzH,GACxDD,EAAE,CAACP,EAAGwN,yBAGRjN,EAAE,IAGPP,EAAGwN,uBAA+BjN,EAAE,CAACP,EAAGwN,yBACrCjN,EAAE,GACX,CAEA,OAAOA,EAAE,GACX,E,QAEA,SAAiBC,GACf,MAAMiN,EAAU,GAChB,IAAIzN,EAAK9B,KAAK,GACd,IAAK8B,EAAI,OAAOO,EAAE,IAElB,KAAOP,EAAGwN,wBAAwB,CAChC,MAAME,EAAO1N,EAAGwN,uBAEZhN,EACED,EAAEmN,GAAMzF,GAAGzH,IAAWiN,EAAQvN,KAAKwN,GAClCD,EAAQvN,KAAKwN,GAEpB1N,EAAK0N,CACP,CAEA,OAAOnN,EAAEkN,EACX,E,KAxwBA,SAAcnJ,EAAO3E,GACnB,GAAyB,IAArBiC,UAAUpG,QAAiC,iBAAV8I,EAG9B,CAEL,IAAK,IAAItD,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACpC,GAAyB,IAArBY,UAAUpG,OAEZ0C,KAAK8C,GAAGsD,GAAS3E,OAGjB,IAAK,MAAMgO,KAAYrJ,EACrBpG,KAAK8C,GAAG2M,GAAYrJ,EAAMqJ,GAKhC,OAAOzP,IACT,CAhBE,OAAIA,KAAK,GAAWA,KAAK,GAAGoG,GAkBvBpG,IACT,E,OAw0BA,WACE,IAAK,IAAI8C,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAChC9C,KAAK8C,GAAGiI,YAAY/K,KAAK8C,GAAGiI,WAAWC,YAAYhL,KAAK8C,IAG9D,OAAO9C,IACT,E,WA52BA,SAAoBuK,GAClB,IAAK,IAAIzH,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACpC9C,KAAK8C,GAAG4M,gBAAgBnF,GAG1B,OAAOvK,IACT,E,YAtDA,WAAiC,QAAA2P,EAAAjM,UAAApG,OAATqI,EAAO1E,UAAA0O,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAPjK,EAAOiK,GAAAlM,UAAAkM,GAC7B,MAAM/J,EAAalE,EAAUgE,EAAQG,KAAIC,GAAKA,EAAEzC,MAAM,QAItD,OAHAtD,KAAK5C,SAAQ0E,IACXA,EAAGkE,UAAU6E,UAAUhF,EAAW,IAE7B7F,IACT,E,WAwGA,SAAoB3C,GAClB,IAAK,IAAIyF,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAAG,CACvC,MAAMhB,EAAK9B,KAAK8C,GAEZhB,EAAGqI,yBAA2BrI,EAAGqI,wBAAwB9M,KAC3DyE,EAAGqI,wBAAwB9M,GAAO,YAC3ByE,EAAGqI,wBAAwB9M,GAEtC,CACF,E,6BA28BA,WAA6B,QAAAwS,EAAAnM,UAAApG,OAANqG,EAAI1C,UAAA4O,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJnM,EAAImM,GAAApM,UAAAoM,GACzB,IAAK5B,EAAM3H,EAAUC,EAAQ9F,GAAYiD,EAErB,IAAhBA,EAAKrG,QAAkC,mBAAXkJ,KAC7B0H,EAAM3H,EAAU7F,EAAU8F,GAAU7C,GAGvC,MAAMyB,EAAMpF,KAEZ,YAAoB,IAATkO,EACL9I,EAAI9H,OAAS,EAAU8H,EAAI,GAAG2I,WAC3B,KAGF3I,EAAI2K,SAAS7B,OAAM5E,EAAW/C,EAAUC,EAAQ9F,EACzD,E,SA3IA,WACE,MAAMK,EAASF,IAAY,QAAAmP,EAAAtM,UAAApG,OADRqG,EAAI1C,UAAA+O,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJtM,EAAIsM,GAAAvM,UAAAuM,GAEvB,IAAK/B,EAAMD,EAAK1H,EAAUC,EAAQ9F,GAAYiD,EAQ9C,OANoB,IAAhBA,EAAKrG,QAAkC,mBAAXkJ,IAC9B9F,EAAW8F,GACV0H,EAAMD,EAAK1H,EAAU7F,EAAU8F,GAAU7C,QAGtB,IAAX6C,IAAwBA,EAAS,SACrCxG,KAAKmH,MAAK,WACf,MAAMrF,EAAK9B,KACX,IAAIkQ,EACAC,EACAC,EACAC,EACAC,EACAC,EACA1C,EAEAE,EAEAyC,EAAavC,EAAM,GAAa,IAARA,EACxBwC,EAAcvC,EAAO,GAAc,IAATA,EAsB9B,QApBsB,IAAX1H,IACTA,EAAS,SAGPgK,IACFN,EAAapO,EAAG+L,UAEXtH,IACHzE,EAAG+L,UAAYI,IAIfwC,IACFN,EAAcrO,EAAGiM,WAEZxH,IACHzE,EAAGiM,WAAaG,KAIf3H,EAAU,OAEXiK,IACFJ,EAAStO,EAAG4O,aAAe5O,EAAGqN,aAC9BmB,EAASxJ,KAAK+B,IAAI/B,KAAKgC,IAAImF,EAAKmC,GAAS,IAGvCK,IACFJ,EAAUvO,EAAG6O,YAAc7O,EAAGsN,YAC9BmB,EAAUzJ,KAAK+B,IAAI/B,KAAKgC,IAAIoF,EAAMmC,GAAU,IAG9C,IAAIhI,EAAY,KACZmI,GAAcF,IAAWJ,IAAYM,GAAa,GAClDC,GAAeF,IAAYJ,IAAaM,GAAc,GA2C1D1P,EAAON,uBAzCP,SAASgI,EAAOL,QAAI,IAAJA,OAAO,IAAIhI,MAAOuI,WACd,OAAdN,IACFA,EAAYD,GAGd,MAAMvB,EAAWC,KAAK+B,IAAI/B,KAAKgC,KAAKV,EAAOC,GAAa9B,EAAU,GAAI,GAChEmC,EAA0B,WAAXlC,EAAsBK,EAAW,GAAMC,KAAKC,IAAIF,EAAWC,KAAKE,IAAM,EAC3F,IAAIK,EACAmJ,IAAY3C,EAAYqC,EAAaxH,GAAgB4H,EAASJ,IAC9DO,IAAa1C,EAAaoC,EAAczH,GAAgB6H,EAAUJ,IAElEK,GAAcF,EAASJ,GAAcrC,GAAayC,IACpDxO,EAAG+L,UAAYyC,EACfjJ,GAAO,GAGLmJ,GAAcF,EAASJ,GAAcrC,GAAayC,IACpDxO,EAAG+L,UAAYyC,EACfjJ,GAAO,GAGLoJ,GAAeF,EAAUJ,GAAepC,GAAcwC,IACxDzO,EAAGiM,WAAawC,EAChBlJ,GAAO,GAGLoJ,GAAeF,EAAUJ,GAAepC,GAAcwC,IACxDzO,EAAGiM,WAAawC,EAChBlJ,GAAO,GAGLA,EACE3G,GAAUA,KAIZ8P,IAAY1O,EAAG+L,UAAYA,GAC3B4C,IAAa3O,EAAGiM,WAAaA,GACjChN,EAAON,sBAAsBgI,GAC/B,GAGF,GACF,E,UAGA,WAA4B,QAAAmI,EAAAlN,UAAApG,OAANqG,EAAI1C,UAAA2P,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJlN,EAAIkN,GAAAnN,UAAAmN,GACxB,IAAK5C,EAAK1H,EAAUC,EAAQ9F,GAAYiD,EAEpB,IAAhBA,EAAKrG,QAAkC,mBAAXkJ,KAC7ByH,EAAK1H,EAAU7F,EAAU8F,GAAU7C,GAGtC,MAAMyB,EAAMpF,KAEZ,YAAmB,IAARiO,EACL7I,EAAI9H,OAAS,EAAU8H,EAAI,GAAGyI,UAC3B,KAGFzI,EAAI2K,cAASzG,EAAW2E,EAAK1H,EAAUC,EAAQ9F,EACxD,E,KA3kBA,WACE,MAAMK,EAASF,IAEf,IAAK,IAAIiC,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAAG,CACvC,MAAMhB,EAAK9B,KAAK8C,GAES,SAArBhB,EAAGxD,MAAMqN,UACX7J,EAAGxD,MAAMqN,QAAU,IAGiD,SAAlE5K,EAAOd,iBAAiB6B,EAAI,MAAM5B,iBAAiB,aAErD4B,EAAGxD,MAAMqN,QAAU,QAEvB,CAEA,OAAO3L,IACT,E,SA4TA,SAAkBsC,GAChB,OAAOtC,KAAK8Q,QAAQxO,GAAU2D,IAAIjG,KAAK+Q,QAAQzO,GACjD,E,KAkdA,WACE,MAAMiD,EAAMvF,KAEZ,IAAK,IAAI8C,EAAI,EAAGA,EAAIyC,EAAIjI,OAAQwF,GAAK,EAC/ByC,EAAIzC,GAAGsE,sBACT7B,EAAIzC,GAAGsE,qBAAqBH,MAGlC,E,OAtxBA,WACE,MAAMlG,EAASF,IACf,OAAIb,KAAK,GAAWe,EAAOd,iBAAiBD,KAAK,GAAI,MAC9C,EACT,E,cA2DA,SAAcgR,GACZ,QAAoB,IAATA,EACT,OAAOhR,KAAK,GAAKA,KAAK,GAAGiL,YAAYxI,OAAS,KAGhD,IAAK,IAAIK,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACpC9C,KAAK8C,GAAGmI,YAAc+F,EAGxB,OAAOhR,IACT,E,YAzkBA,WAAiC,QAAAiR,EAAAvN,UAAApG,OAATqI,EAAO1E,UAAAgQ,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAPvL,EAAOuL,GAAAxN,UAAAwN,GAC7B,MAAMrL,EAAalE,EAAUgE,EAAQG,KAAIC,GAAKA,EAAEzC,MAAM,QACtDtD,KAAK5C,SAAQ0E,IACX+D,EAAWzI,SAAQmO,IACjBzJ,EAAGkE,UAAUmL,OAAO5F,EAAU,GAC9B,GAEN,E,8CA2KA,SAAmB6F,GACjB,IAAK,IAAItO,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACpC9C,KAAK8C,GAAGxE,MAAM8S,UAAYA,EAG5B,OAAOpR,IACT,E,WAEA,SAAoBuG,GAClB,IAAK,IAAIzD,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EACpC9C,KAAK8C,GAAGxE,MAAM+S,mBAAyC,iBAAb9K,EAAyB,GAAEA,MAAeA,EAGtF,OAAOvG,IACT,E,cA2LA,SAAuBU,GACrB,MAAM0E,EAAMpF,KAYZ,OAJIU,GACF0E,EAAItB,GAAG,iBAPT,SAASmF,EAAaC,GAChBA,EAAEjM,SAAW+C,OACjBU,EAAS0B,KAAKpC,KAAMkJ,GACpB9D,EAAI+D,IAAI,gBAAiBF,GAC3B,IAMOjJ,IACT,E,gBA9BA,SAAyBU,GACvB,MAAM0E,EAAMpF,KAYZ,OAJIU,GACF0E,EAAItB,GAAG,mBAPT,SAASmF,EAAaC,GAChBA,EAAEjM,SAAW+C,OACjBU,EAAS0B,KAAKpC,KAAMkJ,GACpB9D,EAAI+D,IAAI,kBAAmBF,GAC7B,IAMOjJ,IACT,E,QA1CA,WACE,MAAMe,EAASF,IAAY,QAAAyQ,EAAA5N,UAAApG,OADTqG,EAAI1C,UAAAqQ,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ5N,EAAI4N,GAAA7N,UAAA6N,GAEtB,MAAMvE,EAASrJ,EAAK,GAAGL,MAAM,KACvBgL,EAAY3K,EAAK,GAEvB,IAAK,IAAIb,EAAI,EAAGA,EAAIkK,EAAO1P,OAAQwF,GAAK,EAAG,CACzC,MAAMmK,EAAQD,EAAOlK,GAErB,IAAK,IAAIuC,EAAI,EAAGA,EAAIrF,KAAK1C,OAAQ+H,GAAK,EAAG,CACvC,MAAMvD,EAAK9B,KAAKqF,GAEhB,GAAItE,EAAOhB,YAAa,CACtB,MAAMyR,EAAM,IAAIzQ,EAAOhB,YAAYkN,EAAO,CACxCwE,OAAQnD,EACRoD,SAAS,EACTC,YAAY,IAEd7P,EAAGyM,eAAiB5K,EAAKxB,QAAO,CAACyP,EAAMC,IAAcA,EAAY,IACjE/P,EAAGgQ,cAAcN,GACjB1P,EAAGyM,eAAiB,UACbzM,EAAGyM,cACZ,CACF,CACF,CAEA,OAAOvO,IACT,E,IA9NA,SAAayB,GACX,QAAqB,IAAVA,EAAuB,CAEhC,MAAMK,EAAK9B,KAAK,GAChB,IAAK8B,EAAI,OAET,GAAIA,EAAGiQ,UAA0C,WAA9BjQ,EAAGjE,SAAS4M,cAA4B,CACzD,MAAMuH,EAAS,GAEf,IAAK,IAAIlP,EAAI,EAAGA,EAAIhB,EAAGmQ,gBAAgB3U,OAAQwF,GAAK,EAClDkP,EAAOhQ,KAAKF,EAAGmQ,gBAAgBnP,GAAGrB,OAGpC,OAAOuQ,CACT,CAEA,OAAOlQ,EAAGL,KACZ,CAGA,IAAK,IAAIqB,EAAI,EAAGA,EAAI9C,KAAK1C,OAAQwF,GAAK,EAAG,CACvC,MAAMhB,EAAK9B,KAAK8C,GAEhB,GAAI7B,MAAMc,QAAQN,IAAUK,EAAGiQ,UAA0C,WAA9BjQ,EAAGjE,SAAS4M,cACrD,IAAK,IAAIpF,EAAI,EAAGA,EAAIvD,EAAGoQ,QAAQ5U,OAAQ+H,GAAK,EAC1CvD,EAAGoQ,QAAQ7M,GAAG8M,SAAW1Q,EAAMiB,QAAQZ,EAAGoQ,QAAQ7M,GAAG5D,QAAU,OAGjEK,EAAGL,MAAQA,CAEf,CAEA,OAAOzB,IACT,E,MAEA,SAAeyB,GACb,OAAOzB,KAAKoS,IAAI3Q,EAClB,E,MA2OA,WACE,MAAMV,EAASF,IAEf,OAAIb,KAAK,KAAOe,EACPA,EAAOsR,WAGZrS,KAAK1C,OAAS,EACT4K,WAAWlI,KAAK0L,IAAI,UAGtB,IACT,ICvjBA3O,OAAOI,KAAKmV,GAASlV,SAASmV,IACT,MAAfA,IACJD,EAAUlP,GAAGmP,GAAcD,EAAQC,GAAW,IAGhD,IAAAlQ,EAAeiQ,ECNf,IAAIE,EAAY,EAKT,SAAS5R,EAAG6R,EAAqB3M,QAAjB,IAAJ2M,MAAO,mBAAiB,IAAH3M,MAAM,oBAC5C,MAAMxI,EAASwI,EAAIxI,OACnB,OAAOmV,EAAKxK,QAAQ,MAAM,IAAMnC,EAAIgB,KAAK4L,MAAM5L,KAAK6L,SAAWrV,KACjE,CACO,MAAMsV,EAAsB,6IAMjCnQ,OAEWoQ,EAAuB,2CAE9B,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG/M,KAAI,IAAM,+CAA8CgN,KAAK,mBAE1FrQ,OAOK,SAASsQ,EAAqBnE,GACnC,IAAIoE,EACJ,OAAOpE,EACJtL,MAAM,IACNwC,KAAI,CAACmN,EAAMxL,IACNwL,EAAKvI,MAAM,UAAsB,IAAVjD,IAAgBuL,GACzCA,GAAW,EACH,IAAGC,EAAKxI,iBAEXwI,EAAKxI,gBAEbqI,KAAK,GACV,CACO,SAASI,EAAYrW,GAC1B,MAAMsW,EAAStW,EACfE,OAAOI,KAAKgW,GAAQ/V,SAASC,IAC3B,IACE8V,EAAO9V,GAAO,I,CACd,MAAO6L,GACP,CAEF,WACSiK,EAAO9V,E,CACd,MAAO6L,GACP,IAGN,CACO,SAASzI,EAAsBC,GAEpC,OADeG,IACDJ,sBAAsBC,EACtC,CAKO,SAAS0S,EAAS1S,EAAU2S,GACjC,YADsC,IAALA,MAAQ,GAClC/S,WAAWI,EAAU2S,EAC9B,CACO,SAASC,EAAU5S,GACxB,OAAOD,GAAsB,KAC3BA,EAAsBC,EAAS,GAEnC,CACO,SAAS6S,IACd,OAAOnT,KAAKmT,KACd,CAEO,SAASC,EAAcC,GAC5B,MAAM1S,EAASF,IACT6S,EAAQ,GACd,IACI5Q,EACAwD,EACAqN,EACArW,EAJAsW,EAAaH,GAAO1S,EAAOpC,SAASI,KAKxC,GAA0B,iBAAf6U,GAA2BA,EAAWtW,OAK/C,IAJAsW,EAAaA,EAAWlR,QAAQ,MAAQ,EAAIkR,EAAW3L,QAAQ,QAAS,IAAM,GAC9E3B,EAASsN,EAAWtQ,MAAM,KAAKnB,QAAQ0R,GAA8B,KAAfA,IACtDvW,EAASgJ,EAAOhJ,OAEXwF,EAAI,EAAGA,EAAIxF,EAAQwF,GAAK,EAC3B6Q,EAAQrN,EAAOxD,GAAGmF,QAAQ,QAAS,IAAI3E,MAAM,KAC7CoQ,EAAMI,mBAAmBH,EAAM,UACT,IAAbA,EAAM,QACTrK,EACAwK,mBAAmBH,EAAMI,MAAM,GAAGjB,KAAK,OAAS,GAG1D,OAAOY,CACT,CAiDO,SAASM,EAAgBnX,EAAKoN,GACnC,QAD0C,IAAPA,MAAU,IAC1B,iBAARpN,EAAkB,OAAOA,EACpC,MAAMoX,EAAc,GAEpB,IAAIC,EACJ,SAASC,EAAQ3Q,GACf,GAAIyG,EAAQ3M,OAAS,EAAG,CACtB,IAAI8W,EAAc,GAClB,IAAK,IAAI/O,EAAI,EAAGA,EAAI4E,EAAQ3M,OAAQ+H,GAAK,EAC1B+O,GAAH,IAAN/O,EAAwB4E,EAAQ5E,GACf,IAAGgP,mBAAmBpK,EAAQ5E,OAErD,MAAQ,GAAE+O,KAAeC,mBAAmB7Q,KAC9C,CACA,OAAO6Q,mBAAmB7Q,EAC5B,CACA,SAAS8Q,EAAS7S,GAChB,OAAO4S,mBAAmB5S,EAC5B,CA6BA,OA5BA1E,OAAOI,KAAKN,GAAKO,SAAS4K,IACxB,IAAIuM,EACJ,GAAItT,MAAMc,QAAQlF,EAAImL,IAAQ,CAC5BuM,EAAS,GACT,IAAK,IAAIzR,EAAI,EAAGA,EAAIjG,EAAImL,GAAM1K,OAAQwF,GAAK,EACpC7B,MAAMc,QAAQlF,EAAImL,GAAMlF,KAA+B,iBAAjBjG,EAAImL,GAAMlF,GAMnDyR,EAAOvS,KAAM,GAAEmS,EAAQnM,QAAWsM,EAASzX,EAAImL,GAAMlF,QALrDoR,EAAajK,EAAQ8J,QACrBG,EAAWlS,KAAKgG,GAChBkM,EAAWlS,KAAKwS,OAAO1R,IACvByR,EAAOvS,KAAKgS,EAAgBnX,EAAImL,GAAMlF,GAAIoR,KAK1CK,EAAOjX,OAAS,GAAG2W,EAAYjS,KAAKuS,EAAOzB,KA9BjC,KA+BhB,MAAyB,OAAdjW,EAAImL,IAAgC,KAAdnL,EAAImL,GACnCiM,EAAYjS,KAAM,GAAEmS,EAAQnM,OACE,iBAAdnL,EAAImL,IAEpBkM,EAAajK,EAAQ8J,QACrBG,EAAWlS,KAAKgG,GAChBuM,EAASP,EAAgBnX,EAAImL,GAAOkM,GACrB,KAAXK,GAAeN,EAAYjS,KAAKuS,SACN,IAAd1X,EAAImL,IAAuC,KAAdnL,EAAImL,GAEjDiM,EAAYjS,KAAM,GAAEmS,EAAQnM,MAASsM,EAASzX,EAAImL,OAC3B,KAAdnL,EAAImL,IAAciM,EAAYjS,KAAKmS,EAAQnM,GAAM,IAEvDiM,EAAYnB,KA5CD,IA6CpB,CACO,SAASlW,EAAS6X,GACvB,MAAoB,iBAANA,GAAwB,OAANA,GAAcA,EAAE3X,aAAe2X,EAAE3X,cAAgBC,MACnF,CACO,SAAS2X,IAAe,QAAAhP,EAAAhC,UAAApG,OAANqG,EAAI1C,UAAAyE,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJjC,EAAIiC,GAAAlC,UAAAkC,GAC3B,MAAM+O,EAAKhR,EAAK,GAChBA,EAAK6J,OAAO,EAAG,GACf,MAAMoH,EAAOjR,EAEb,IAAK,IAAIb,EAAI,EAAGA,EAAI8R,EAAKtX,OAAQwF,GAAK,EAAG,CACvC,MAAM+R,EAAalR,EAAKb,GACxB,GAAI+R,QAAiD,CACnD,MAAMC,EAAY/X,OAAOI,KAAKJ,OAAO8X,IACrC,IAAK,IAAIE,EAAY,EAAGC,EAAMF,EAAUxX,OAAQyX,EAAYC,EAAKD,GAAa,EAAG,CAC/E,MAAME,EAAUH,EAAUC,GACpBG,EAAOnY,OAAOoY,yBAAyBN,EAAYI,QAC5C3L,IAAT4L,GAAsBA,EAAKE,aAC7BT,EAAGM,GAAWJ,EAAWI,GAE7B,CACF,CACF,CACA,OAAON,CACT,CACO,SAAS3X,IACd,IACI2X,EACAC,EAFAS,GAAO,EAEF,QAAA1F,EAAAjM,UAAApG,OAHeqG,EAAI1C,UAAA0O,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJjM,EAAIiM,GAAAlM,UAAAkM,GAIL,kBAAZjM,EAAK,IACd0R,EAAO1R,EAAK,GACZgR,EAAKhR,EAAK,GACVA,EAAK6J,OAAO,EAAG,GACfoH,EAAOjR,IAEPgR,EAAKhR,EAAK,GACVA,EAAK6J,OAAO,EAAG,GACfoH,EAAOjR,GAET,IAAK,IAAIb,EAAI,EAAGA,EAAI8R,EAAKtX,OAAQwF,GAAK,EAAG,CACvC,MAAM+R,EAAalR,EAAKb,GACxB,GAAI+R,QAAiD,CACnD,MAAMC,EAAY/X,OAAOI,KAAKJ,OAAO8X,IACrC,IAAK,IAAIE,EAAY,EAAGC,EAAMF,EAAUxX,OAAQyX,EAAYC,EAAKD,GAAa,EAAG,CAC/E,MAAME,EAAUH,EAAUC,GACpBG,EAAOnY,OAAOoY,yBAAyBN,EAAYI,QAC5C3L,IAAT4L,GAAsBA,EAAKE,aACxBC,EAEMzY,EAAS+X,EAAGM,KAAarY,EAASiY,EAAWI,IACtDjY,EAAO2X,EAAGM,GAAUJ,EAAWI,KACrBrY,EAAS+X,EAAGM,KAAarY,EAASiY,EAAWI,KACvDN,EAAGM,GAAW,GACdjY,EAAO2X,EAAGM,GAAUJ,EAAWI,KAE/BN,EAAGM,GAAWJ,EAAWI,GAPzBN,EAAGM,GAAWJ,EAAWI,GAU/B,CACF,CACF,CACA,OAAON,CACT,CACO,SAASW,EAAcC,GAC5B,MAAMC,EAAID,EAAItN,QAAQ,oCAAoC,CAACwN,EAAGC,EAAGC,EAAGC,IAAMF,EAAIA,EAAIC,EAAIA,EAAIC,EAAIA,IACxFC,EAAS,4CAA4CC,KAAKN,GAChE,OAAOK,EAASA,EAAO9B,MAAM,GAAGjO,KAAKiQ,GAAMC,SAASD,EAAG,MAAO,IAChE,CACO,SAASE,EAAcP,EAAGC,EAAGC,GAClC,MAAMC,EAAS,CAACH,EAAGC,EAAGC,GACnB9P,KAAKiQ,IACJ,MAAMR,EAAMQ,EAAEG,SAAS,IACvB,OAAsB,IAAfX,EAAIjY,OAAgB,IAAGiY,IAAQA,CAAG,IAE1CzC,KAAK,IACR,MAAQ,IAAG+C,GACb,CACO,SAASM,EAAcT,EAAGC,EAAGC,GAClCF,GAAK,IACLC,GAAK,IACLC,GAAK,IACL,MAAM/M,EAAM/B,KAAK+B,IAAI6M,EAAGC,EAAGC,GACrB9M,EAAMhC,KAAKgC,IAAI4M,EAAGC,EAAGC,GACrBQ,EAAIvN,EAAMC,EAChB,IAAI0M,EACM,IAANY,EAASZ,EAAI,EACR3M,IAAQ6M,EAAGF,GAAMG,EAAIC,GAAKQ,EAAK,EAC/BvN,IAAQ8M,EAAGH,GAAKI,EAAIF,GAAKU,EAAI,EAC7BvN,IAAQ+M,IAAGJ,GAAKE,EAAIC,GAAKS,EAAI,GACtC,MAAMC,GAAKvN,EAAMD,GAAO,EAGxB,OADI2M,EAAI,IAAGA,EAAI,EAAWA,GACnB,CAAK,GAAJA,EAFQ,IAANY,EAAU,EAAIA,GAAK,EAAItP,KAAKwP,IAAI,EAAID,EAAI,IAE/BA,EACrB,CACO,SAASE,GAAcf,EAAGgB,EAAGH,GAClC,MAAMtQ,GAAK,EAAIe,KAAKwP,IAAI,EAAID,EAAI,IAAMG,EAChCC,EAAKjB,EAAI,GACTkB,EAAI3Q,GAAK,EAAIe,KAAKwP,IAAKG,EAAK,EAAK,IACvC,IAAIE,EACAC,OAAOC,MAAMrB,SAAmB,IAANA,EAC5BmB,EAAO,CAAC,EAAG,EAAG,GACLF,GAAM,EAAGE,EAAO,CAAC5Q,EAAG2Q,EAAG,GACzBD,GAAM,EAAGE,EAAO,CAACD,EAAG3Q,EAAG,GACvB0Q,GAAM,EAAGE,EAAO,CAAC,EAAG5Q,EAAG2Q,GACvBD,GAAM,EAAGE,EAAO,CAAC,EAAGD,EAAG3Q,GACvB0Q,GAAM,EAAGE,EAAO,CAACD,EAAG,EAAG3Q,GACvB0Q,GAAM,IAAGE,EAAO,CAAC5Q,EAAG,EAAG2Q,IAChC,MAAMjB,EAAIY,EAAItQ,EAAI,EAClB,OAAO4Q,EAAK7Q,KAAKiQ,GAAMjP,KAAK+B,IAAI,EAAG/B,KAAKgC,IAAI,IAAKhC,KAAKgQ,MAAM,KAAOf,EAAIN,OACzE,CAoDO,SAASsB,GAAYC,EAAUna,GACpCE,OAAOI,KAAKN,GAAKO,SAASC,IACpBT,EAASC,EAAIQ,KACfN,OAAOI,KAAKN,EAAIQ,IAAMD,SAAS6Z,IACG,mBAArBpa,EAAIQ,GAAK4Z,KAClBpa,EAAIQ,GAAK4Z,GAAUpa,EAAIQ,GAAK4Z,GAAQC,KAAKF,GAC3C,IAGJA,EAAS3Z,GAAOR,EAAIQ,EAAI,GAE5B,CAEO,SAAS8Z,KACd,MAAMvV,EAAM,GAAG,QAAAyJ,EAAA3H,UAAApG,OADeqG,EAAI1C,UAAAoK,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ3H,EAAI2H,GAAA5H,UAAA4H,GAMlC,OAJA3H,EAAKvG,SAASga,IACRnW,MAAMc,QAAQqV,GAAMxV,EAAII,QAAQmV,MAAgBC,IAC/CxV,EAAII,KAAKoV,EAAI,IAEbxV,CACT,C,kDAtXO,WAEL,OADA4Q,GAAa,EACNA,CACT,E,uEAmBuC,oG,kFAqChC,SAA8BtL,GAEnC,OADerG,IACDF,qBAAqBuG,EACrC,E,0DAoCO,SAAsBpF,EAAIuV,QAAI,IAAJA,MAAO,KACtC,MAAMtW,EAASF,IACf,IAAIyW,EACAC,EACAC,EAEJ,MAAMC,EAAW1W,EAAOd,iBAAiB6B,EAAI,MAwC7C,OAtCIf,EAAO2W,iBACTH,EAAeE,EAASrG,WAAaqG,EAASE,gBAC1CJ,EAAajU,MAAM,KAAKhG,OAAS,IACnCia,EAAeA,EACZjU,MAAM,MACNwC,KAAK/C,GAAMA,EAAEkF,QAAQ,IAAK,OAC1B6K,KAAK,OAIV0E,EAAkB,IAAIzW,EAAO2W,gBAAiC,SAAjBH,EAA0B,GAAKA,KAE5EC,EACEC,EAASG,cACTH,EAASI,YACTJ,EAASK,aACTL,EAASM,aACTN,EAASrG,WACTqG,EAASvX,iBAAiB,aAAa+H,QAAQ,aAAc,sBAC/DqP,EAASE,EAAgBtB,WAAW5S,MAAM,MAG/B,MAAT+T,IAE0BE,EAAxBxW,EAAO2W,gBAAgCF,EAAgBQ,IAEhC,KAAlBV,EAAOha,OAA8B4K,WAAWoP,EAAO,KAE5CpP,WAAWoP,EAAO,KAE3B,MAATD,IAE0BE,EAAxBxW,EAAO2W,gBAAgCF,EAAgBS,IAEhC,KAAlBX,EAAOha,OAA8B4K,WAAWoP,EAAO,KAE5CpP,WAAWoP,EAAO,KAEjCC,GAAgB,CACzB,E,6HA8JO,SAAuB/B,EAAGgB,EAAGZ,GAClC,MAAMsC,EAAM,CACV1C,IACAgB,EAAG,EACHH,EAAG,GAEC8B,EAAW3B,EAAX2B,EAAcvC,EAKpB,OAHAsC,EAAI7B,GAAM,EAAI8B,GAASA,EAAS,EAChCD,EAAI1B,EAAI0B,EAAI7B,GAAK6B,EAAI7B,EAAI,EAAK8B,EAAQA,GAAUD,EAAI7B,EAAI,GAAc,EAAR6B,EAAI7B,EAAQ,EAAY,EAAR6B,EAAI7B,GAAS6B,EAAI1B,EAExF,CAAC0B,EAAI1C,EAAG0C,EAAI1B,EAAG0B,EAAI7B,EAC5B,E,cACO,SAAuBb,EAAGgB,EAAGH,GAClC,MAAM8B,EAAM,CACV3C,IACAgB,EAAG,EACHZ,EAAG,GAECsC,EAAc7B,EAEd+B,EAFW5B,GAEE0B,EAAQ,GAAMA,EAAQ,EAAIA,GAI7C,OAHAC,EAAIvC,EAAIsC,EAAQE,EAChBD,EAAI3B,EAAI0B,EAAQ,EAAK,EAAIE,EAAKD,EAAIvC,EAAIuC,EAAI3B,EAEnC,CAAC2B,EAAI3C,EAAG2C,EAAI3B,EAAG2B,EAAIvC,EAC5B,E,wBACO,WACL,IAAIL,EACA8C,EAAI,QAAApH,EAAAvN,UAAApG,OAFiCqG,EAAI1C,UAAAgQ,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJvN,EAAIuN,GAAAxN,UAAAwN,GAU7C,GAPoB,IAAhBvN,EAAKrG,QACPiY,EAAM5R,EAAK,GACX0U,EAAM/C,EAAcC,IACK,IAAhB5R,EAAKrG,SACd+a,EAAM1U,EACN4R,EAAMU,KAAiBoC,KAEpBA,EAAK,MAAO,GACjB,MAAMC,EAAMnC,KAAiBkC,GACvBE,EAAW,CAACD,EAAI,GAAIA,EAAI,GAAIxR,KAAK+B,IAAI,EAAGyP,EAAI,GAAK,MACjDE,EAAU,CAACF,EAAI,GAAIA,EAAI,GAAIxR,KAAK+B,IAAI,EAAGyP,EAAI,GAAK,MAChDG,EAAQxC,KAAiBM,MAAiBgC,IAC1CG,EAAOzC,KAAiBM,MAAiBiC,IAC/C,MAAO,CACL,mBAAoBjD,EACpB,uBAAwB8C,EAAIvF,KAAK,MACjC,yBAA0B2F,EAC1B,wBAAyBC,EAE7B,E,iCCjWA,IAAIC,GCCAC,GDsCJ,SAASC,KAIP,OAHKF,KACHA,GAvCJ,WACE,MAAM5X,EAASF,IACTvB,EAAWF,IAEjB,MAAO,CACL0Z,SACE,iBAAkB/X,GACjBA,EAAOgY,eAAiBzZ,aAAoByB,EAAOgY,eAGtDC,gBACIjY,EAAOkY,cACT,mBAAoBlY,EAAOvB,WAC3BuB,EAAOvB,UAAU0Z,gBAAkB,EAErCC,gBAAkB,WAChB,IAAIC,GAAkB,EACtB,IACE,MAAMC,EAAOtc,OAAOuE,eAAe,GAAI,UAAW,CAEhDC,MACE6X,GAAkB,CACpB,IAEFrY,EAAOtD,iBAAiB,sBAAuB,KAAM4b,E,CACrD,MAAOnQ,GACP,CAEF,OAAOkQ,CACT,CAdkB,GAgBlBE,qBACS,yBAA0BvY,EAGvC,CAIcwY,IAELZ,EACT,CC8GA,SAASa,GAAUC,EAAgBC,GAIjC,YAJ0B,IAATD,MAAY,IACxBb,KAAoBc,IACvBd,GAzJJ,SAAmBe,GAAqB,IAApBla,UAAEA,QAAW,IAAAka,EAAG,GAAEA,EACpC,MAAMhB,EAAUE,KACV9X,EAASF,IACT+Y,EAAW7Y,EAAOvB,UAAUoa,SAC5BC,EAAKpa,GAAasB,EAAOvB,UAAUC,UAEnCqa,EAAS,CACbC,KAAK,EACLC,SAAS,EACTC,eAAe,EACfC,SAAS,EACTC,QAAQ,EACRC,MAAM,EACNC,MAAM,EACNC,MAAM,EACNC,IAAI,EACJC,SAAS,EACTC,OAAO,EACPC,SAAS,EACTC,UAAW5Z,EAAO4Z,QAClBC,UAAU,EACVC,YAAa9Z,EAAO+Z,UACpBC,MAAM,GAGFC,EAAcja,EAAOV,OAAO4a,MAC5BC,EAAena,EAAOV,OAAO8a,OAE7BnB,EAAUH,EAAGnP,MAAM,+BACzB,IAAI2P,EAAOR,EAAGnP,MAAM,wBACpB,MAAM0P,EAAOP,EAAGnP,MAAM,2BAChByP,GAAUE,GAAQR,EAAGnP,MAAM,+CAC3B6P,EAAKV,EAAGnX,QAAQ,UAAY,GAAKmX,EAAGnX,QAAQ,aAAe,EAC3D4X,EAAOT,EAAGnX,QAAQ,UAAY,EAC9B8X,EAAUX,EAAGnX,QAAQ,WAAa,GAAKmX,EAAGnX,QAAQ,aAAe,EACjEgY,EAAuB,UAAbd,EACVgB,EAAWf,EAAGpP,cAAc/H,QAAQ,aAAe,EACnDqY,EACU,oBAAPK,IACY,oBAAZC,cACqB,IAArBA,QAAQC,eACgB,IAAxBD,QAAQC,SAASF,GAC1B,IAAIX,EAAqB,aAAbb,EA0GZ,OAxFGS,GACDI,GACA9B,EAAQG,OAjBU,CAClB,YACA,YACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,YAMYpW,QAAS,GAAEsY,KAAeE,MAAmB,IAEzDb,EAAOR,EAAGnP,MAAM,uBACX2P,IAAMA,EAAO,CAAC,EAAG,EAAG,WACzBI,GAAQ,GAGVX,EAAOS,GAAKA,EACZT,EAAOQ,KAAOA,EACdR,EAAOU,QAAUA,EAGbR,IACFF,EAAOyB,GAAK,UACZzB,EAAO0B,UAAYxB,EAAQ,GAC3BF,EAAOE,SAAU,EACjBF,EAAOG,cAAgBJ,EAAGpP,cAAc/H,QAAQ,WAAa,IAE3D2X,GAAQF,GAAUC,KACpBN,EAAOyB,GAAK,MACZzB,EAAOC,KAAM,GAGXI,IAAWC,IACbN,EAAO0B,UAAYrB,EAAO,GAAGlS,QAAQ,KAAM,KAC3C6R,EAAOK,QAAS,GAEdE,IACFP,EAAO0B,UAAYnB,EAAK,GAAGpS,QAAQ,KAAM,KACzC6R,EAAOO,MAAO,GAEZD,IACFN,EAAO0B,UAAYpB,EAAK,GAAKA,EAAK,GAAGnS,QAAQ,KAAM,KAAO,KAC1D6R,EAAOM,MAAO,GAGZN,EAAOC,KAAOD,EAAO0B,WAAa3B,EAAGnX,QAAQ,aAAe,GACvB,OAAnCoX,EAAO0B,UAAUlY,MAAM,KAAK,KAC9BwW,EAAO0B,UAAY3B,EAAGpP,cAAcnH,MAAM,YAAY,GAAGA,MAAM,KAAK,IAKxEwW,EAAO2B,YAEFtB,GAAUE,GAAQD,KAClBP,EAAGnP,MAAM,gCAAiC3J,EAAOvB,UAAUkc,aAE7D3a,EAAOP,YAAcO,EAAOP,WAAW,8BAA8B4L,QACxE0N,EAAO6B,QAAU7B,EAAO2B,QACxB3B,EAAO4B,WAAa5B,EAAO2B,QAG3B3B,EAAOI,UAAYJ,EAAOC,KAAOD,EAAOE,UAAYY,GAAYG,EAC5DjB,EAAOI,UACTJ,EAAOc,SAAWA,EAClBd,EAAOiB,KAAOA,EACdjB,EAAOW,MAAQA,EACfX,EAAOY,QAAUA,EACbZ,EAAOW,QACTX,EAAOyB,GAAK,SAEVzB,EAAOY,UACTZ,EAAOyB,GAAK,YAKhBzB,EAAO8B,WAAa7a,EAAO8a,kBAAoB,EAK/C/B,EAAOgC,mBAAqB,WAC1B,IAAIC,EAOJ,OANIhb,EAAOP,YAAcO,EAAOP,WAHpB,iCAGsC4L,UAChD2P,EAAQ,SAENhb,EAAOP,YAAcO,EAAOP,WAPrB,gCAOsC4L,UAC/C2P,EAAQ,QAEHA,C,EAIFjC,CACT,CAIuBkC,CAAWvC,IAEzBb,EACT,CCjKA,MAAMqD,GACJnf,YAAYmN,QAAO,IAAPA,MAAU,IACPjK,KACRkc,cAAgBjS,EADRjK,KAERmc,gBAAkB,EACzB,CAEArY,GAAGkJ,EAAQK,EAAS+O,GAClB,MAAMC,EAAOrc,KACb,GAAuB,mBAAZqN,EAAwB,OAAOgP,EAC1C,MAAMC,EAASF,EAAW,UAAY,OAKtC,OAJApP,EAAO1J,MAAM,KAAKlG,SAAS6P,IACpBoP,EAAKF,gBAAgBlP,KAAQoP,EAAKF,gBAAgBlP,GAAS,IAChEoP,EAAKF,gBAAgBlP,GAAOqP,GAAQjP,EAAQ,IAEvCgP,CACT,CAEAE,KAAKvP,EAAQK,EAAS+O,GACpB,MAAMC,EAAOrc,KACb,GAAuB,mBAAZqN,EAAwB,OAAOgP,EAC1C,SAASxN,IACPwN,EAAKlT,IAAI6D,EAAQ6B,GACbA,EAAY2N,gBACP3N,EAAY2N,QACpB,QAAA9W,EAAAhC,UAAApG,OAJqBqG,EAAI1C,UAAAyE,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJjC,EAAIiC,GAAAlC,UAAAkC,GAK1ByH,EAAQvC,MAAMuR,EAAM1Y,EACtB,CAEA,OADAkL,EAAY2N,QAAUnP,EACfgP,EAAKvY,GAAGkJ,EAAQ6B,EAAauN,EACtC,CAEAjT,IAAI6D,EAAQK,GACV,MAAMgP,EAAOrc,KACb,OAAKqc,EAAKF,iBACVnP,EAAO1J,MAAM,KAAKlG,SAAS6P,SACF,IAAZI,EACTgP,EAAKF,gBAAgBlP,GAAS,GACrBoP,EAAKF,gBAAgBlP,IAC9BoP,EAAKF,gBAAgBlP,GAAO7P,SAAQ,CAACqf,EAAchV,MAE/CgV,IAAiBpP,GAChBoP,EAAaD,SAAWC,EAAaD,UAAYnP,IAElDgP,EAAKF,gBAAgBlP,GAAOO,OAAO/F,EAAO,EAC5C,GAEJ,IAEK4U,GAf2BA,CAgBpC,CAEAK,OACE,MAAML,EAAOrc,KACb,IAAKqc,EAAKF,gBAAiB,OAAOE,EAClC,IAAIrP,EACA4E,EACArP,EACA2Z,EAAc,QAAAvM,EAAAjM,UAAApG,OANZqG,EAAI1C,UAAA0O,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJjM,EAAIiM,GAAAlM,UAAAkM,GAOa,iBAAZjM,EAAK,IAAmB1C,MAAMc,QAAQ4B,EAAK,KACpDqJ,EAASrJ,EAAK,GACdiO,EAAOjO,EAAKoQ,MAAM,EAAGpQ,EAAKrG,QAC1BiF,EAAU8Z,EACVH,EAAgBG,EAAKH,gBAErBlP,EAASrJ,EAAK,GAAGqJ,OACjB4E,EAAOjO,EAAK,GAAGiO,KACfrP,EAAUoB,EAAK,GAAGpB,SAAW8Z,EAC7BH,EAAgBvY,EAAK,GAAGgZ,MAAQ,GAAKhZ,EAAK,GAAGsG,SAAWoS,EAAKH,eAE/D,MAAMU,EAAc3b,MAAMc,QAAQiL,GAAUA,EAASA,EAAO1J,MAAM,KAC5DuZ,EAAcD,EAAY9W,KAAK8I,GAAcA,EAAU3G,QAAQ,UAAW,MAC1E6U,EAAeF,EAAYza,QAAQyM,GAAcA,EAAUlM,QAAQ,WAAa,IAkBtF,OAhBAma,EAAYzf,SAAS6P,IACnB,GAAIoP,EAAKF,iBAAmBE,EAAKF,gBAAgBlP,GAAQ,CACvD,MAAMC,EAAW,GACjBmP,EAAKF,gBAAgBlP,GAAO7P,SAASqf,IACnCvP,EAASlL,KAAKya,EAAa,IAE7BvP,EAAS9P,SAASqf,IAChBA,EAAa3R,MAAMvI,EAASqP,EAAK,GAErC,KAEEsK,GAAiBA,EAAc5e,OAAS,GAC1C4e,EAAc9e,SAAS2f,IACrBA,EAAaL,KAAKI,KAAiBlL,EAAK,IAGrCyK,CACT,ECxFF,MAAMW,WAAqBf,GACzBnf,YAAYwJ,EAAa2D,QAAP,IAAN3D,MAAS,SAAW,IAAP2D,MAAU,IACjC9I,MAAM8I,GACN,MAAMoS,EAAOrc,KACbqc,EAAK/V,OAASA,EAEV+V,EAAK/V,QAAU+V,EAAK/V,OAAOxC,IAC7B/G,OAAOI,KAAKkf,EAAK/V,OAAOxC,IAAI1G,SAASwR,IACnCyN,EAAKvY,GAAG8K,EAAWyN,EAAK/V,OAAOxC,GAAG8K,GAAW,GAGnD,CAGAqO,gBAAgBC,EAAQC,GACtB,GAAID,EAAO5W,OAAQ,CACjB,MAAM8W,EAAiB,GACvBrgB,OAAOI,KAAK+f,EAAO5W,QAAQlJ,SAASigB,SACM,IAA7BF,EAAeE,KAC1BD,EAAeC,GAAYrgB,EAAO,GAAImgB,EAAeE,IAAU,IAEjErgB,EAAOmgB,EAAgBD,EAAO5W,QAC9BvJ,OAAOI,KAAKigB,GAAgBhgB,SAASigB,IACnCrgB,EAAOmgB,EAAeE,GAAWD,EAAeC,GAAU,GAE9D,CACF,CAEAC,iBAAiBH,GACf,MAAMnG,EAAWhX,KACZgX,EAASuG,SACdxgB,OAAOI,KAAK6Z,EAASuG,SAASngB,SAASogB,IACrC,MAAMN,EAASlG,EAASuG,QAAQC,GAE5BN,EAAO5W,QACTtJ,EAAOmgB,EAAgBD,EAAO5W,OAChC,GAEJ,CAEAmX,UAAUD,EAAiBE,QAAP,IAAVF,MAAa,SAAgB,IAAZE,MAAe,IACxC,MAAM1G,EAAWhX,KACjB,IAAKgX,EAASuG,QAAS,OACvB,MAAML,EAA+B,iBAAfM,EAA0BxG,EAASuG,QAAQC,GAAcA,EAC1EN,IAGDA,EAAOlG,UACTja,OAAOI,KAAK+f,EAAOlG,UAAU5Z,SAASugB,IACpC,MAAMC,EAAaV,EAAOlG,SAAS2G,GAEjC3G,EAAS2G,GADe,mBAAfC,EACkBA,EAAW1G,KAAKF,GAEhB4G,CAC7B,IAIAV,EAAOpZ,IAAMkT,EAASlT,IACxB/G,OAAOI,KAAK+f,EAAOpZ,IAAI1G,SAASygB,IAC9B7G,EAASlT,GAAG+Z,EAAiBX,EAAOpZ,GAAG+Z,GAAiB,IAIxDX,EAAOY,QACJ9G,EAAS+G,aAAY/G,EAAS+G,WAAa,IAChDhhB,OAAOI,KAAK+f,EAAOY,OAAO1gB,SAAS4gB,IACjCjhB,OAAOI,KAAK+f,EAAOY,MAAME,IAAU5gB,SAAS6gB,IAC1C,MAAM5Q,EAAU6P,EAAOY,MAAME,GAASC,GACjCjH,EAAS+G,WAAWE,KAAWjH,EAAS+G,WAAWE,GAAY,IAC/DjH,EAAS+G,WAAWE,GAAUD,KAAUhH,EAAS+G,WAAWE,GAAUD,GAAW,IACtFhH,EAAS+G,WAAWE,GAAUD,GAAShc,KAAKqL,EAAQ6J,KAAKF,GAAU,GACnE,KAIFkG,EAAOgB,QACThB,EAAOgB,OAAOhH,KAAKF,EAAnBkG,CAA6BQ,GAEjC,CAEAS,WAAWC,QAAa,IAAbA,MAAgB,IACzB,MAAMpH,EAAWhX,KACZgX,EAASuG,SACdxgB,OAAOI,KAAK6Z,EAASuG,SAASngB,SAASogB,IACrC,MAAME,EAAeU,EAAcZ,IAAe,GAClDxG,EAASyG,UAAUD,EAAYE,EAAa,GAEhD,CAEWW,sBAAWA,GACNre,KACHse,KADGte,KAERse,IAAID,EACZ,CAEAE,qBAAqBrB,GACnB,MAAMsB,EAAQxe,KACTwe,EAAMtc,UAAUqb,UAASiB,EAAMtc,UAAUqb,QAAU,IACxD,MAAM/Z,EAAO0Z,EAAO1Z,MAAS,GAAEzG,OAAOI,KAAKqhB,EAAMtc,UAAUqb,SAASjgB,UAAUiW,MAe9E,GAdAiL,EAAMtc,UAAUqb,QAAQ/Z,GAAQ0Z,EAE5BA,EAAO9b,OACTrE,OAAOI,KAAK+f,EAAO9b,OAAOhE,SAASC,IACjCmhB,EAAMtc,UAAU7E,GAAO6f,EAAO9b,MAAM/D,EAAI,IAIxC6f,EAAOqB,QACTxhB,OAAOI,KAAK+f,EAAOqB,QAAQnhB,SAASC,IAClCmhB,EAAMnhB,GAAO6f,EAAOqB,OAAOlhB,EAAI,IAI/B6f,EAAOuB,QAAS,KAAA/Y,MAAAhC,UAAApG,OAlBUgJ,EAAM,IAAArF,MAAAyE,MAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAANU,EAAMV,EAAAlC,aAAAkC,GAmBlCsX,EAAOuB,QAAQ3T,MAAM0T,EAAOlY,EAC9B,CACA,OAAOkY,CACT,CAEAD,WAAWrB,GACT,MAAMsB,EAAQxe,KACd,GAAIiB,MAAMc,QAAQmb,GAEhB,OADAA,EAAO9f,SAASqY,GAAM+I,EAAME,cAAcjJ,KACnC+I,EACR,IAAA7O,MAAAjM,UAAApG,OALmBgJ,EAAM,IAAArF,MAAA0O,MAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANtJ,EAAMsJ,EAAAlM,aAAAkM,GAM1B,OAAO4O,EAAME,cAAcxB,KAAW5W,EACxC,EChIa,SAASqY,GAAmBC,QAAU,IAAVA,MAAa,IACtD,MAAMC,gBAAEA,EAAiB/hB,YAAagiB,EAAWC,QAAEA,EAAOC,IAAEA,EAAGC,WAAEA,GAAeL,EAC1EtM,EAAU,CACd4L,SAAgB,QAAAxY,EAAAhC,UAAApG,OAANqG,EAAI1C,UAAAyE,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJjC,EAAIiC,GAAAlC,UAAAkC,GACZ,OAAIoZ,EAAY,IAAIF,EAAYE,KAAQrb,GACjC,IAAImb,KAAenb,E,EAE5BpC,IAAIO,GACF,QADI,IAAFA,MAAK+c,GACH/c,aAAcgd,EAAa,OAAOhd,EACtC,MAAMod,EAAM7c,EAAEP,GACd,OAAmB,IAAfod,EAAI5hB,OACD4hB,EAAI,GAAGH,QADd,C,EAGFI,QAAQrd,GACN,MAAMkV,EAAW1E,EAAQ/Q,IAAIO,GAC7B,GAAIkV,GAAYA,EAASmI,QAAS,OAAOnI,EAASmI,SAEpD,GAWF,OATIF,GAAche,MAAMc,QAAQkd,IAC9BA,EAAW7hB,SAASmV,IAClBD,EAAQC,GAAc,SAACzQ,QAAE,IAAFA,MAAK+c,GAC1B,MAAM7H,EAAW1E,EAAQ/Q,IAAIO,GAAI,IAAA6N,MAAAjM,UAAApG,OADaqG,EAAI,IAAA1C,MAAA0O,MAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJjM,EAAIiM,EAAAlM,aAAAkM,GAElD,GAAIoH,GAAYA,EAASzE,GAAa,OAAOyE,EAASzE,MAAe5O,E,CAEtE,IAGE2O,CACT,CC3BA,MAAM8M,GAAiB,GCUvB,MAAMC,WAAgBrC,GACpBlgB,YAAYwJ,GAGV,QAHgB,IAANA,MAAS,IACnBnF,MAAMmF,GAEF+Y,GAAQrI,UAA8B,oBAAXjW,OAC7B,MAAM,IAAIue,MAAM,0EAElB,MAAMxF,EAASN,GAAU,CAAE/Z,UAAW6G,EAAO7G,gBAAa6J,IACpDqP,EAAUE,KAEV0G,EAAeviB,EAAO,GAAIsJ,GAG1B0Y,EAAMhf,KAEZgf,EAAIlF,OAASA,EACbkF,EAAIrG,QAAUA,EAEd,MAAM6G,EAAI3e,IACJuV,EAAIhX,IAEVigB,GAAQrI,SAAWgI,EAGnB,MAAMS,EAAW,CACfC,QAAS,QACT9e,GAAI,mBACJkB,GAAI,OACJia,MAAO,OACP4D,SAAUH,EAAEhgB,UAAUmgB,SACtBC,OAAQ,GACRpc,KAAM,UACNqc,gBAAiB,KACjBC,mBAAmB,EACnBC,MAAM,EACNC,cAAc,EACdC,oBAAoB,EACpBC,sBAAsB,EACtBC,eAAW7W,EACX8W,kBAAc9W,EACd7J,UAAW,KACXgU,IAAK,MA6DP,OAzDAuL,EAAI1B,iBAAiBmC,GAGrBT,EAAI1Y,OAAStJ,EAAOyiB,EAAUnZ,GAE9BtJ,EAAOgiB,EAAK,CAEVpe,GAAIoe,EAAI1Y,OAAO1F,GAEf4C,KAAMwb,EAAI1Y,OAAO9C,KAEjBkc,QAASV,EAAI1Y,OAAOoZ,QAEpBE,OAAQZ,EAAI1Y,OAAOsZ,OAEnBD,SAAUX,EAAI1Y,OAAOqZ,SAGrB5D,MAC2B,SAArBiD,EAAI1Y,OAAOyV,MACTjC,EAAOC,IAAY,MACnBD,EAAOI,SAAWJ,EAAOc,SAAiB,SACvC,KAEFoE,EAAI1Y,OAAOyV,MAIpBwD,eACAc,OAAQb,EAAEhgB,UAAU8gB,SAGlBha,EAAOia,QAAOvB,EAAI1Y,OAAOia,MAAQja,EAAOia,OAGxCvB,EAAIE,KAAOF,EAAIE,IAAI,KACrBF,EAAIE,IAAI,GAAGsB,GAAKxB,GAIlBA,EAAIb,aAGJa,EAAIyB,YAGAzB,EAAI1Y,OAAOyZ,OACTjG,EAAOa,SAAWqE,EAAI1Y,OAAOwZ,kBAC/Bzd,EAAE+T,GAAGtS,GAAG,eAAe,KACrBkb,EAAIe,MAAM,IAGZf,EAAIe,QAKDf,CACT,CAEA0B,MAAMC,GACJ,MAAM3B,EAAMhf,KACNe,EAASF,IACTvB,EAAWF,IACXwhB,EAAUve,EAAEse,GAAU3B,EAAI1Y,OAAOxE,IAAIoI,GAAG,GAC9C8U,EAAIE,IAAM0B,EACN5B,EAAIE,KAAOF,EAAIE,IAAI,KACrBF,EAAIld,GAAKkd,EAAIE,IAAI,GACjBF,EAAIld,GAAG0e,GAAKxB,EACZA,EAAI6B,IAAmC,QAA7BD,EAAQlV,IAAI,cAIxB,MAAMoV,EAAO,+BACPC,EAAQ,gCACd/B,EAAIgC,GAAK,GACLjgB,EAAOP,aACTwe,EAAIgC,GAAGC,KAAOlgB,EAAOP,WAAWsgB,GAChC9B,EAAIgC,GAAGE,MAAQngB,EAAOP,WAAWugB,IAEnC/B,EAAImC,oBAAsB,SAA4BC,GAAqB,IAApBhV,QAAEA,EAAOiV,MAAEA,GAAOD,EACvE,IAAKhV,EACH,OAEF,MAAM5J,EAAOlD,EAASxB,cAAc,QAChCujB,IAAUP,GACZte,EAAKwD,UAAUC,IAAI,QACnB+Y,EAAIsC,UAAW,EACftC,EAAItC,KAAK,kBAAkB,IAClB2E,IAAUN,IACnBve,EAAKwD,UAAU6E,OAAO,QACtBmU,EAAIsC,UAAW,EACftC,EAAItC,KAAK,kBAAkB,G,EAG/BsC,EAAItC,KAAK,QACX,CAEA+D,YACE,MAAMzB,EAAMhf,UACoB,IAArBgf,EAAI1Y,OAAOia,OAAyBvB,EAAI1Y,OAAOia,MAAMgB,QAC9DvC,EAAIuB,MAAQvB,EAAI1Y,OAAOia,MAEvBvB,EAAIuB,MAAQvB,EAAIwC,YAAYxC,EAAI1Y,OAAOia,MAE3C,CAEAkB,qBACE,MAAM1gB,EAASF,IACTvB,EAAWF,IACjB,IAAK2B,EAAOP,WAAY,OACxB,MAAMwe,EAAMhf,KACNwC,EAAOlD,EAASxB,cAAc,QAChCkhB,EAAIgC,GAAGC,MAAQjC,EAAIgC,GAAGE,QACxBlC,EAAIgC,GAAGC,KAAKS,YAAY1C,EAAImC,qBAC5BnC,EAAIgC,GAAGE,MAAMQ,YAAY1C,EAAImC,sBAE3BnC,EAAIgC,GAAGC,MAAQjC,EAAIgC,GAAGC,KAAK7U,SAC7B5J,EAAKwD,UAAUC,IAAI,QACnB+Y,EAAIsC,UAAW,EACftC,EAAItC,KAAK,kBAAkB,IAClBsC,EAAIgC,GAAGE,OAASlC,EAAIgC,GAAGE,MAAM9U,UACtC5J,EAAKwD,UAAU6E,OAAO,QACtBmU,EAAIsC,UAAW,EACftC,EAAItC,KAAK,kBAAkB,GAE/B,CAEAiF,sBAEE,IADe9gB,IACHL,WAAY,OACxB,MAAMwe,EAAMhf,KACRgf,EAAIgC,GAAGC,MAAMjC,EAAIgC,GAAGC,KAAKW,eAAe5C,EAAImC,qBAC5CnC,EAAIgC,GAAGE,OAAOlC,EAAIgC,GAAGE,MAAMU,eAAe5C,EAAImC,oBACpD,CAEAU,iBAAiBnhB,GACf,MAAMse,EAAMhf,KACZgf,EAAI8C,OAAOC,gBACT/C,EAAI1Y,OAAO6Z,UACXnB,EAAI1Y,OAAO8Z,aACX,CAAE4B,iBAAkB,CAAElgB,GAAIkd,EAAIE,IAAI,MACjCpd,IACCkd,EAAIE,IAAM7c,EAAEP,GACZkd,EAAIE,IAAI,GAAGsB,GAAKxB,EAChBA,EAAIiD,aAAengB,EAAGogB,YACtBlD,EAAIld,GAAKkd,EAAIE,IAAI,GACbxe,GAAUA,GAAU,IAE1B,QAEJ,CAEAqf,KAAKY,GACH,MAAM3B,EAAMhf,KAEZgf,EAAI0B,MAAMC,GAEV,MAAMZ,EAAOA,KACX,GAAIf,EAAImD,YAAa,OAErBnD,EAAIE,IAAIkD,SAAS,wBAGbpD,EAAI6B,KACNxe,EAAE,QAAQkI,KAAK,MAAO,OAIpByU,EAAI1Y,OAAO0Z,cACbhB,EAAIyC,qBAIN,MAAM1gB,EAASF,IACfE,EAAOtD,iBAAiB,WAAW,KACjCuhB,EAAIqB,QAAS,EACbrB,EAAItC,KAAK,WACTsC,EAAItC,KAAK,cAAc,EAAM,IAE/B3b,EAAOtD,iBAAiB,UAAU,KAChCuhB,EAAIqB,QAAS,EACbrB,EAAItC,KAAK,UACTsC,EAAItC,KAAK,cAAc,EAAK,IAI9BsC,EAAIE,IAAIkD,SAAS,gBAGjB/f,EAAE,QAAQggB,YAAY,iBAAiBD,SAASpD,EAAIjD,OAGpD,MAAMjC,EAASkF,EAAIlF,OACfkF,EAAI1Y,OAAO2Z,oBAAoC,QAAdjB,EAAIjD,OAAmBjC,EAAOC,KACjE1X,EAAE,QAAQ+f,SAAS,wBAEjBpD,EAAI1Y,OAAO4Z,sBAAsC,QAAdlB,EAAIjD,OAAmBjC,EAAOC,KACnE1X,EAAE,QAAQ+f,SAAS,0BAIrB9O,GAAU,KACR0L,EAAIE,IAAImD,YAAY,uBAAuB,IAG7CrD,EAAImD,aAAc,EAClBnD,EAAItC,KAAK,OAAO,EASlB,OAPIsC,EAAI1Y,OAAO6Z,WAAanB,EAAI1Y,OAAO8Z,aACrCpB,EAAI6C,kBAAiB,KACnB9B,GAAM,IAGRA,IAEKf,CACT,CAGAsD,aACE,OAAOjD,GAAQiD,cAAW5e,UAC5B,CAGA6e,cACE,OAAOlD,GAAQkD,eAAY7e,UAC7B,CAEA8e,cAAcC,EAAM7hB,GAClB,MAAMoe,EAAMhf,KACZ,OAAKgf,EAAIjB,YAAeiB,EAAIjB,WAAW0E,IAChCzD,EAAIjB,WAAW0E,GAAM7hB,IADyB,EAEvD,CAGIyB,QACF,OAAOA,CACT,CAEWqgB,mBACT,OAAOrgB,CACT,CAEWA,eACT,OAAOA,CACT,CAEWyX,oBACT,OAAON,IACT,CAEWb,qBACT,OAAOE,IACT,CAEW2F,mBACT,OAAOxB,EACT,CAEW2F,oBACT,OAAO1G,EACT,EAGFoD,GAAQuD,KCnUK,SAACC,EAAKzc,GACjB,MAAMwD,EAAQxD,GAAS,GAAG,IAAAV,MAAAhC,UAAApG,OADCqG,EAAI,IAAA1C,MAAAyE,MAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJjC,EAAIiC,EAAAlC,aAAAkC,GAE/B,MAAMxH,EAAWuF,GAAQ,GAEnBmf,EAAc/lB,OAAOI,KAAKyM,GAC7B9D,KAAKyE,GACY,MAAZA,EAAK,GACHX,EAAMW,GAAcA,EAAKtC,QAAQ,IAAK,IACnC,GAED,GAAEsC,MAASX,EAAMW,QAE1BpI,QAAQoI,KAAWA,IACnBuI,KAAK,KAER,GAAI,CAAC,OAAQ,MAAO,SAAU,UAAW,OAAQ,SAASpQ,QAAQmgB,IAAQ,EACxE,MAAQ,IAAGA,KAAOC,OAAiBrgB,OAMrC,MAAQ,IAAGogB,KAAOC,KAJM1kB,EACrB+D,QAAQ4D,KAAQA,IAChBD,KAAKC,GAAO9E,MAAMc,QAAQgE,GAAKA,EAAE+M,KAAK,IAAM/M,IAC5C+M,KAAK,QAC6C+P,KAAOpgB,MAC9D,ED6SA4c,GAAQ0D,aEjUO,SAAsBnE,QAAU,IAAVA,MAAa,IAChD,MAAMC,gBAAEA,EAAiB/hB,YAAagiB,EAAWE,IAAEA,GAAQJ,EACrDtM,EAAUtV,EACd2hB,GAAmB,CACjBE,kBACA/hB,YAAagiB,EACbE,MACAD,QAAS,YAEX,CACEiE,KAAKlhB,EAAI0F,EAASyb,GAChB,IAAI/D,EAAM7c,EAAEP,GACZ,GAAIod,EAAI5hB,OAAS,GAAK2lB,EAAU,CAE9B,MAAMC,EAAc7gB,EAAE4gB,GAAUhZ,QAAQ,SACpCiZ,EAAY5lB,QACd4hB,EAAI/X,MAAMgc,IACR,MAAMC,EAAW/gB,EAAE8gB,GACfC,EAASnZ,QAAQiZ,GAAa,KAAOA,EAAY,KACnDhE,EAAMkE,EACR,GAGN,CAIA,GAHIlE,EAAI5hB,OAAS,IACf4hB,EAAMA,EAAIhV,GAAGgV,EAAI5hB,OAAS,KAEvB4hB,EAAI5hB,OAAQ,OACjB,IAAI0Z,EAAWkI,EAAI,GAAGmE,QACtB,IAAKrM,EAAU,CACb,MAAM1Q,EAAS4Y,EAAI7U,UACnB2M,EAAW,IAAI8H,EAAYE,EAAK,CAAEld,GAAIod,KAAQ5Y,GAChD,CACA,OAAO0Q,EAASgM,KAAKxb,E,EAEvB8b,MAAMxhB,EAAsB0F,EAASyb,QAA7B,IAAFnhB,MAAK+c,GACT,IAAIK,EAAM7c,EAAEP,GACZ,IAAKod,EAAI5hB,OAAQ,OACjB,GAAI4hB,EAAI5hB,OAAS,EAAG,CAElB,IAAIimB,EACJ,GAAIN,EAAU,CACZ,MAAMO,EAAYnhB,EAAE4gB,GAChBO,EAAUlmB,SACZimB,EAAYC,EAAUvZ,QAAQiV,GAElC,CAEEA,EADEqE,GAAaA,EAAUjmB,OAAS,EAC5BimB,EAEArE,EAAIhV,GAAGgV,EAAI5hB,OAAS,EAE9B,CACA,IAAI0Z,EAAWkI,EAAI,GAAGmE,QACtB,IAAKrM,EAAU,CACb,MAAM1Q,EAAS4Y,EAAI7U,UACnB2M,EAAW,IAAI8H,EAAYE,EAAK,CAAEld,GAAIod,KAAQ5Y,GAChD,CACA,OAAO0Q,EAASsM,MAAM9b,EACxB,IAGJ,OAAO8K,CACT,EFmQA+M,GAAQV,mBAAqBA,GAE7BU,GAAQiD,WDnUR,SAAoBmB,GAClB,MAAMpE,EAAUrf,KACVe,EAASF,IACTvB,EAAWF,IACjB,OAAO,IAAIskB,SAAQ,CAACC,EAASC,KAC3B,MAAM5E,EAAMK,EAAQrI,SACpB,IAAI6M,EACAC,EACAC,EACJ,GAAKN,EAAL,CAcA,GAA4B,iBAAjBA,EAA2B,CACpC,MAAMO,EAAmBP,EAAa/Y,MAAM,iBAC5C,GACE+Y,EAAa/gB,QAAQ,KAAO,GAC5BshB,GACAA,EAAiB,GAAG1mB,SAAWmmB,EAAanmB,OAC5C,CACA,IAAK0hB,GAAQA,IAAQA,EAAI1Y,OAAOuZ,gBAM9B,YALA+D,EACE,IAAItE,MACF,uFAKNuE,EAAc,GAAE7E,EAAI1Y,OAAOuZ,mBAAmB4D,KAAgBA,WAChE,MACEI,EAAaJ,CAEjB,KAAmC,mBAAjBA,EAChBM,EAAaN,EAGbK,EAAYL,EAGd,GAAIM,EAAY,CACd,MAAM7G,EAAS6G,EAAW1E,GAAS,GACnC,IAAKnC,EAIH,YAHA0G,EACE,IAAItE,MAAM,0EAKd,GAAID,EAAQnd,UAAUqb,SAAW8B,EAAQnd,UAAUqb,QAAQL,EAAO1Z,MAEhE,YADAmgB,IAIFlF,EAAQvB,GAERyG,GACF,CACA,GAAIG,EAAW,CACb,MAAM5G,EAAS4G,EACf,IAAK5G,EAEH,YADA0G,EAAO,IAAItE,MAAM,iEAInB,GAAID,EAAQnd,UAAUqb,SAAW8B,EAAQnd,UAAUqb,QAAQL,EAAO1Z,MAEhE,YADAmgB,IAIFlF,EAAQvB,GAERyG,GACF,CACA,GAAIE,EAAY,CACd,GAAIzE,GAAe1c,QAAQmhB,IAAe,EAExC,YADAF,IAGFvE,GAAepd,KAAK6hB,GACpB,MAAMI,EAAa,IAAIP,SAAQ,CAACQ,EAAeC,KAC7C9E,EAAQ+E,QAAQ7iB,IACdsiB,GACCQ,IACC,MACMC,EAAoB,gCADP1jB,MAGb2jB,EAAWjlB,EAASnB,cAAc,UACxComB,EAAS1hB,UAAa,UAASyhB,+DAA8ED,EAAc5hB,UAC3HJ,EAAE,QAAQsH,OAAO4a,GAEjB,MAAMxC,EAAkBhhB,EAAOujB,UACxBvjB,EAAOujB,GACdjiB,EAAEkiB,GAAU1Z,SAEZ,MAAMqS,EAAS6E,EAAgB1C,GAAS,GAEnCnC,GAQDmC,EAAQnd,UAAUqb,SAAW8B,EAAQnd,UAAUqb,QAAQL,EAAO1Z,OAMlEib,EAAQvB,GALNgH,KARAC,EACE,IAAI7E,MAAO,4CAA2CuE,UAc3C,IAEjB,CAACW,EAAKC,KACJN,EAAaK,EAAKC,EAAO,GAE5B,IAEGC,EAAY,IAAIhB,SAASiB,IAC7BtF,EAAQ+E,QAAQ7iB,IACdsiB,EACG5b,QAAQ,WAAY+W,EAAI6B,IAAM,WAAa,QAC3C5Y,QAAQ,MAAO+W,EAAI6B,IAAM,WAAa,SACxC+D,IACC,MAAMC,EAAUvlB,EAASnB,cAAc,SACvC0mB,EAAQhiB,UAAY+hB,EACpBviB,EAAE,QAAQsH,OAAOkb,GAEjBF,GAAc,IAEhB,KACEA,GAAc,GAEjB,IAGHjB,QAAQoB,IAAI,CAACb,EAAYS,IACtBK,MAAK,KACJpB,GAAS,IAEVqB,OAAOC,IACNrB,EAAOqB,EAAI,GAEjB,CA9IA,MAFErB,EAAO,IAAItE,MAAM,2CAInB,SAASb,EAAQvB,GACfmC,EAAQf,IAAIpB,GAER8B,IACFA,EAAI/B,gBAAgBC,EAAQ8B,EAAI1Y,QAChC0Y,EAAIvB,UAAUP,GAElB,CAqIA,GAEJ,ECwKAmC,GAAQkD,YAAc,SAAqBhF,GACzC,OAAOmG,QAAQoB,IAAIvH,EAAQzX,KAAKoX,GAAWmC,GAAQiD,WAAWpF,KAChE,EGxUA,IAAAgI,GAAe,CACb1hB,KAAM,SACN+a,OAAQ,CACN/E,cAEF1V,GAAI,CACFic,OACE,MAAMzgB,EAAWF,IACX0a,EAASN,KACT3T,EAAa,GACbrD,EAAOlD,EAASxB,cAAc,QAC9BqnB,EAAgB7lB,EAASxB,cAC7B,sDAEG0E,IAEHsX,EAAO4B,YACP5B,EAAOC,KACPoL,GAC0B,sBAA1BA,EAAcC,SAEdvf,EAAW7D,KAAK,wBAIlB6D,EAAW7D,KAAM,sBAAqB8E,KAAK4L,MAAMoH,EAAO8B,eAEpD9B,EAAOyB,KAAOzB,EAAOI,QACvBrU,EAAW7D,KAAM,UAAS8X,EAAOyB,MACxBzB,EAAOI,UAChBrU,EAAW7D,KAAK,kBACZ8X,EAAOyB,IACT1V,EAAW7D,KAAM,UAAS8X,EAAOyB,OAGjCzB,EAAOa,SACT9U,EAAW7D,KAAK,kBAEd8X,EAAOe,WACThV,EAAW7D,KAAK,oBAIlB6D,EAAWzI,SAASmO,IAClB/I,EAAKwD,UAAUC,IAAIsF,EAAU,IAEjC,IC/CJ8Z,GAAe,CACb7hB,KAAM,UACN+a,OAAQ,CACN1F,gBCHJyM,GAAe,CACb9hB,KAAM,QACNpC,MAAO,CACLmkB,UAEFhH,OAAQ,CACNgH,WCLJC,GAAe,CACbhiB,KAAM,SACN0a,SACE,MAAMc,EAAMhf,KACZgf,EAAIyG,QAAU,KACZ,IAAKzG,EAAIld,GAAI,MAAO,CAAEmZ,MAAO,EAAGE,OAAQ,EAAGjN,KAAM,EAAGD,IAAK,GACzD,MAAMyX,EAAS1G,EAAIE,IAAIwG,UAChBzK,EAAOE,EAAQjN,EAAMD,GAAO,CACjC+Q,EAAIld,GAAGsN,YACP4P,EAAIld,GAAGqN,aACPuW,EAAOxX,KACPwX,EAAOzX,KAMT,OAJA+Q,EAAI/D,MAAQA,EACZ+D,EAAI7D,OAASA,EACb6D,EAAI9Q,KAAOA,EACX8Q,EAAI/Q,IAAMA,EACH,CAAEgN,QAAOE,SAAQjN,OAAMD,MAAK,C,EAGvCnK,GAAI,CACFic,OACE,MAAMf,EAAMhf,KACNe,EAASF,IAGfme,EAAIyG,UAGJ1kB,EAAOtD,iBACL,UACA,KACEuhB,EAAItC,KAAK,SAAS,IAEpB,GAIF3b,EAAOtD,iBAAiB,qBAAqB,KAC3CuhB,EAAItC,KAAK,oBAAoB,G,EAGjCiJ,oBACE,MAAMrmB,EAAWF,IACFoa,KAEJa,OACT/a,EAAS9B,KAAKuQ,WAAa,EAC3BzN,YAAW,KACThB,EAAS9B,KAAKuQ,WAAa,CAAC,GAC3B,G,EAGP7I,SACclF,KACRylB,SACN,ICvDJ,MAAMG,GAAU,GAChB,IAAIC,GAAgB,EAEpB,MAAMC,GACJhpB,YAAYD,GACVE,OAAOsJ,OAAOrG,KAAMnD,EACtB,EAGF,MAAMkpB,WAAqBzG,MACzBxiB,YAAYD,GACVsE,QACApE,OAAOsJ,OAAOrG,KAAMnD,EACtB,EAGF,MAAMunB,GAAW4B,GACf,IAAItC,SAAQ,CAACC,EAASC,KACpB,MAAM7iB,EAASF,IACTvB,EAAWF,IACX6mB,EAAqBjpB,EAAO,GAAI4oB,IACtC,uEACGtiB,MAAM,KACNlG,SAAS8oB,WACDD,EAAmBC,EAAa,IAE3C,MAAMzG,EAAWziB,EACf,CACEyW,IAAK1S,EAAOpC,SAASuX,WACrBoG,OAAQ,MACR1K,MAAM,EACNuU,OAAO,EACPC,OAAO,EACPC,KAAM,GACNC,SAAU,GACVC,QAAS,GACTC,UAAW,GACXC,WAAY,GACZC,aAAa,EACbC,SAAU,OACVC,YAAa,oCACbC,QAAS,GAEXZ,GAGF,IAAIa,EAEJ,MAAM5U,EAAUlV,EAAO,GAAIyiB,EAAUuG,GAKrC,GAJIA,EAAee,kBACjB7U,EAAQ6U,gBAAkBf,EAAee,iBAGvC7U,EAAQ6U,iBAAmB7U,EAAQ6U,gBAAgBC,SAErD,YADApD,EAAO,IAAImC,GAAa,CAAE7T,UAASuS,OAAQ,WAAYwC,QAAS,cAKlE,SAASC,EAAahB,GAWpB,IAAIiB,EACAC,EAAoB,IAAA1hB,MAAAhC,UAAApG,OAZasU,EAAI,IAAA3Q,MAAAyE,MAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJgM,EAAIhM,EAAAlC,aAAAkC,GAqBzC,OARIggB,GAAQM,KACViB,EAAsBvB,GAAQM,MAAiBtU,IAE7CM,EAAQgU,KACVkB,EAAsBlV,EAAQgU,MAAiBtU,IAEd,kBAAxBuV,IAAmCA,GAAsB,GACjC,kBAAxBC,IAAmCA,GAAsB,KAElElV,EAAQ6U,kBACR7U,EAAQ6U,gBAAgBC,UACN,iBAAjBd,GACkB,eAAjBA,GACiB,eAAjBA,KAIGiB,GAAuBC,EAChC,CAIA,GADAN,EAAiBI,EAAa,eAAgBhV,IACvB,IAAnB4U,EAEF,YADAlD,EAAO,IAAImC,GAAa,CAAE7T,UAASuS,OAAQ,WAAYwC,QAAS,cAK9D/U,EAAQmV,OAAMnV,EAAQoK,OAASpK,EAAQmV,MAG3C,IAAIC,EAAepV,EAAQuB,IAAI/Q,QAAQ,MAAQ,EAAI,IAAM,IAGzD,MAAM4Z,EAASpK,EAAQoK,OAAO1R,cAG9B,IACc,QAAX0R,GAA+B,SAAXA,GAAgC,YAAXA,GAAmC,WAAXA,IAClEpK,EAAQN,KACR,CACA,IAAI2V,EAGkCA,EAFV,iBAAjBrV,EAAQN,KAEbM,EAAQN,KAAKlP,QAAQ,MAAQ,EAAgBwP,EAAQN,KAAKtO,MAAM,KAAK,GACvD4O,EAAQN,KAGboC,EAAgB9B,EAAQN,MAEnC2V,EAAWjqB,SACb4U,EAAQuB,KAAO6T,EAAeC,EACT,MAAjBD,IAAsBA,EAAe,KAE7C,CAGA,GAAyB,SAArBpV,EAAQyU,UAAuBzU,EAAQuB,IAAI/Q,QAAQ,cAAgB,EAAG,CACxE,MAAMwjB,EAAgB,WAAU9lB,KAAKmT,OAASsS,IAAiB,KAC/D,IAAI2B,EACJ,MAAMC,EAAgBvV,EAAQuB,IAAInQ,MAAM,aACxC,IAAIokB,EAAc,GAAED,EAAc,cAAcvB,IAChD,GAAIuB,EAAc,GAAG/kB,QAAQ,MAAQ,EAAG,CACtC,MAAMilB,EAAUF,EAAc,GAC3BnkB,MAAM,KACNnB,QAAQL,GAAOA,EAAGY,QAAQ,KAAO,IACjCoQ,KAAK,KACJ6U,EAAQrqB,OAAS,IAAGoqB,GAAe,IAAGC,IAC5C,CAGA,IAAIC,EAAStoB,EAASnB,cAAc,UA8BpC,OA7BAypB,EAAOP,KAAO,kBACdO,EAAOC,QAAU,WACftnB,aAAainB,GACbN,EAAa,QAAS,KAAM,cAAe,eAC3CtD,EAAO,IAAImC,GAAa,CAAE7T,UAASuS,OAAQ,cAAewC,QAAS,iBACnEC,EAAa,WAAY,KAAM,c,EAEjCU,EAAO1qB,IAAMwqB,EAGb3mB,EAAOmlB,GAAgB,SAAuBtU,GAC5CrR,aAAainB,GACbN,EAAa,UAAWtV,GACxBgW,EAAO7c,WAAWC,YAAY4c,GAC9BA,EAAS,YACF7mB,EAAOmlB,GACdvC,EAAQ,IAAImC,GAAgB,CAAE5T,UAASN,S,EAEzCtS,EAASxB,cAAc,QAAQ2L,YAAYme,QAEvC1V,EAAQ2U,QAAU,IACpBW,EAAelnB,YAAW,KACxBsnB,EAAO7c,WAAWC,YAAY4c,GAC9BA,EAAS,KACTV,EAAa,QAAS,KAAM,UAAW,WACvCtD,EAAO,IAAImC,GAAa,CAAE7T,UAASuS,OAAQ,UAAWwC,QAAS,YAAa,GAC3E/U,EAAQ2U,UAIf,CAGe,QAAXvK,GAA+B,SAAXA,GAAgC,YAAXA,GAAmC,WAAXA,IAC7C,IAAlBpK,EAAQkU,QACVlU,EAAQuB,KAAQ,GAAE6T,YAAuBlnB,KAAKmT,SAKlD,MAAMiR,EAAM,IAAIsD,eAEhB,GAAI5V,EAAQ6U,gBAAiB,CAC3B,IAAIgB,GAAU,EACd7V,EAAQ6U,gBAAgBiB,QAAU,KAC5BD,IACJA,GAAU,EACVvD,EAAIyD,QACJrE,EAAO,IAAImC,GAAa,CAAE7T,UAASsS,MAAKC,OAAQ,WAAYwC,QAAS,cAAc,CAEvF,CAQA,GALAzC,EAAIkD,WAAaxV,EAAQuB,IACzB+Q,EAAI0D,kBAAoBhW,EAGxB4U,EAAiBI,EAAa,aAAc1C,EAAKtS,IAC1B,IAAnB4U,EAEF,YADAlD,EAAO,IAAImC,GAAa,CAAE7T,UAASsS,MAAKC,OAAQ,WAAYwC,QAAS,cAKvEzC,EAAIxB,KAAK1G,EAAQpK,EAAQuB,IAAKvB,EAAQiU,MAAOjU,EAAQmU,KAAMnU,EAAQoU,UAGnE,IAAI6B,EAAW,KAEf,IAAgB,SAAX7L,GAAgC,QAAXA,GAA+B,UAAXA,IAAuBpK,EAAQN,KAC3E,GAAIM,EAAQwU,YAAa,CAGvB,GAF0B,CAAC0B,YAAaC,KAAMC,SAAUC,UAElC7lB,QAAQwP,EAAQN,KAAK9U,cAAgB,EACzDqrB,EAAWjW,EAAQN,SACd,CAEL,MAAM4W,EAAY,8BAA6BpoB,KAAKmT,MAAM2C,SAAS,MAEvC,wBAAxBhE,EAAQ0U,YACVpC,EAAIiE,iBAAiB,eAAiB,iCAAgCD,KAEtEhE,EAAIiE,iBAAiB,eAAgBvW,EAAQ0U,aAE/CuB,EAAW,GACX,IAAIvW,EAAOoC,EAAgB9B,EAAQN,MACnC,GAA4B,wBAAxBM,EAAQ0U,YAAuC,CACjDhV,EAAOA,EAAKtO,MAAM,KAClB,MAAMolB,EAAU,GAChB,IAAK,IAAI5lB,EAAI,EAAGA,EAAI8O,EAAKtU,OAAQwF,GAAK,EACpC4lB,EAAQ1mB,KACL,yCAAwC4P,EAAK9O,GAAGQ,MAAM,KAAK,cAC1DsO,EAAK9O,GAAGQ,MAAM,KAAK,UAIzB6kB,EAAY,KAAIK,QAAeE,EAAQ5V,KAAM,KAAI0V,aAAoBA,SACvE,MACEL,EADiC,qBAAxBjW,EAAQ0U,YACN+B,KAAKC,UAAU1W,EAAQN,MAEvBA,CAEf,CACF,MACEuW,EAAWjW,EAAQN,KACnB4S,EAAIiE,iBAAiB,eAAgBvW,EAAQ0U,aAGxB,SAArB1U,EAAQyU,UAAyBzU,EAAQqU,SAAYrU,EAAQqU,QAAQsC,QACvErE,EAAIiE,iBAAiB,SAAU,oBAI7BvW,EAAQqU,SACVxpB,OAAOI,KAAK+U,EAAQqU,SAASnpB,SAAS0rB,SACO,IAAhC5W,EAAQqU,QAAQuC,IAC3BtE,EAAIiE,iBAAiBK,EAAY5W,EAAQqU,QAAQuC,GAAY,SAK9B,IAAxB5W,EAAQ6W,cACjB7W,EAAQ6W,YAEN,0BAA0BC,KAAK9W,EAAQuB,MAAQwV,OAAOC,KAAOnoB,EAAOpC,SAASE,MAG5EqT,EAAQ6W,aACXvE,EAAIiE,iBAAiB,mBAAoB,kBAGvCvW,EAAQsU,WACVxpB,EAAOwnB,EAAKtS,EAAQsU,WAItBhC,EAAI2E,OAAS,WACX,GAAK3E,EAAIC,QAAU,KAAOD,EAAIC,OAAS,KAAuB,IAAfD,EAAIC,OAAc,CAC/D,IAAI2E,EACJ,GAAyB,SAArBlX,EAAQyU,SAAqB,CAC/B,IAAI0C,EACJ,IACED,EAAeT,KAAKW,MAAM9E,EAAI+E,a,CAC9B,MAAOtE,GACPoE,GAAa,CACf,CACKA,GAIHnC,EAAa,QAAS1C,EAAK,aAAc,cACzCZ,EAAO,IAAImC,GAAa,CAAE7T,UAASsS,MAAKC,OAAQ,aAAcwC,QAAS,kBAJvEC,EAAa,UAAWkC,EAAc5E,EAAIC,OAAQD,GAClDb,EAAQ,IAAImC,GAAgB,CAAE5T,UAASN,KAAMwX,EAAc3E,OAAQD,EAAIC,OAAQD,SAKnF,MACE4E,EACuB,SAArB5E,EAAIgF,cAAgD,KAArBhF,EAAIgF,aAC/BhF,EAAI+E,aACJ/E,EAAIiF,SACVvC,EAAa,UAAWkC,EAAc5E,EAAIC,OAAQD,GAClDb,EAAQ,IAAImC,GAAgB,CAAE5T,UAASN,KAAMwX,EAAc3E,OAAQD,EAAIC,OAAQD,QAEnF,MACE0C,EAAa,QAAS1C,EAAKA,EAAIC,OAAQD,EAAIkF,YAC3C9F,EAAO,IAAImC,GAAa,CAAE7T,UAASsS,MAAKC,OAAQD,EAAIC,OAAQwC,QAASzC,EAAIkF,cAEvExX,EAAQuU,aACNb,GAAQa,YAAcb,GAAQa,WAAWjC,EAAIC,SAC/CmB,GAAQa,WAAWjC,EAAIC,QAAQD,GAC7BtS,EAAQuU,WAAWjC,EAAIC,SAASvS,EAAQuU,WAAWjC,EAAIC,QAAQD,IAErE0C,EAAa,WAAY1C,EAAKA,EAAIC,O,EAGpCD,EAAIqD,QAAU,WACZX,EAAa,QAAS1C,EAAKA,EAAIC,OAAQD,EAAIC,QAC3Cb,EAAO,IAAImC,GAAa,CAAE7T,UAASsS,MAAKC,OAAQD,EAAIC,OAAQwC,QAASzC,EAAIkF,cACzExC,EAAa,WAAY1C,EAAK,Q,EAI5BtS,EAAQ2U,QAAU,IACpBrC,EAAIqC,QAAU3U,EAAQ2U,QACtBrC,EAAImF,UAAY,KACdzC,EAAa,QAAS1C,EAAK,UAAW,WACtCZ,EAAO,IAAImC,GAAa,CAAE7T,UAASsS,MAAKC,OAAQ,UAAWwC,QAAS,aACpEC,EAAa,WAAY1C,EAAK,UAAU,GAK5CsC,EAAiBI,EAAa,aAAc1C,EAAKtS,IAC1B,IAAnB4U,EAMJtC,EAAIoF,KAAKzB,GALPvE,EAAO,IAAImC,GAAa,CAAE7T,UAASsS,MAAKC,OAAQ,WAAYwC,QAAS,aAKrD,IAGtB,SAAS4C,GAAgBvN,GACvB,IAAK7I,EAAK7B,EAAMkY,EAASC,EAAOpD,GAAY,GAAG,IAAAhX,MAAAjM,UAAApG,OADbqG,EAAI,IAAA1C,MAAA0O,MAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJjM,EAAIiM,EAAAlM,aAAAkM,GAEf,mBAAZjM,EAAK,IACb8P,EAAKqW,EAASC,EAAOpD,GAAYhjB,GAEjC8P,EAAK7B,EAAMkY,EAASC,EAAOpD,GAAYhjB,EAE1C,CAACmmB,EAASC,GAAO3sB,SAASsD,IACA,iBAAbA,IACTimB,EAAWjmB,EACPA,IAAaopB,EAASA,OAAUxgB,EAC/BygB,OAAQzgB,EACf,IAEFqd,EAAWA,IAAwB,SAAXrK,GAAgC,aAAXA,EAAwB,YAAShT,GAC9E,MAAM0c,EAAiB,CACrBvS,MACA6I,OAAmB,SAAXA,GAAgC,aAAXA,EAAwB,OAAS,MAC9D1K,OACAkY,UACAC,QACApD,YAUF,MARe,aAAXrK,GACFtf,EAAOgpB,EAAgB,CACrBY,YAAa,mBACbF,aAAa,EACbqC,aAAa,EACbnX,KAAsB,iBAATA,EAAoBA,EAAO+W,KAAKC,UAAUhX,KAGpDwS,GAAQ4B,EACjB,CAEAjpB,OAAOsJ,OAAO+d,GAAS,CACrB7iB,IAAK,mBAAA0P,EAAAvN,UAAApG,OAAIqG,EAAI1C,UAAAgQ,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJvN,EAAIuN,GAAAxN,UAAAwN,GAAA,OAAK2Y,GAAgB,SAAUlmB,EAAK,EACjDqmB,KAAM,mBAAA3e,EAAA3H,UAAApG,OAAIqG,EAAI1C,UAAAoK,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ3H,EAAI2H,GAAA5H,UAAA4H,GAAA,OAAKue,GAAgB,UAAWlmB,EAAK,EACnDsmB,KAAM,mBAAA9b,EAAAzK,UAAApG,OAAIqG,EAAI1C,UAAAkN,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJzK,EAAIyK,GAAA1K,UAAA0K,GAAA,OAAKyb,GAAgB,UAAWlmB,EAAK,EACnDumB,QAAS,mBAAAxd,EAAAhJ,UAAApG,OAAIqG,EAAI1C,UAAAyL,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJhJ,EAAIgJ,GAAAjJ,UAAAiJ,GAAA,OAAKkd,GAAgB,UAAWlmB,EAAK,EACtDwmB,SAAU,mBAAAzb,EAAAhL,UAAApG,OAAIqG,EAAI1C,UAAAyN,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJhL,EAAIgL,GAAAjL,UAAAiL,GAAA,OAAKkb,GAAgB,cAAelmB,EAAK,IAG7DygB,GAAQ2C,gBAAkB,KACxB,MAAMqD,EAAY,CAChBpD,UAAU,EACVgB,QAAS,KACTC,QACEmC,EAAUpD,UAAW,EACjBoD,EAAUpC,SAASoC,EAAUpC,SACnC,GAEF,OAAOoC,CAAS,EAGlBhG,GAAQiG,MAAQ,SAAenY,GACzBA,EAAQmV,OAASnV,EAAQoK,QAC3Btf,EAAOkV,EAAS,CAAEoK,OAAQpK,EAAQmV,OAEpCrqB,EAAO4oB,GAAS1T,EAClB,ECpZA,IAAAoY,GAAe,CACb9mB,KAAM,UACNpC,MAAO,CACLgjB,YAEF7F,OAAQ,CACN6F,aC0eJ,IAAAmG,GAAe,CACb/mB,KAAM,QACN8C,OAAQ,CACNwS,MAAO,CAEL0R,6BAA8B,EAE9BC,oBAAoB,EAEpBC,SAAS,EACTC,aAAc,IACdC,sBAAsB,EAEtBC,aAAa,EACbC,oBACE,iLACFC,wBAAwB,EACxBC,eAAe,EACfC,gBAAgB,EAChBC,mBAAmB,EACnBC,oBACE,uaACFC,yBACE,kIAGNlN,SACE,MACMvF,EAAUE,KAChB7b,EAFYgD,KAEA,CACVqrB,YAAa,CACXC,MAAO3S,EAAQG,MAAQ,aAAeH,EAAQK,cAAgB,cAAgB,YAC9EuS,KAAM5S,EAAQG,MAAQ,YAAcH,EAAQK,cAAgB,cAAgB,YAC5EwS,IAAK7S,EAAQG,MAAQ,WAAaH,EAAQK,cAAgB,YAAc,Y,EAI9ElV,GAAI,CACFic,KAlhBJ,WACE,MAAMf,EAAMhf,KACN8Z,EAASN,KACTb,EAAUE,KACV9X,EAASF,IACTvB,EAAWF,IACXkH,EAAS0Y,EAAI1Y,OAAOwS,MACpB2S,EAAYnlB,EAAQ,GAAE0Y,EAAIjD,oBAOhC,IAAI2P,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,EAEAC,EACAC,EACAC,EAiKAC,EA/JJ,SAASC,EAAqBzqB,GAC5B,MAAM7E,EAASoF,EAAEP,GACXmI,EAAUhN,EAAOgN,QAAQ3D,EAAOwkB,qBACtC,GAAI7tB,EAAO+M,QAAQ,oBAAoB1M,OACrC,OAAO,KAET,IAAIkvB,EAOJ,GANIvvB,EAAO8M,GAAGzD,EAAOwkB,uBACnB0B,EAAYvvB,GAEVgN,EAAQ3M,OAAS,IACnBkvB,EAAYA,EAAYA,EAAUvmB,IAAIgE,GAAWA,GAE/CuiB,GAAaA,EAAUlvB,OAAS,EAAG,CACrC,MAAMmvB,EAAe,GACrB,IAAIC,EACJ,IAAK,IAAI5pB,EAAI,EAAGA,EAAI0pB,EAAUlvB,OAAQwF,GAAK,EACpC4pB,IACHD,EAAazqB,KAAKwqB,EAAU1pB,KAE1B0pB,EAAUtiB,GAAGpH,GAAG6pB,SAAS,qCACzBH,EAAUtiB,GAAGpH,GAAG6pB,SAAS,kCAEzBD,GAAqB,IAI3BF,EAAYnqB,EAAEoqB,EAChB,CACA,OAAOD,GAAavvB,CACtB,CAEA,SAAS2vB,EAAuB9qB,GAE9B,OADoBA,EAAGmI,QAAQ,iBACZ3M,OAAS,CAC9B,CAEA,SAASuvB,IACFZ,GACLA,EAAiB7J,SAAS,eAC5B,CACA,SAAS0K,IACFb,IACLA,EAAiB5J,YAAY,gBAC7B4J,EAAmB,KACrB,CAqBA,SAASc,EAAa7N,EAAKxI,EAAGsW,GACvB9N,IACLiN,EAAanN,EAAIiO,YAAY/O,OAAOc,EAAKE,EAAKxI,EAAGsW,GACnD,CAEA,SAASE,IACFf,IACLA,EAAWthB,SACXshB,OAAa7iB,EACb8iB,OAAe9iB,EACjB,CACA,SAAS6jB,EAAiBrrB,GAExB,GADAsqB,EA9BF,SAA2BtqB,GACzB,MAAMsrB,EAAiB9mB,EAAO6kB,oBACxBjM,EAAM7c,EAAEP,GACd,GAAIod,EAAInV,GAAGqjB,GACT,OAAIlO,EAAIyN,SAAS,cAGVzN,EAET,GAAIA,EAAIjV,QAAQmjB,GAAgB9vB,OAAS,EAAG,CAC1C,MAAM+vB,EAAenO,EAAIjV,QAAQmjB,GAAgBljB,GAAG,GACpD,OAAImjB,EAAaV,SAAS,cAGnBU,CACT,CACA,OAAO,CACT,CAaiBC,CAAkBxrB,IAC5BsqB,GAAwC,IAAxBA,EAAa9uB,OAEhC,YADA8uB,OAAe9iB,GAGIsjB,EAAuBR,IAM1C7rB,aAAa8rB,GACbA,EAAgB/rB,YAAW,KACzB4sB,IACAH,EAAaX,EAAcV,EAAaC,EAAY,GACnD,MAPHuB,IACAH,EAAaX,EAAcV,EAAaC,GAQ5C,CACA,SAAS4B,IACPhtB,aAAa8rB,GACba,GACF,CACA,SAASM,IACFrB,IAAcC,GAAiBP,EAKlCqB,KAJA3sB,aAAa8rB,GACbU,EAAaX,EAAcV,EAAaC,GACxCrrB,WAAW4sB,EAAc,GAI7B,CA4BA,SAASO,IACPprB,EAAE,iBAAiBggB,YAAY,gBAC3BoJ,GACF+B,GAEJ,CAjKI1T,EAAOC,KAAOD,EAAO2B,SAEvB1a,EAAOtD,iBAAiB,cAAc,SAkLxC,IAAIiwB,GAAoB,EACpBC,EAAoB,KAExB,MAAMC,EAAwB,kCAC9B,IAAIC,GAAuB,EACvBC,EAAuB,KAuM3B,SAASC,EAAkBvqB,EAAM0F,GAC/B8V,EAAItC,KAAK,CACP1P,OAAQxJ,EACRoO,KAAM,CAAC1I,IAEX,CAIA,SAAS8kB,EAAoB9kB,GAC3B6kB,EAAkB,+BAAgC7kB,EACpD,CACA,SAAS+kB,EAAmB/kB,GAC1B6kB,EAAkB,6BAA8B7kB,EAClD,CACA,SAASglB,EAAkBhlB,GACzB6kB,EAAkB,2BAA4B7kB,EAChD,CACA,SAASilB,EAAqBjlB,GAC5B6kB,EAAkB,qBAAsB7kB,EAC1C,CACA,SAASklB,EAAoBllB,GAC3B6kB,EAAkB,oBAAqB7kB,EACzC,CACA,SAASmlB,EAAmBnlB,GAC1B6kB,EAAkB,mBAAoB7kB,EACxC,CAEA,MAAMiQ,IAAkBR,EAAQQ,iBAAkB,CAAEmV,SAAS,GACvDC,GAAyB5V,EAAQQ,iBAAkB,CAAEmV,SAAS,EAAMvhB,SAAS,GAC7EyhB,IAAiB7V,EAAQQ,iBAAkB,CAAEmV,SAAS,GACtDG,GAAwB9V,EAAQQ,iBAAkB,CAAEmV,SAAS,EAAOvhB,SAAS,GAEnFzN,EAAS7B,iBAAiB,SA3B1B,SAAkByL,GAChB6kB,EAAkB,QAAS7kB,EAC7B,IAyB6C,GAEzCyP,EAAQQ,iBACV7Z,EAAS7B,iBAAiBuhB,EAAIqM,YAAYC,MAAO0C,EAAqBS,GACtEnvB,EAAS7B,iBAAiBuhB,EAAIqM,YAAYE,KAAM0C,EAAoBO,GACpElvB,EAAS7B,iBAAiBuhB,EAAIqM,YAAYG,IAAK0C,EAAmBM,GAElElvB,EAAS7B,iBAAiBuhB,EAAIqM,YAAYC,MAAO6C,EAAsBI,GACvEjvB,EAAS7B,iBAAiBuhB,EAAIqM,YAAYE,KAAM6C,EAAqBjV,GACrE7Z,EAAS7B,iBAAiBuhB,EAAIqM,YAAYG,IAAK6C,EAAoBlV,KAEnE7Z,EAAS7B,iBACPuhB,EAAIqM,YAAYC,OACfpiB,IACC8kB,EAAoB9kB,GACpBilB,EAAqBjlB,EAAE,IAEzB,GAEF5J,EAAS7B,iBACPuhB,EAAIqM,YAAYE,MACfriB,IACC+kB,EAAmB/kB,GACnBklB,EAAoBllB,EAAE,IAExB,GAEF5J,EAAS7B,iBACPuhB,EAAIqM,YAAYG,KACftiB,IACCglB,EAAkBhlB,GAClBmlB,EAAmBnlB,EAAE,IAEvB,IAIAyP,EAAQG,OACVkG,EAAIlb,GAAG,SA7GT,SAAqBoF,GACnB,MAAMwlB,EAAcxlB,GAAKA,EAAEuI,QAAuB,gBAAbvI,EAAEuI,OACjCkd,EAAczlB,GAAKA,EAAEuI,QAAuB,gBAAbvI,EAAEuI,OAEjCoc,EAAuB3kB,GAAKA,EAAEuI,QAAuB,yBAAbvI,EAAEuI,OAChD,IAAImd,EAAoB5C,EA8BxB,OA7BIJ,GAAiB1iB,EAAEjM,SAAW2uB,EAE9BgD,IADEF,GAAeC,GAAed,GAKzBA,IACTe,GAAoB,GAElBtoB,EAAOokB,SAAWpkB,EAAOskB,sBAAwBkB,IACnD8C,GAAoB,GAElBA,IACF1lB,EAAE2lB,2BACF3lB,EAAE4lB,kBACF5lB,EAAE6lB,kBAGAzoB,EAAOokB,UACTqB,EAAiBzrB,YACf,KACEwrB,GAAe,CAAK,GAEtBhS,EAAOC,KAAOD,EAAOG,cAAgB,IAAM,MAG/C+R,GAAe,EACfJ,EAAgB,MAERgD,CACV,IA0EE5P,EAAIlb,GAAG,cA7QT,SAA0BoF,GAKxB,OAJA2iB,GAAU,EACVC,GAAe,EACfE,GAAe,EACfM,OAAchjB,EACVJ,EAAE8lB,cAAc1xB,OAAS,GACvB2uB,GAAkBa,KACf,IAEL5jB,EAAE+lB,QAAQ3xB,OAAS,GAAK2uB,GAC1Ba,IAEExmB,EAAOokB,UACLqB,GAAgBxrB,aAAawrB,GACjCA,EAAiBzrB,YAAW,KACtB4I,GAAKA,EAAE+lB,SAAW/lB,EAAE+lB,QAAQ3xB,OAAS,IACzCwuB,GAAe,EACf5iB,EAAE6lB,iBACF/C,GAAe,EACf3pB,EAAE6G,EAAEjM,QAAQ4G,QAAQ,UAAWqF,GAC/B8V,EAAItC,KAAK,UAAWxT,GAAE,GACrB5C,EAAOqkB,eAEZiB,EAAgB1iB,EAAEjM,OAClByuB,EAAcxiB,EAAE8lB,cAAc,GAAGE,MACjCvD,EAAcziB,EAAE8lB,cAAc,GAAGG,MACjCzB,EAAoBxkB,EAAEjM,OAAO+M,QAC3B,wEAEF6jB,EAAqC,QAAd7O,EAAIjD,OAAmB7S,EAAEjM,OAAO+M,QAAQ4jB,GAC3DF,IACFC,EAAoBD,EAAkB1jB,QAAQ,sBAG5C1D,EAAOukB,cACToB,EAAmBM,EAAqBX,GACpCK,IAAqBW,EAAuBX,GAC9CY,IACSZ,IACTC,EAAgB5rB,WAAWusB,EAAW,MAGtCpB,GACF0B,EAAiBvB,IAEZ,EACT,IAgOE5M,EAAIlb,GAAG,aA/NT,SAAyBoF,GACvB,IAAI4P,EACAsW,EACAC,GAAqB,EAEV,cAAXnmB,EAAEme,OACJvO,EAAQ5P,EAAE8lB,cAAc,GACxBI,EAAW9oB,EAAOkkB,8BAGpB,MAAM8E,EAAgBpmB,EAAE8lB,cAAc,GAAGE,MACnCK,EAAgBrmB,EAAE8lB,cAAc,GAAGG,MAYzC,QAV2B,IAAhB7C,IACTA,KACEA,GAAexlB,KAAKwP,IAAIiZ,EAAgB5D,GAAe7kB,KAAKwP,IAAIgZ,EAAgB5D,MAIhFmC,IAA0BvB,GAAeoB,GAAqBC,IAC5DzkB,EAAEyI,YAAYzI,EAAE6lB,kBAGjBzC,GAAeoB,GAAqBC,EAAmB,CAC1D,MAIM6B,EAJmBlwB,EAASmwB,iBAChCvmB,EAAE8lB,cAAc,GAAGU,QACnBxmB,EAAE8lB,cAAc,GAAGW,SAEa3lB,QAChC,uEAEEwlB,GAAY7B,EAAkBniB,SAASgkB,KACzCntB,EAAEmtB,GAAU3rB,QAAQ,QAAS,eAC7B+nB,EAAgB4D,EAEpB,CAEA,GAAIJ,GAAYtW,EAAO,CACrB,MAAMoW,EAAQpW,EAAMoW,MACdC,EAAQrW,EAAMqW,OAChBroB,KAAKwP,IAAI4Y,EAAQxD,GAAe0D,GAAYtoB,KAAKwP,IAAI6Y,EAAQxD,GAAeyD,KAC9EvD,GAAU,EAEd,MACEA,GAAU,EAEZ,GAAIA,EAAS,CAGX,GAFAG,GAAe,EAEX6B,EAAsB,CACxB,MAAM4B,EAAmBnwB,EAASmwB,iBAChCvmB,EAAE8lB,cAAc,GAAGU,QACnBxmB,EAAE8lB,cAAc,GAAGW,SAErB7B,EAAuB2B,EAAiBzlB,QAAQ4jB,GAE9CE,GACA7B,GACAA,EAAiB,KAAO6B,EAExBuB,GAAqB,EACZvB,GACTxtB,YAAW,KACT2rB,EAAmBM,EAAqBuB,GACxCjB,GAAW,GAGjB,CACIvmB,EAAOokB,SACTnqB,aAAawrB,GAEXzlB,EAAOukB,aAAewE,IACxB9uB,aAAa2rB,GACbY,KAEErB,GACF8B,GAEJ,CACF,IAiJEvO,EAAIlb,GAAG,YAhJT,SAAwBoF,GAWtB,OAVAojB,OAAchjB,EACdokB,GAAoB,EACpBC,EAAoB,KACpBE,GAAuB,EACvBttB,aAAa2rB,GACb3rB,aAAawrB,GACT+B,IACFzrB,EAAEyrB,GAAsBjqB,QAAQ,QAAS,wBACzCiqB,EAAuB,MAErBxuB,EAAS3B,gBAAkBuL,EAAEjM,QAC3BqJ,EAAOukB,aAAaiC,IACpBrB,GACF+B,KAEK,IAELlnB,EAAOukB,cACTgC,IACAvsB,WAAWwsB,EAAc,IAEvBrB,GACF+B,MAEGlnB,EAAOskB,sBAAwBkB,GAAiBE,KAC/C9iB,EAAEyI,YAAYzI,EAAE6lB,iBACpB/C,GAAe,GACR,GAGX,IAkHE1sB,EAAS7B,iBAAiB,eAxS5B,WACEmuB,EAAgB,KAGhBrrB,aAAa2rB,GACb3rB,aAAawrB,GACTzlB,EAAOukB,aACTiC,IAIErB,GACF+B,GAEJ,GA0R8D,CAAEc,SAAS,KAC9DhoB,EAAOukB,cAChB7L,EAAIlb,GAAG,cA1UT,SAAyBoF,GACvB,MAAM0mB,EAAerD,EAAqBrjB,EAAEjM,QACxC2yB,IACFA,EAAaxN,SAAS,gBAClB,UAAWlZ,GAAiB,IAAZA,EAAE2mB,OACpBvvB,YAAW,KACT+B,EAAE,iBAAiBggB,YAAY,eAAe,GAC7C,IAIHoJ,IACFC,EAAcxiB,EAAEgmB,MAChBvD,EAAcziB,EAAEimB,MAChBhC,EAAiBjkB,EAAEjM,OAAQiM,EAAEgmB,MAAOhmB,EAAEimB,OAE1C,IA2TEnQ,EAAIlb,GAAG,aA1TT,WACOwC,EAAOykB,wBACV1oB,EAAE,iBAAiBggB,YAAY,gBAE7BoJ,GACF8B,GAEJ,IAoTEvO,EAAIlb,GAAG,WAAY2pB,GACnBnuB,EAAS7B,iBAAiB,gBAAiBgwB,EAAe,CAAEa,SAAS,KAEvEhvB,EAAS7B,iBAAiB,eAAgByL,IAEtC5C,EAAOmkB,qBACN3Q,EAAOC,KACND,EAAOE,SACPF,EAAOa,SACN5Z,EAAO+Z,WAAa/Z,EAAO+Z,UAAUgV,WAExC5mB,EAAE6lB,iBAEAtD,IACEQ,GAAkBa,IACtBU,IACF,GAEJ,ICtWM,SAAUlE,GAAMyG,EAAa7d,QAAA,IAAAA,MAA0B,IA6B3D,IA5BA,IAAM8d,EAxHR,SAAeD,GAIb,IAHA,IAAMC,EAAqB,GACvBltB,EAAI,EAEDA,EAAIitB,EAAIzyB,QAAQ,CACrB,IAAM2V,EAAO8c,EAAIjtB,GAEjB,GAAa,MAATmQ,GAAyB,MAATA,GAAyB,MAATA,EAKpC,GAAa,OAATA,EAKJ,GAAa,MAATA,EAKJ,GAAa,MAATA,EAKJ,GAAa,MAATA,EA+BJ,GAAa,MAATA,EAuCJ+c,EAAOhuB,KAAK,CAAEqlB,KAAM,OAAQ5f,MAAO3E,EAAGrB,MAAOsuB,EAAIjtB,WAvCjD,CACE,IAAImtB,EAAQ,EACRC,EAAU,GAGd,GAAe,MAAXH,EAFA1qB,EAAIvC,EAAI,GAGV,MAAM,IAAIqtB,UAAU,oCAAAC,OAAoC/qB,IAG1D,KAAOA,EAAI0qB,EAAIzyB,QACb,GAAe,OAAXyyB,EAAI1qB,GAAR,CAKA,GAAe,MAAX0qB,EAAI1qB,IAEN,GAAc,KADd4qB,EACiB,CACf5qB,IACA,K,OAEG,GAAe,MAAX0qB,EAAI1qB,KACb4qB,IACmB,MAAfF,EAAI1qB,EAAI,IACV,MAAM,IAAI8qB,UAAU,uCAAAC,OAAuC/qB,IAI/D6qB,GAAWH,EAAI1qB,I,MAjBb6qB,GAAWH,EAAI1qB,KAAO0qB,EAAI1qB,KAoB9B,GAAI4qB,EAAO,MAAM,IAAIE,UAAU,yBAAAC,OAAyBttB,IACxD,IAAKotB,EAAS,MAAM,IAAIC,UAAU,sBAAAC,OAAsBttB,IAExDktB,EAAOhuB,KAAK,CAAEqlB,KAAM,UAAW5f,MAAO3E,EAAGrB,MAAOyuB,IAChDptB,EAAIuC,C,KAlEN,CAIE,IAHA,IAAI7B,EAAO,GACP6B,EAAIvC,EAAI,EAELuC,EAAI0qB,EAAIzyB,QAAQ,CACrB,IAAM+yB,EAAON,EAAIO,WAAWjrB,GAE5B,KAEGgrB,GAAQ,IAAMA,GAAQ,IAEtBA,GAAQ,IAAMA,GAAQ,IAEtBA,GAAQ,IAAMA,GAAQ,KAEd,KAATA,GAMF,MAJE7sB,GAAQusB,EAAI1qB,I,CAOhB,IAAK7B,EAAM,MAAM,IAAI2sB,UAAU,6BAAAC,OAA6BttB,IAE5DktB,EAAOhuB,KAAK,CAAEqlB,KAAM,OAAQ5f,MAAO3E,EAAGrB,MAAO+B,IAC7CV,EAAIuC,C,MA/BJ2qB,EAAOhuB,KAAK,CAAEqlB,KAAM,QAAS5f,MAAO3E,EAAGrB,MAAOsuB,EAAIjtB,YALlDktB,EAAOhuB,KAAK,CAAEqlB,KAAM,OAAQ5f,MAAO3E,EAAGrB,MAAOsuB,EAAIjtB,YALjDktB,EAAOhuB,KAAK,CAAEqlB,KAAM,eAAgB5f,MAAO3E,IAAKrB,MAAOsuB,EAAIjtB,YAL3DktB,EAAOhuB,KAAK,CAAEqlB,KAAM,WAAY5f,MAAO3E,EAAGrB,MAAOsuB,EAAIjtB,M,CA8FzD,OAFAktB,EAAOhuB,KAAK,CAAEqlB,KAAM,MAAO5f,MAAO3E,EAAGrB,MAAO,KAErCuuB,CACT,CAiBiBO,CAAMR,GACbS,EAAoBte,EAAOue,SAA3BA,OAAW,IAAHD,EAAG,KAAIA,EACjBE,EAAiB,KAAAN,OAAKO,GAAaze,EAAQ0e,WAAa,OAAW,OACnE/a,EAAkB,GACpBxY,EAAM,EACNyF,EAAI,EACJ+tB,EAAO,GAELC,EAAa,SAACzJ,GAClB,GAAIvkB,EAAIktB,EAAO1yB,QAAU0yB,EAAOltB,GAAGukB,OAASA,EAAM,OAAO2I,EAAOltB,KAAKrB,K,EAGjEsvB,EAAc,SAAC1J,GACnB,IAAM5lB,EAAQqvB,EAAWzJ,GACzB,QAAc/d,IAAV7H,EAAqB,OAAOA,EAC1B,IAAA+uB,EAA4BR,EAAOltB,GAA3BkuB,EAAQR,EAAAnJ,KAAE5f,EAAK+oB,EAAA/oB,MAC7B,MAAM,IAAI0oB,UAAU,cAAAC,OAAcY,EAAQ,QAAAZ,OAAO3oB,EAAK2oB,sBAAc/I,G,EAGhE4J,EAAc,WAGlB,IAFA,IACIxvB,EADAoU,EAAS,GAELpU,EAAQqvB,EAAW,SAAWA,EAAW,iBAC/Cjb,GAAUpU,EAEZ,OAAOoU,C,EAGF/S,EAAIktB,EAAO1yB,QAAQ,CACxB,IAAM2V,EAAO6d,EAAW,QAClBttB,EAAOstB,EAAW,QAClBZ,EAAUY,EAAW,WAE3B,GAAIttB,GAAQ0sB,EAAZ,CACE,IAAIgB,EAASje,GAAQ,IAEa,IAA9Bwd,EAAS/tB,QAAQwuB,KACnBL,GAAQK,EACRA,EAAS,IAGPL,IACFhb,EAAO7T,KAAK6uB,GACZA,EAAO,IAGThb,EAAO7T,KAAK,CACVwB,KAAMA,GAAQnG,IACd6zB,OAAMA,EACNC,OAAQ,GACRjB,QAASA,GAAWQ,EACpBU,SAAUN,EAAW,aAAe,I,KAlBxC,CAuBA,IAAMrvB,EAAQwR,GAAQ6d,EAAW,gBACjC,GAAIrvB,EACFovB,GAAQpvB,OAUV,GANIovB,IACFhb,EAAO7T,KAAK6uB,GACZA,EAAO,IAGIC,EAAW,QACxB,CACQI,EAASD,IAAf,IACMI,EAAOP,EAAW,SAAW,GAC7BQ,EAAUR,EAAW,YAAc,GACnCK,EAASF,IAEfF,EAAY,SAEZlb,EAAO7T,KAAK,CACVwB,KAAM6tB,IAASC,EAAUj0B,IAAQ,IACjC6yB,QAASmB,IAASC,EAAUZ,EAAiBY,EAC7CJ,OAAMA,EACNC,OAAMA,EACNC,SAAUN,EAAW,aAAe,I,MAKxCC,EAAY,M,EAGd,OAAOlb,CACT,CAoBM,SAAU0b,GACdxB,EACA7d,GAEA,OAQI,SACJ8d,EACA9d,QAAA,IAAAA,MAAqC,IAErC,IAAMsf,EAAUC,GAAMvf,GACdse,EAA+Cte,EAAOwf,OAAtDA,OAAS,IAAHlB,EAAG,SAAC9Z,GAAc,OAAAA,CAAA,EAAC8Z,EAAEmB,EAAoBzf,EAAO0f,SAA3BA,OAAW,IAAHD,GAAOA,EAG5CvlB,EAAU4jB,EAAOlqB,KAAI,SAAC+rB,GAC1B,GAAqB,iBAAVA,EACT,OAAO,IAAI5I,OAAO,OAAAmH,OAAOyB,EAAM3B,QAAO,MAAMsB,EAEhD,IAEA,OAAO,SAAC5f,GAGN,IAFA,IAAIif,EAAO,GAEF/tB,EAAI,EAAGA,EAAIktB,EAAO1yB,OAAQwF,IAAK,CACtC,IAAM+uB,EAAQ7B,EAAOltB,GAErB,GAAqB,iBAAV+uB,EAAX,CAKA,IAAMpwB,EAAQmQ,EAAOA,EAAKigB,EAAMruB,WAAQ8F,EAClCwoB,EAA8B,MAAnBD,EAAMT,UAAuC,MAAnBS,EAAMT,SAC3CW,EAA4B,MAAnBF,EAAMT,UAAuC,MAAnBS,EAAMT,SAE/C,GAAInwB,MAAMc,QAAQN,GAAlB,CACE,IAAKswB,EACH,MAAM,IAAI5B,UACR,aAAAC,OAAayB,EAAMruB,KAAI,sCAI3B,GAAqB,IAAjB/B,EAAMnE,OAAc,CACtB,GAAIw0B,EAAU,SAEd,MAAM,IAAI3B,UAAU,aAAAC,OAAayB,EAAMruB,KAAI,qB,CAG7C,IAAK,IAAI6B,EAAI,EAAGA,EAAI5D,EAAMnE,OAAQ+H,IAAK,CACrC,IAAM2sB,EAAUN,EAAOjwB,EAAM4D,GAAIwsB,GAEjC,GAAID,IAAcxlB,EAAQtJ,GAAckmB,KAAKgJ,GAC3C,MAAM,IAAI7B,UACR,iBAAAC,OAAiByB,EAAMruB,KAAI,gBAAA4sB,OAAeyB,EAAM3B,QAAO,gBAAAE,OAAe4B,EAAO,MAIjFnB,GAAQgB,EAAMX,OAASc,EAAUH,EAAMV,M,OAM3C,GAAqB,iBAAV1vB,GAAuC,iBAAVA,GAaxC,IAAIqwB,EAAJ,CAEA,IAAMG,EAAgBF,EAAS,WAAa,WAC5C,MAAM,IAAI5B,UAAU,aAAAC,OAAayB,EAAMruB,KAAI4sB,mBAAW6B,GAHxC,MAbd,CACQD,EAAUN,EAAOld,OAAO/S,GAAQowB,GAEtC,GAAID,IAAcxlB,EAAQtJ,GAAckmB,KAAKgJ,GAC3C,MAAM,IAAI7B,UACR,aAAAC,OAAayB,EAAMruB,KAAI,gBAAA4sB,OAAeyB,EAAM3B,QAAO,gBAAAE,OAAe4B,EAAO,MAI7EnB,GAAQgB,EAAMX,OAASc,EAAUH,EAAMV,M,OA7CvCN,GAAQgB,C,CAuDZ,OAAOhB,C,CAEX,CAtFSqB,CAAoB5I,GAAMyG,EAAK7d,GAAUA,EAClD,CAqKA,SAASye,GAAaZ,GACpB,OAAOA,EAAI9nB,QAAQ,4BAA6B,OAClD,CAKA,SAASwpB,GAAMvf,GACb,OAAOA,GAAWA,EAAQigB,UAAY,GAAK,GAC7C,CA0DA,SAASC,GACPvB,EACA1zB,EACA+U,GAEA,OAqCI,SACJ8d,EACA7yB,EACA+U,QAAA,IAAAA,MAAmC,IAenC,IAZE,IAAAse,EAMEte,EAAOmgB,OANTA,OAAS,IAAH7B,GAAQA,EACdmB,EAKEzf,EAAOoZ,MALTA,OAAQ,IAAHqG,GAAOA,EACZW,EAIEpgB,EAAOsZ,IAJTA,OAAM,IAAH8G,GAAOA,EACVC,EAGErgB,EAAOwf,OAHTA,OAAS,IAAHa,EAAG,SAAC7b,GAAc,OAAAA,CAAA,EAAC6b,EACzBC,EAEEtgB,EAAO0e,UAFTA,OAAY,IAAH4B,EAAG,MAAKA,EACjBC,EACEvgB,EAAOwgB,SACLC,EAAa,IAAAvC,OAAIO,QAFV,IAAH8B,EAAG,GAAEA,GAEmC,OAC5CG,EAAc,IAAAxC,OAAIO,GAAaC,GAAa,KAC9CiC,EAAQvH,EAAQ,IAAM,GAGNwH,EAAA,EAAAC,EAAA/C,EAAA8C,EAAAC,EAAAz1B,OAAAw1B,IAAQ,CAAvB,IAAMjB,EAAKkB,EAAAD,GACd,GAAqB,iBAAVjB,EACTgB,GAASlC,GAAae,EAAOG,QACxB,CACL,IAAMX,EAASP,GAAae,EAAOG,EAAMX,SACnCC,EAASR,GAAae,EAAOG,EAAMV,SAEzC,GAAIU,EAAM3B,QAGR,GAFI/yB,GAAMA,EAAK6E,KAAK6vB,GAEhBX,GAAUC,EACZ,GAAuB,MAAnBU,EAAMT,UAAuC,MAAnBS,EAAMT,SAAkB,CACpD,IAAM4B,EAAyB,MAAnBnB,EAAMT,SAAmB,IAAM,GAC3CyB,GAAS,MAAAzC,OAAMc,EAAMd,eAAOyB,EAAM3B,QAAOE,eAAOe,GAAMf,OAAGc,EAAM,OAAAd,OAAMyB,EAAM3B,QAAOE,eAAOe,EAAM,KAAAf,OAAI4C,E,MAEnGH,GAAS,MAAAzC,OAAMc,EAAMd,YAAIyB,EAAM3B,QAAOE,YAAIe,EAAM,KAAAf,OAAIyB,EAAMT,cAGrC,MAAnBS,EAAMT,UAAuC,MAAnBS,EAAMT,SAClCyB,GAAS,OAAAzC,OAAOyB,EAAM3B,QAAO,KAAAE,OAAIyB,EAAMT,SAAW,KAElDyB,GAAS,IAAAzC,OAAIyB,EAAM3B,QAAO,KAAAE,OAAIyB,EAAMT,eAIxCyB,GAAS,MAAAzC,OAAMc,GAAMd,OAAGe,EAAM,KAAAf,OAAIyB,EAAMT,S,EAK9C,GAAI5F,EACG6G,IAAQQ,GAAS,GAAAzC,OAAGwC,EAAc,MAEvCC,GAAU3gB,EAAQwgB,SAAiB,MAAAtC,OAAMuC,EAAa,KAAzB,QACxB,CACL,IAAMM,EAAWjD,EAAOA,EAAO1yB,OAAS,GAClC41B,EACgB,iBAAbD,EACHL,EAAYlwB,QAAQuwB,EAASA,EAAS31B,OAAS,KAAO,OACzCgM,IAAb2pB,EAEDZ,IACHQ,GAAS,MAAAzC,OAAMwC,EAAWxC,cAAMuC,EAAe,QAG5CO,IACHL,GAAS,MAAAzC,OAAMwC,EAAWxC,YAAIuC,EAAa,K,CAI/C,OAAO,IAAI1J,OAAO4J,EAAOpB,GAAMvf,GACjC,CA1GSihB,CAAe7J,GAAMuH,EAAM3e,GAAU/U,EAAM+U,EACpD,CAuHM,SAAUkhB,GACdvC,EACA1zB,EACA+U,GAEA,OAAI2e,aAAgB5H,OAvKtB,SAAwB4H,EAAc1zB,GACpC,IAAKA,EAAM,OAAO0zB,EAMlB,IAJA,IAAMwC,EAAc,0BAEhB5rB,EAAQ,EACR6rB,EAAaD,EAAYvd,KAAK+a,EAAK0C,QAChCD,GACLn2B,EAAK6E,KAAK,CAERwB,KAAM8vB,EAAW,IAAM7rB,IACvBypB,OAAQ,GACRC,OAAQ,GACRC,SAAU,GACVlB,QAAS,KAEXoD,EAAaD,EAAYvd,KAAK+a,EAAK0C,QAGrC,OAAO1C,CACT,CAmJqC2C,CAAe3C,EAAM1zB,GACpD8D,MAAMc,QAAQ8uB,GA/IpB,SACE4C,EACAt2B,EACA+U,GAEA,IAAMwhB,EAAQD,EAAM3tB,KAAI,SAAC+qB,GAAS,OAAAuC,GAAavC,EAAM1zB,EAAM+U,GAASqhB,MAAlC,IAClC,OAAO,IAAItK,OAAO,MAAAmH,OAAMsD,EAAM5gB,KAAK,KAAO,KAAE2e,GAAMvf,GACpD,CAwIkCyhB,CAAc9C,EAAM1zB,EAAM+U,GACnDkgB,GAAevB,EAAM1zB,EAAM+U,EACpC,CCxmBA,MAAM0hB,GAAU,CACdC,MAAO,GACPC,aACE,GAA6B,IAAzBF,GAAQC,MAAMv2B,OAAc,OACXs2B,GAAQC,MAAMtsB,OACnCwsB,E,EAEFC,YAAa,GACbC,mBACE,GAAmC,IAA/BL,GAAQI,YAAY12B,OAAc,OACtC,MAAMy2B,EAAeH,GAAQI,YAAYE,OACnCpS,OAAEA,EAAMqS,SAAEA,EAAQC,OAAEA,GAAWL,EAErC,IAAIvsB,EAAUsa,EAAOxb,OAAOkB,SACgB,IAAxCsa,EAAOxb,OAAO+tB,wBAAiC7sB,GAAU,GAE9C,SAAX4sB,GACFtS,EAAOhiB,KAAK,CAAE0H,UAAS8sB,gBAAgB,IAE1B,SAAXF,GACFtS,EAAOyS,SAASJ,EAAU,CAAE3sB,UAAS8sB,gBAAgB,G,EAGzDE,OAAOtrB,GACL,GAAI0qB,GAAQa,cAAe,OAG3B,IAAIC,EAAQxrB,EAAEwrB,MACdd,GAAQe,cAAgBf,GAAQc,MAChCd,GAAQc,MAAQA,EAEhBd,GAAQgB,aAAc,EACtBhB,GAAQE,aAERY,EAAQd,GAAQc,MACXA,IAAOA,EAAQ,IAVR10B,KAYR60B,MAAMz3B,SAAS03B,IACjB,MAAMhT,EAASgT,EAAKhT,OACpB,IAAIiT,EAAYL,EAAMI,EAAKl0B,IAM3B,IALKm0B,GAAaD,EAAKxuB,OAAOguB,iBAC5BS,EAAY,CACVthB,IAAKqhB,EAAKhT,OAAOpiB,QAAQ,MAGxBq1B,EAAW,OAChB,MAAMZ,EAAWY,EAAUthB,UAAOnK,EAElC,IAAI9B,EAAUsa,EAAOxb,OAAOkB,SACgB,IAAxCsa,EAAOxb,OAAO+tB,wBAAiC7sB,GAAU,GAEzD2sB,IAAarS,EAAOrO,MAClBqO,EAAOpiB,QAAQgD,QAAQyxB,IAAa,EAElCrS,EAAOkT,gBACTlT,EAAOhiB,KAAK,CAAE0H,UAAS8sB,gBAAgB,IAEvCV,GAAQI,YAAYhyB,KAAK,CACvBoyB,OAAQ,OACRtS,WAGKA,EAAOkT,gBAEhBlT,EAAOyS,SAASJ,EAAU,CAAE3sB,UAAS8sB,gBAAgB,IAErDV,GAAQI,YAAYxlB,QAAQ,CAC1B4lB,OAAQ,OACRD,WACArS,WAGN,G,EAGJmT,cAAcC,EAAQH,GACpB,MAAMh0B,EAASF,IACTs0B,EAAWn4B,EAAO,GAAI42B,GAAQc,OAAS,GAAI,CAC/CQ,CAACA,GAASH,IAEZnB,GAAQc,MAAQS,EAChBp0B,EAAOrB,QAAQC,aAAaw1B,EAAU,G,EAExCnzB,KAAKkzB,EAAQH,EAAWthB,GACtB,MAAM1S,EAASF,IACTvB,EAAWF,IAYjB,GAVuB,QAAnBqU,EAAI2hB,QAAQ,IAEF,MADZ3hB,EAAMA,EAAIxL,QAAQ,MAAO,OAEvBwL,EAAMnU,EAASX,SAASI,MAChBs2B,SAAS,SACf5hB,EAAMnU,EAASX,SAASI,KAAKuE,MAAM,OAAO,KAK3CswB,GAAQgB,YAIX,YAHAhB,GAAQC,MAAM7xB,MAAK,KACjB4xB,GAAQ5xB,KAAKkzB,EAAQH,EAAWthB,EAAI,IAIxCmgB,GAAQe,cAAgBf,GAAQc,MAChC,MAAMS,EAAWn4B,EAAO,GAAI42B,GAAQe,eAAiB,GAAI,CACvDO,CAACA,GAASH,IAEZnB,GAAQc,MAAQS,EAChBp0B,EAAOrB,QAAQE,UAAUu1B,EAAU,GAAI1hB,E,EAEzCxL,QAAQitB,EAAQH,EAAWthB,GACzB,MAAM1S,EAASF,IAKf,GAJuB,QAAnB4S,EAAI2hB,QAAQ,KAEd3hB,EAAMA,EAAIxL,QAAQ,MAAO,MAEtB2rB,GAAQgB,YAIX,YAHAhB,GAAQC,MAAM7xB,MAAK,KACjB4xB,GAAQ3rB,QAAQitB,EAAQH,EAAWthB,EAAI,IAI3CmgB,GAAQe,cAAgBf,GAAQc,MAChC,MAAMS,EAAWn4B,EAAO,GAAI42B,GAAQe,eAAiB,GAAI,CACvDO,CAACA,GAASH,IAEZnB,GAAQc,MAAQS,EAChBp0B,EAAOrB,QAAQC,aAAaw1B,EAAU,GAAI1hB,E,EAE5C5T,GAAG4H,GACD,MAAM1G,EAASF,IACf+yB,GAAQgB,aAAc,EACtB7zB,EAAOrB,QAAQG,GAAG4H,E,EAEpB3H,OACE,MAAMiB,EAASF,IACf+yB,GAAQgB,aAAc,EACtB7zB,EAAOrB,QAAQI,M,EAEjB80B,aAAa,EACbD,cAAe,GACfD,MAAO,GACPD,eAAe,EACf1U,KAAKf,GACH,MAAMje,EAASF,IACTvB,EAAWF,IACjBw0B,GAAQc,MAAQ3zB,EAAOrB,QAAQg1B,MAC/BryB,EAAEtB,GAAQ+C,GAAG,QAAQ,KACnBxD,YAAW,KACTszB,GAAQa,eAAgB,CAAK,GAC5B,EAAE,IAGHn1B,EAASg2B,YAAsC,aAAxBh2B,EAASg2B,aAClC1B,GAAQa,eAAgB,GAG1BpyB,EAAEtB,GAAQ+C,GAAG,WAAY8vB,GAAQY,OAAOtd,KAAK8H,GAC/C,GC5JF,SAASuW,GAAU7f,GACjB,MAAMoM,EAASpM,GACTwJ,IAAEA,EAAGsW,WAAEA,EAAUxW,IAAEA,EAAG1Y,OAAEA,GAAWwb,EACnCnJ,EAAUE,KACViB,EAASN,KACf,IAAIic,GAAY,EACZ5J,GAAU,EACd,MAAM6J,EAAe,GACrB,IAAIpJ,EAGAqJ,EACAC,EAEAC,EAGAC,EACAC,EACAC,EAEAC,EAZAC,EAAiB,GACjBC,EAAkB,GAGlBC,GAAqB,EAErBC,EAAmB,GACnBC,EAAoB,GAOxB,MAAMC,EAA+BjwB,EAAQ,GAAE0Y,EAAIjD,+BAC7Cya,EAAgClwB,EAAQ,GAAE0Y,EAAIjD,gCAC9C0a,EAA4BnwB,EAAQ,GAAE0Y,EAAIjD,4BAC1C2a,EAA2BpwB,EAAQ,GAAE0Y,EAAIjD,2BAEzC4a,EAAkB3X,EAAI6B,IAAM,eAAiB,cAC7C+V,EAA4B5X,EAAI6B,IAClC,2FACA,oFA2QJ,SAASgW,EAAwBld,GAA+C,IAA9C9S,SAAEA,EAAQ6S,MAAEA,EAAKod,WAAEA,EAAUC,OAAEA,QAAQ,IAAApd,EAAG,GAAEA,EAC5E,MAAMzK,EAAS,CAAC,WAAY,YAAa,mBAAoB,WAC7D,IAAmB,IAAf4nB,IAAsC,IAAfA,EACzB,IAAK,IAAIh0B,EAAI,EAAGA,EAAImzB,EAAiB34B,OAAQwF,GAAK,EAAG,CACnD,MAAMhB,EAAKm0B,EAAiBnzB,GACxBhB,GAAMA,EAAGA,MACQ,IAAfg1B,GAAqBh1B,EAAGA,GAAGkE,UAAUC,IAAI,8BAC1B,IAAf6wB,GAAsBh1B,EAAGA,GAAGkE,UAAU6E,OAAO,6BAErD,CAEEksB,GAAUd,EAAiB34B,QAAU24B,EAAiB,IAAMA,EAAiB,GAAGn0B,KAElFm0B,EAAiB,GAAGn0B,GAAGk1B,YAAcf,EAAiB,GAAGn0B,GAAG8L,YAE9D,IAAK,IAAI9K,EAAI,EAAGA,EAAImzB,EAAiB34B,OAAQwF,GAAK,EAAG,CACnD,MAAMhB,EAAKm0B,EAAiBnzB,GAC5B,GAAIhB,GAAMA,EAAGA,GAAI,EACXA,EAAGyJ,WAAczJ,EAAGm1B,cAAiBvd,IACvC5X,EAAGA,GAAGkE,UAAUC,IAAInE,EAAGyJ,WACvBzJ,EAAGm1B,cAAe,GAEhBn1B,EAAGyJ,WAAamO,GAClB5X,EAAGA,GAAGkE,UAAU6E,OAAO/I,EAAGyJ,WAE5B,IAAK,IAAIlG,EAAI,EAAGA,EAAI6J,EAAO5R,OAAQ+H,GAAK,EAAG,CACzC,MAAM6xB,EAAYhoB,EAAO7J,GACrBvD,EAAGo1B,KACDxd,EACF5X,EAAGA,GAAGxD,MAAM44B,GAAa,GACS,mBAAlBp1B,EAAGo1B,GACnBp1B,EAAGA,GAAGxD,MAAM44B,GAAap1B,EAAGo1B,GAAWrwB,GAEvC/E,EAAGA,GAAGxD,MAAM44B,GAAap1B,EAAGo1B,GAGlC,CACF,CACF,CACF,CAEA,SAASC,EAAiBjuB,GACxB,MAAMkuB,EAAmB9wB,EAAQ,GAAE0Y,EAAIjD,mBAEpCqa,IACAgB,GACD3B,GACCzW,EAAIqY,UAAYrY,EAAIqY,SAASv1B,KAC7BggB,EAAOkT,iBAGN3yB,EAAE6G,EAAEjM,QAAQ+M,QAAQ,mCAAmC1M,OAAS,GAElE+E,EAAE6G,EAAEjM,QAAQ+M,QAAQ,qCAAqC1M,OAAS,GAClEgJ,EAAOgxB,uBAAyB,GAChCtY,EAAI/D,OAAS3U,EAAOgxB,yBAGtBzL,GAAU,EACV4J,GAAY,EACZnJ,OAAchjB,EACdosB,EAAahf,EAAe,eAAXxN,EAAEme,KAAwBne,EAAE8lB,cAAc,GAAGE,MAAQhmB,EAAEgmB,MACxEwG,EAAa1I,EAAe,eAAX9jB,EAAEme,KAAwBne,EAAE8lB,cAAc,GAAGG,MAAQjmB,EAAEimB,MACxE0G,EAAiBtiB,IACjBuiB,EAAgBhU,EAAOgU,cACzB,CACA,SAASyB,EAAgBruB,GACvB,IAAKusB,EAAW,OAChB,MAAMvG,EAAmB,cAAXhmB,EAAEme,KAAuBne,EAAE8lB,cAAc,GAAGE,MAAQhmB,EAAEgmB,MAC9DC,EAAmB,cAAXjmB,EAAEme,KAAuBne,EAAE8lB,cAAc,GAAGG,MAAQjmB,EAAEimB,MAOpE,QAN2B,IAAhB7C,IACTA,KACKA,GAAexlB,KAAKwP,IAAI6Y,EAAQuG,EAAa1I,GAAKlmB,KAAKwP,IAAI4Y,EAAQwG,EAAahf,KAClFwY,EAAQwG,EAAahf,IAAMsI,EAAI6B,KAC/BqO,EAAQwG,EAAahf,GAAKsI,EAAI6B,KAE/ByL,GAAepjB,EAAEsuB,oBAAsBxY,EAAIyY,iBAE7C,YADAhC,GAAY,GAGd,IAAK5J,EAAS,CAEZ,IAAI6L,GAAS,EACb,MAAMz6B,EAASoF,EAAE6G,EAAEjM,QAEbo6B,EAAWp6B,EAAO+M,QAAQ,aAC5BqtB,EAAS/5B,OAAS,KACf0hB,EAAI6B,KAAOwW,EAASM,KAAK,0BAA0Br6B,OAAS,IAAGo6B,GAAS,GACzE1Y,EAAI6B,KAAOwW,EAASM,KAAK,2BAA2Br6B,OAAS,IAAGo6B,GAAS,IAG/ExB,EAAiBj5B,EAAO+M,QAAQ,UAE9BksB,EAAevJ,SAAS,iBACxB1vB,EAAO+M,QAAQ,+BAA+B1M,OAAS,KAEvDo6B,GAAS,GACXvB,EAAkBjX,EAAIyY,KAAK,gCACvBxB,EAAgB74B,OAAS,IAC3B64B,EAAkBA,EAAgBjsB,GAAGisB,EAAgB74B,OAAS,IAEhE,IAAIs6B,EAAgBlC,EAAahf,EAAIwI,EAAIwG,SAASxX,KAAOuoB,EAWzD,GAVAd,EAAqBzW,EAAIjE,QAEvB2c,EADE5Y,EAAI6B,IAEJ6U,EAAahf,EACbwI,EAAIwG,SAASxX,KAAOgR,EAAI,GAAGnR,YAAc4nB,EAAqBc,GAEhDf,EAAahf,EAAIwI,EAAIwG,SAASxX,KAAOuoB,EAEnDmB,IAAeF,GAAS,GACG,IAA3BvB,EAAgB74B,QAA0C,IAA1B44B,EAAe54B,SAAco6B,GAAS,GACtEA,EAEF,YADAjC,GAAY,GAIVc,IACFR,EAAgBG,EAAeyB,KAAK,uBACP,IAAzB5B,EAAcz4B,SAChBy4B,EAAgB1zB,EAAE,0CAClB6zB,EAAevsB,OAAOosB,KAGtBS,IACFR,EAAiBG,EAAgBwB,KAAK,wBACR,IAA1B3B,EAAe14B,SACjB04B,EAAiB3zB,EAAE,2CACnB8zB,EAAgBxsB,OAAOqsB,KAIvBF,IACFO,EAAmBb,EAAWmC,KAAK,iCACnCrB,EAAoBd,EAAWmC,KAAK,kCAChCrB,EAAkBh5B,OAAS,IAC7Bg5B,EAAoBA,EAAkBpsB,GAAGosB,EAAkBh5B,OAAS,IAGtE24B,EApZN,WACE,MAAM1wB,EAAM,GACNsyB,EAAW7Y,EAAI6B,KAAO,EAAI,EAC1BiX,EACJzB,EAAiB1J,SAAS,wBACzB0J,EAAiB1J,SAAS,kBAC1B0J,EAAiB1J,SAAS,8BACvBoL,EAAoB1B,EAAiB1J,SAAS,gBAC9CqL,EAAwB3B,EAAiB1J,SAAS,0BAClDsL,EACJ5B,EAAiB1J,SAAS,6BACzB0J,EAAiB1J,SAAS,iBACzB0J,EAAiB1J,SAAS,sBACxBuL,EACJ5B,EAAkB3J,SAAS,wBAC1B2J,EAAkB3J,SAAS,kBAC3B2J,EAAkB3J,SAAS,8BACxBwL,EAAqB7B,EAAkB3J,SAAS,gBAChDyL,EAAyB9B,EAAkB3J,SAAS,0BACpD0L,EACJ/B,EAAkB3J,SAAS,6BAC1B2J,EAAkB3J,SAAS,iBAC1B2J,EAAkB3J,SAAS,sBACzB2L,EAAYP,IAAsBC,EAClCO,EAAUJ,IAAuBC,EACjCI,EAAsBnC,EAAiBsB,KAC3C,wEAEIc,EAAuBnC,EAAkBqB,KAC7C,wEAEF,IAAIe,EACAC,EAsOJ,OApOIryB,EAAOsyB,2BAKPF,EAHArC,EAAiB1J,SAAS,YAC1B0J,EAAiBsB,KAAK,yBAAyBr6B,OAEvB+4B,EAAiBsB,KAAK,SAASA,KAAK,sBAAsBztB,GAAG,GAE7DmsB,EACrBsB,KAAK,iBACLA,KAAK,sBACLztB,GAAG,GAMNyuB,EAHArC,EAAkB3J,SAAS,YAC3B2J,EAAkBqB,KAAK,yBAAyBr6B,OAEtBg5B,EAAkBqB,KAAK,SAASA,KAAK,sBAAsBztB,GAAG,GAE9DosB,EACvBqB,KAAK,iBACLA,KAAK,sBACLztB,GAAG,GAEJwuB,EAAsBp7B,QACxBm7B,EAAqBtxB,MAAMrF,IACpBO,EAAEP,GAAI6qB,SAAS,WACpB7qB,EAAG+2B,oBAAsBH,EAAsBlpB,KAAK,SAAS,GAAGJ,YAAW,KAIjFopB,EAAoBrxB,MAAM2xB,IACxB,MAAMC,EAAS12B,EAAEy2B,GACXE,EAAcD,EAAOpM,SAAS,aAC9BsM,EAASF,EAAOpM,SAAS,QACzBuM,EAAUH,EAAOpM,SAAS,SAC1BwM,EAAOJ,EAAOpM,SAAS,aAC7B,IAAKuM,GAAWC,IAASrB,EAAyB,OAClD,IAAKQ,GAAaS,EAAOpM,SAAS,gBAAiB,OACnD,MAAM7qB,EAAK,CACTA,GAAIg3B,GAEN,GAAIR,EAAW,CACb,GAAIY,EAAS,OACb,GAAIH,EAAOpM,SAAS,eASlB,OARIpnB,EAAI7C,QAAQZ,GAAM,GAAGyD,EAAIvD,KAAKF,GAClCA,EAAGs3B,SAAW,eACdL,EAAOpB,KAAK,qBAAqBxwB,MAAMkyB,IACrC9zB,EAAIvD,KAAK,CACPF,GAAIu3B,EACJjoB,UAAYvK,GAAc,cAAwB,IAAXA,EAAiBgxB,OACxD,GAIR,CACA,GAAIU,IACGD,GACCS,EAAOpM,SAAS,iBACdpnB,EAAI7C,QAAQZ,GAAM,GAAGyD,EAAIvD,KAAKF,GAClCA,EAAGw3B,QAAU,GAGbL,GAaF,OAZI1zB,EAAI7C,QAAQZ,GAAM,GAAGyD,EAAIvD,KAAKF,GAClCA,EAAGw3B,QAAWzyB,GAAa,EAAIA,GAAY,SAC3CkyB,EAAOpB,KAAK,cAAcxwB,MAAMkyB,IAC9B9zB,EAAIvD,KAAK,CACPF,GAAIu3B,EACJ,mBAAoB1C,EACpBvlB,UAAYvK,GACT,mBAAkBA,6FAAoGA,yGACrH,EAAI,EAAIA,MAEZ,IAKR,GAAIsyB,EA+BF,OA9BI5zB,EAAI7C,QAAQZ,GAAM,GAAGyD,EAAIvD,KAAKF,GAC7Bw2B,GAAcC,IACbP,GACEC,IACFn2B,EAAGyJ,UAAY,iCAEjBzJ,EAAGsP,UAAavK,GACb,cACC,IAAMA,EAAWgxB,kEAGrB/1B,EAAGsP,UAAavK,GAAc,cAAa,IAAMA,EAAWgxB,QAG3DS,GAAaC,IAChBz2B,EAAGyJ,UAAY,gCACfzJ,EAAGsP,UAAavK,GACb,cAAa,IAAMA,EAAWgxB,4BAC7B,EAAIhxB,6CAGNyxB,GAAaC,IACfz2B,EAAGsP,UAAavK,GAAc,cAAa,IAAMA,EAAWgxB,YAE1DS,IAAcC,IAChBz2B,EAAGsP,UAAavK,GACb,cACC,IAAMA,EAAWgxB,wBACIhxB,8CAI7B,GAAIkyB,EAAOpM,SAAS,eAAgB,OACpC,MAAM4M,EACJR,EAAOpM,SAAS,YAAcoM,EAAO9uB,QAAQ,yBAAyB3M,OAKxE,GAJIiI,EAAI7C,QAAQZ,GAAM,GAAGyD,EAAIvD,KAAKF,KAC7Bk3B,GAAgBA,IAAgBO,KACnCz3B,EAAGw3B,QAAWzyB,GAAa,EAAIA,GAAY,KAEzC0yB,EAAW,CACb,IAAIC,EAAkB13B,EACtB,GAAIm3B,GAAUP,EAAsBp7B,QAAUgJ,EAAOsyB,yBAA0B,CAC7E,MAAMa,EAAS,CAAE33B,GAAI42B,EAAsB,IAC3Cc,EAAkBC,EAClBl0B,EAAIvD,KAAKy3B,EACX,CACAD,EAAgBpoB,UAAavK,IAC3B,IAAI6yB,EAAqB7yB,EAAW2yB,EAAgB13B,GAAG63B,oBAEvD,OAD0B,IAAtB7f,EAAO8B,aAAkB8d,EAAqB5yB,KAAKgQ,MAAM4iB,IACzDV,GAAejB,EACT,eAAc2B,qGAEhB,eAAcA,UAA2B,CAErD,KAEFjB,EAAqBtxB,MAAM2xB,IACzB,MAAMC,EAAS12B,EAAEy2B,GACXE,EAAcD,EAAOpM,SAAS,aAC9BsM,EAASF,EAAOpM,SAAS,QACzBuM,EAAUH,EAAOpM,SAAS,SAC1BwM,EAAOJ,EAAOpM,SAAS,aAC7B,IAAKuM,GAAWC,IAASjB,EAA0B,OACnD,MAAMp2B,EAAK,CACTA,GAAIg3B,GAEN,GAAIP,EAAS,CACX,GAAIW,EAAS,OAGb,GAFI3zB,EAAI7C,QAAQZ,GAAM,GAAGyD,EAAIvD,KAAKF,GAE9Bi3B,EAAOpM,SAAS,eAkBlB,OAjBA7qB,EAAGw3B,QAAU,EACbx3B,EAAGs3B,SAAW,eACdL,EAAOpB,KAAK,qBAAqBxwB,MAAMkyB,IACrC9zB,EAAIvD,KAAK,CACPF,GAAIu3B,EACJ,mBAAoBzC,EACpB0C,QAAUzyB,GAAaA,GAAY,EACnCuK,UAAYvK,GACT,mBACC,EAAIA,6FAEJA,EAAW,6CAEX,EAAIA,6DACsD,GAAiB,GAAXA,MACpE,GAIR,CACA,GAAIsyB,EAgCF,OA/BI5zB,EAAI7C,QAAQZ,GAAM,GAAGyD,EAAIvD,KAAKF,GAC7Bw2B,GAAcC,IACbH,GACEC,IACFv2B,EAAGyJ,UAAY,iCAEjBzJ,EAAGsP,UAAavK,GACb,eACS,IAAMA,EAAZ,KAAwBgxB,kEAG9B/1B,EAAGsP,UAAavK,GAAc,eAAqB,IAAMA,EAAZ,KAAwBgxB,QAGpES,GAAaC,IAChBz2B,EAAGsP,UAAavK,GACb,eAAqB,IAAMA,EAAZ,KAAwBgxB,4BACtC,EAAIhxB,6CAGNyxB,IAAcC,IAChBz2B,EAAGyJ,UAAY,gCACfzJ,EAAGsP,UAAavK,GACb,eACS,IAAMA,EAAZ,KAAwBgxB,wBACLhxB,kDAEvByxB,GAAaC,IACfz2B,EAAGsP,UAAavK,GAAc,eAAqB,IAAMA,EAAZ,KAAwBgxB,QAKzE,GAAIkB,EAAOpM,SAAS,eAAgB,OACpC,MAAM4M,EACJR,EAAOpM,SAAS,YAAc2J,EAAkBl4B,SAAS,yBAAyBd,OAKpF,GAJIiI,EAAI7C,QAAQZ,GAAM,GAAGyD,EAAIvD,KAAKF,KAC7Bk3B,GAAgBA,IAAgBO,KACnCz3B,EAAGw3B,QAAWzyB,GAAaA,GAAY,GAErC0yB,EAAW,CACb,IAAIC,EAAkB13B,EACtB,GAAIm3B,GAAUN,EAAwBr7B,QAAUgJ,EAAOsyB,yBAA0B,CAC/E,MAAMa,EAAS,CAAE33B,GAAI62B,EAAwB,IAC7Ca,EAAkBC,EAClBl0B,EAAIvD,KAAKy3B,EACX,CACAD,EAAgBpoB,UAAavK,IAC3B,IAAI+yB,EAAuBJ,EAAgB13B,GAAG+2B,oBAAsB,EAAIhyB,GAExE,OAD0B,IAAtBiT,EAAO8B,aAAkBge,EAAuB9yB,KAAKgQ,MAAM8iB,IAC3DZ,GAAeb,EACT,eAAcyB,qGAEhB,eAAcA,UAA6B,CAEvD,KAEKr0B,CACT,CA6IyBs0B,IAIjBx3B,EAAE,mBAAmB/E,OAAS,GAAK0hB,EAAI8a,OACzC9a,EAAI8a,MAAMxW,MAAMjhB,EAAE,mBAEtB,CACA6G,EAAE6wB,qBAAsB,EACxBlO,GAAU,EACV7M,EAAIgb,8BAA+B,EACnC9wB,EAAE6lB,iBAGF,MAAM8I,EAAW7Y,EAAI6B,KAAO,EAAI,EAGhC+U,GAAe1G,EAAQwG,EAAahf,EAAIggB,GAA4BmB,EAChEjC,EAAc,IAAGA,EAAc,GACnC,MAAMqE,EAAanzB,KAAKgC,IAAIhC,KAAK+B,IAAI+sB,EAAcD,EAAoB,GAAI,GAGrEuE,EAAe,CACnBD,aACApzB,SAAUozB,EACVE,cAAejE,EAAe,GAC9BkE,eAAgBjE,EAAgB,GAChCkE,gBAAiBhE,EAAiB,GAClCiE,iBAAkBhE,EAAkB,IAEtCpX,EAAIrb,QAAQ,iBAAkBq2B,GAC9BpY,EAAOpF,KAAK,gBAAiBwd,GAG7B,IAAIK,EAAuB3E,EAAciC,EACrC2C,GAAyB5E,EAAc,EAAID,EAAqB,GAAKkC,EACpE7Y,EAAI6B,KAIP0Z,EAAuBzzB,KAAK+B,IAAI0xB,GAAuB5E,GACvD6E,EAAwB1zB,KAAK+B,IAAI2xB,EAAuB,KAJxDD,EAAuBzzB,KAAKgC,IAAIyxB,EAAsB5E,GACtD6E,EAAwB1zB,KAAKgC,IAAI0xB,EAAuB,IAKhC,IAAtB1gB,EAAO8B,aACT2e,EAAuBzzB,KAAKgQ,MAAMyjB,GAClCC,EAAwB1zB,KAAKgQ,MAAM0jB,IAGrC1Y,EAAO2Y,iBAAkB,EACzBp4B,EAAE,CAAC6zB,EAAe,GAAIC,EAAgB,KAAK/T,SAAS,yBAEpD8T,EAAe9kB,UAAW,eAAcmpB,YACpChE,IAA8BR,EAAc,GAAGz3B,MAAMg7B,QAAU,EAAI,EAAIW,GAEzD,QAAdjb,EAAIjD,OACNoa,EAAgB/kB,UAAW,eAAcopB,YAEvChE,IAA+BR,EAAe,GAAG13B,MAAMg7B,QAAU,EAAI,EAAIW,GAGxEnE,GAELe,EAAyB,CAAEhwB,SAAUozB,GACvC,CACA,SAASS,IAEP,GADA1b,EAAIgb,8BAA+B,GAC9BvE,IAAc5J,EAGjB,OAFA4J,GAAY,OACZ5J,GAAU,GAGZ4J,GAAY,EACZ5J,GAAU,EACV/J,EAAO2Y,iBAAkB,EACzB,MAAME,EAASt4B,EAAE,CAAC6zB,EAAe,GAAIC,EAAgB,KAErD,GADAwE,EAAOtY,YAAY,yBACC,IAAhBuT,EAOF,OANA+E,EAAOvpB,UAAU,IACb2kB,GAAiBA,EAAcz4B,OAAS,GAAGy4B,EAAclrB,SACzDmrB,GAAkBA,EAAe14B,OAAS,GAAG04B,EAAenrB,cAC5DirB,GACFe,EAAyB,CAAEnd,OAAO,KAItC,MAAMkhB,EAAWrnB,IAAQsiB,EACzB,IAAIgF,GAAc,GAGfD,EAAW,KAAOhF,EAAc,IAChCgF,GAAY,KAAOhF,EAAcD,EAAqB,KAEvDO,EACG7T,YAAY,gBACZD,SAAU,aAAyB,QAAdpD,EAAIjD,MAAkB,sBAAwB,KACtEoa,EACG9T,YAAY,iBACZD,SAAS,gBACT0Y,WAAW,eACV/E,IAAeA,EAAc,GAAGz3B,MAAMg7B,QAAU,IAChDtD,IAAgBA,EAAe,GAAG13B,MAAMg7B,QAAU,IAClDxD,IACFhU,EAAOiZ,kBAAkB1E,EAAkB,QAC3CvU,EAAOiZ,kBAAkBzE,EAAmB,WAAW,IAEzDuE,GAAc,GAIhBF,EAAOvY,SAAS,mDACZtI,EAAOC,MAETmc,EAAe,GAAGc,YAAcd,EAAe,GAAGtoB,YAEpD+sB,EAAOvpB,UAAU,IAEb0kB,GACFe,EAAyB,CACvBhwB,SAAUg0B,EAAc,EAAI,EAC5B/D,YAAY,EACZC,SAAUjd,EAAOC,MAGrBqc,GAAqB,EACrBtU,EAAOkT,iBAAkB,EAGzB,MAAMkF,EAAe,CACnBC,cAAejE,EAAe,GAC9BkE,eAAgBjE,EAAgB,GAChCkE,gBAAiBhE,EAAiB,GAClCiE,iBAAkBhE,EAAkB,IAGlCuE,GAEF/Y,EAAOkZ,aAAe7E,EAAgB,GAAG8E,OAAOpI,MAChD/Q,EAAOoZ,YAAc/E,EAAgB,GAGrCrU,EAAOqZ,aAAa,YAAajF,EAAgBG,EAAkB,UAAW,OAAQ,CACpFxD,MAAOqD,EAAe,GAAG+E,OAAOpI,MAChCuI,WAAW,IAEbtZ,EAAOqZ,aACL,WACAhF,EACAG,EACA,WACA,UACA,CAAEzD,MAAOsD,EAAgB,GAAG8E,OAAOpI,MAAOuI,WAAW,GACrDlF,EAAe,IAGjBhX,EAAIrb,QAAQ,yBAA0Bq2B,GACtCpY,EAAOpF,KAAK,wBAAyBwd,KAErChb,EAAIrb,QAAQ,wBAAyBq2B,GACrCpY,EAAOpF,KAAK,uBAAwBwd,IAGtChE,EAAemF,eAAc,KAC3BV,EAAOtY,YAAY,mDACfyT,GACFe,EAAyB,CAAEnd,OAAO,EAAMod,YAAY,IAEtDV,GAAqB,EACrBtU,EAAOkT,iBAAkB,EACrB6F,GAE4B,IAA1B/Y,EAAOpiB,QAAQpC,QACjBwkB,EAAOpiB,QAAQ8O,QAAQsT,EAAOrO,KAEhCqO,EAAOpiB,QAAQw0B,MACfpS,EAAOwZ,cAGHh1B,EAAOguB,gBACTV,GAAQ9zB,OAIVgiB,EAAOqZ,aAAa,WAAYjF,EAAgBG,EAAkB,UAAW,OAAQ,CACnFxD,MAAOqD,EAAe,GAAG+E,OAAOpI,MAChCuI,WAAW,IAEbtZ,EAAOqZ,aAAa,UAAWhF,EAAiBG,EAAmB,WAAY,UAAW,CACxFzD,MAAOsD,EAAgB,GAAG8E,OAAOpI,MACjCuI,WAAW,IAIT90B,EAAOi1B,YAAczZ,EAAO0Z,aAAa94B,QAAQwzB,EAAe,KAAO,GACzEA,EAAe9T,SAAS,WACpB0T,GACFO,EAAiBjU,SAAS,aAG5BN,EAAOqZ,aAAa,eAAgBjF,EAAgBG,EAAkB,OAAQ,CAC5E+E,WAAW,IAEbtZ,EAAO2Z,WAAWvF,GACdJ,GACFhU,EAAO4Z,aAAarF,IAIxBnX,EAAIrb,QAAQ,wBAAyBq2B,GACrCpY,EAAOpF,KAAK,uBAAwBwd,GAEpCpY,EAAOpF,KAAK,eAAgBoF,EAAOkZ,aAAclZ,EAAO6Z,cAAe7Z,GAEnExb,EAAOs1B,qBACT9Z,EAAOhiB,KAAKgiB,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GAAI,CAAEu+B,SAAS,MAGpE3c,EAAIrb,QAAQ,uBAAwBq2B,GACpCpY,EAAOpF,KAAK,sBAAuBwd,IAEjCnE,GAAiBA,EAAcz4B,OAAS,GAAGy4B,EAAclrB,SACzDmrB,GAAkBA,EAAe14B,OAAS,GAAG04B,EAAenrB,QAAQ,GAE5E,EAEA,WACE,MAAMsO,IACsB,eAA1B6F,EAAIqM,YAAYC,QAA0B3S,EAAQQ,kBAC9C,CAAEmV,SAAS,EAAMvhB,SAAS,GAEhCmS,EAAIpb,GAAGkb,EAAIqM,YAAYC,MAAO6L,EAAkBhe,GAChD6F,EAAIlb,GAAG,mBAAoByzB,GAC3BvY,EAAIlb,GAAG,mBAAoB42B,EAC7B,CAWAoB,GAEAha,EAAOhe,GAAG,iBAZV,WACE,MAAMqV,IACsB,eAA1B6F,EAAIqM,YAAYC,QAA0B3S,EAAQQ,kBAC9C,CAAEmV,SAAS,EAAMvhB,SAAS,GAEhCmS,EAAI/V,IAAI6V,EAAIqM,YAAYC,MAAO6L,EAAkBhe,GACjD6F,EAAI7V,IAAI,mBAAoBouB,GAC5BvY,EAAI7V,IAAI,mBAAoBuxB,EAC9B,GAKF,CC/qBe,SAASqB,GAASC,EAAWnJ,EAAO3gB,GACjD,MAAM4P,EAAS9hB,KACT0V,EAAImd,EAAMA,MAAMkJ,SAChBzf,EAAuB,YAAd0f,EAA0B,WAAa,OAYtD,GAXI9pB,EAAQ+pB,SAAWna,EAAOxb,OAAOguB,iBACnCpiB,EAAQvS,cAAe,EACvBuS,EAAQxS,SAAU,GASH,mBAANgW,EAAkB,CAC3BoM,EAAOkT,iBAAkB,EACzB,MAAMkH,EAAcxmB,EAAEtT,KAAK0f,EAAQ,CACjCA,SACAnN,GAAIke,EACJlP,QAZJ,SAAyBuY,EAAaC,QAAe,IAAfA,MAAkB,IACtDra,EAAOkT,iBAAkB,EACzBlT,EAAOxF,GAAQ4f,EAAal/B,EAAO,GAAIkV,EAASiqB,GAClD,EAUIvY,OATJ,WACE9B,EAAOkT,iBAAkB,CAC3B,EAQIgH,YACAhd,IAAK8C,EAAO9C,MAEd,OAAIkd,GAAsC,iBAAhBA,GACxBpa,EAAOkT,iBAAkB,EAClBlT,EAAOxF,GAAQ4f,EAAahqB,IAE9B4P,CACT,CACA,OAAOA,EAAOxF,GAAQ5G,EAAGxD,EAC3B,CClCA,SAASkqB,GAAata,EAAQkS,EAAaqI,EAAY1nB,EAAIC,EAAM+O,EAASC,EAAQoY,GAChF,MAAMnI,EAAQ,GAEV5yB,MAAMc,QAAQs6B,GAChBxI,EAAM7xB,QAAQq6B,GACLA,GAAoC,mBAAfA,GAC9BxI,EAAM7xB,KAAKq6B,GAETrI,IACE/yB,MAAMc,QAAQiyB,GAChBH,EAAM7xB,QAAQgyB,GAEdH,EAAM7xB,KAAKgyB,IAIf,SAASvnB,IACP,GAAqB,IAAjBonB,EAAMv2B,OAER,YADAqmB,IAGgBkQ,EAAMtsB,QAEdnF,KAAK0f,EAAQ,CACrBA,SACAnN,KACAC,OACA+O,UACElX,G,EAEFmX,SACEA,G,EAEFoY,YACAhd,IAAK8C,EAAO9C,KAEhB,CACAvS,EACF,CAEe,SAAS6vB,GAAkB3nB,EAAIC,EAAM+O,EAASC,EAAQoY,GACnE,MAAMla,EAAS9hB,KACf,SAASu8B,IACH5nB,GAAMA,EAAGke,QAAU/Q,EAAOxb,OAAOk2B,mBAAqB7nB,EAAGke,MAAM4J,cACjE3a,EAAOkT,iBAAkB,EACzBoH,GACEta,EACAA,EAAOxb,OAAOk2B,kBACd7nB,EAAGke,MAAM4J,YACT9nB,EACAC,GACA,KACEkN,EAAOkT,iBAAkB,EACzBrR,GAAS,IAEX,KACEC,GAAQ,GAEVoY,IAGFrY,GAEJ,CAEM/O,GAAQA,EAAKie,QAAU/Q,EAAOxb,OAAOo2B,mBAAqB9nB,EAAKie,MAAM8J,cACvE7a,EAAOkT,iBAAkB,EACzBoH,GACEta,EACAA,EAAOxb,OAAOo2B,kBACd9nB,EAAKie,MAAM8J,YACXhoB,EACAC,GACA,KACEkN,EAAOkT,iBAAkB,EACzBuH,GAAgB,IAElB,KACE3Y,GAAQ,GAEVoY,IAGFO,GAIN,CCvFe,SAASK,GAAe9a,EAAQxF,GAC7C,IAAKwF,EAAOgT,KACV,MAAM,IAAIxV,MACP,8IAA6IhD,SAGpJ,CCNe,SAASugB,GAAe/a,EAAQ3B,EAAWwD,EAASC,GACjE,SAASkZ,EAAeC,GACtBA,EACGhY,MAAMhf,IAEL4d,EAAQ,CAAExD,UAAWpa,EAAEi3B,SAAWj3B,EAAEk3B,UAAYl3B,GAAI,IAErDif,OAAOC,IAEN,MADArB,IACM,IAAItE,MAAM2F,EAAI,GAE1B,CACA,GAAI9E,aAAqBuD,QAEvB,YADAoZ,EAAe3c,GAGjB,MAAM+c,EAAuB/c,EAAU/d,KAAK0f,GACxCob,aAAgCxZ,QAClCoZ,EAAeI,GAEfvZ,EAAQ,CAAExD,UAAW+c,GAEzB,CCJA,SAASC,GAAQrb,EAAQhgB,EAAIs7B,QAAc,IAAdA,MAAiB,IAC5C,MAAM99B,EAAWF,IACX8f,EAAM7c,EAAEP,GACRkd,EAAM8C,EAAO9C,IACb8V,EAAOhT,EAAOgT,KACd5iB,EAAUlV,GACd,EACA,CACEwK,QAASsa,EAAOxb,OAAOkB,QACvB8sB,gBAAgB,EAChB30B,cAAc,EACdD,SAAS,EACT29B,cAAevb,EAAOxb,OAAOg3B,YAC7BC,gBAAgB,EAChBC,WAAW,EACXC,sBAAsB,EACtBC,aAAc5b,EAAOxb,OAAOo3B,aAC5B55B,GAAI,IAENs5B,GAGIO,EAAsB7b,EAAOxb,OAAOgxB,uBAAyB,EAC7DsG,EACJD,GACAzrB,EAAQ2gB,OACR3gB,EAAQ2gB,MAAMA,SACkB,IAA/B3gB,EAAQ2gB,MAAMA,MAAMgL,QACoB,mBAA/B3rB,EAAQ2gB,MAAMA,MAAMgL,QAC1B3rB,EAAQ2gB,MAAMA,MAAMgL,OAAO7e,EAAK8C,IAEtC,IAAIgc,EACAC,EAIAC,EAHAC,EAA0B,EAE1BC,EAAsBpc,EAAOkZ,aAAamD,MAiB9C,GAfKD,GACH,4DACG56B,MAAM,KACNlG,SAASghC,IAENtc,EAAOkZ,cACPlZ,EAAOkZ,aAAanI,OACpB/Q,EAAOkZ,aAAanI,MAAMuL,KAE1BF,GAAsB,EACtBF,EAAYI,EACd,IAIFF,EAAqB,CACvB,MAAMG,EACJvc,EAAOkZ,aAAamD,OAASrc,EAAOkZ,aAAanI,MAAMyL,eAAiBtf,EAAIgf,GAAWz8B,MACnFg9B,EAAczc,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GAC3D,IAAIq+B,EAAgB7Z,EAAO0c,kBAAkBD,IACxC5C,GAAiB4C,IACpB5C,EAAgB,CACdloB,IAAK8qB,EACL1N,KAAM0N,EAAYj7B,MAAM,KAAK,GAC7BoQ,MAAOF,EAAc+qB,GACrB1L,MAAO,CACLhC,KAAM0N,EAAYj7B,MAAM,KAAK,GAC7BmQ,IAAK8qB,KAKXzc,EAAO2c,YAAYJ,EACrB,CAEA,MAAMvI,EAAgBhU,EAAOgU,cAEvB4I,EAAU5c,EAAO5C,IACjByf,EAAWzf,EACX0f,EAAS1sB,EAAQqrB,gBAAkBrrB,EAAQmrB,eAAiBnrB,EAAQsrB,UAC1E,IAAIqB,EAEArJ,EACAsJ,EACAC,EAGJ,GADAjd,EAAOkT,iBAAkB,EACD,IAApB2J,EAASrhC,OAEX,OADAwkB,EAAOkT,iBAAkB,EAClBlT,EAGL6c,EAASrhC,QAEXwkB,EAAOkd,oBAAoBL,GAGzB7I,IACFgJ,EAAeH,EAASvgC,SAAS,WACjCo3B,EAAa1T,EAAO0T,WACQ,IAAxBsJ,EAAaxhC,QAAgBqhC,EAAS,IAAMA,EAAS,GAAG1D,SAE1D6D,EAAeH,EAAS,GAAG1D,OAAOgE,YAMpC/sB,EAAQ2gB,OACR3gB,EAAQ2gB,MAAMA,OACd3gB,EAAQ2gB,MAAMA,MAAMqM,YACnBhtB,EAAQ2gB,MAAMA,MAAMsM,gBAErBjtB,EAAQ2gB,MAAMA,MAAMsM,cAAgB,CAClCC,OAAQlgB,EAAI,KAKhB,MAAMmgB,EAAeX,EAClBtgC,SAAS,uBACT+D,QAAQm9B,GAAeA,IAAeX,EAAS,KAGlD,IAAIY,EAcAC,EACA9B,EACA+B,EARJ,GAPI3J,IACFyJ,EAAiB/J,EACdp3B,SAAS,yBACT+D,QAAQu9B,GAAiBA,IAAiBZ,EAAa,MAIxD5sB,EAAQqrB,gBAAkB8B,EAAa/hC,OAAS,EAElD,OADAwkB,EAAOkT,iBAAkB,EAClBlT,EAOT,GAAI6b,IAAwBzrB,EAAQsrB,UAAW,CAC7C,IAAK,IAAI16B,EAAI,EAAGA,EAAIu8B,EAAa/hC,OAAQwF,GAAK,EACvCg7B,IAAgBuB,EAAav8B,GAAGkD,UAAUwF,SAAS,iBACtDsyB,EAAeuB,EAAav8B,IAMhC,GAFA08B,GAAY5B,GAAYE,EAEpB0B,GAEE1B,EACF,IAAK,IAAIh7B,EAAI,EAAGA,EAAIu8B,EAAa/hC,OAAQwF,GAAK,EACxCu8B,EAAav8B,GAAGkD,UAAUwF,SAAS,wBACrCuyB,EAAoBsB,EAAav8B,IAMzC46B,EACE8B,GACAttB,EAAQwrB,cACR1e,EAAI/D,OAAS6G,EAAOxb,OAAOgxB,wBAC3BwG,CACJ,CACI0B,IACFC,GAAgB1B,GAAqBL,GAAgBxrB,EAAQsrB,WAAatrB,EAAQmrB,eAIpF,IAAIsC,EAAkB,OA+CtB,GA9CIztB,EAAQmrB,eAAiBnrB,EAAQsrB,WAAaE,EAChDiC,EAAkB,UACTztB,EAAQqrB,iBACjBoC,EAAkB,YAEpBhB,EACGtc,YAAY,wCACZD,SACE,QAAOud,IAAkB/B,EAAW,eAAiB,KACpD4B,EAAW,sBAAwB,KAClCC,EAAe,2BAA6B,MAEhDpd,YAAY,WACZxe,QAAQ,gBACRA,QAAQ,gBAAiB,CAAE+7B,SAAUD,IACxC7d,EAAOpF,KAAK,cAAeiiB,EAAS,IACpC7c,EAAOpF,KAAK,eAAgBiiB,EAAS,GAAIgB,IAErC/B,GAAY4B,KACdb,EAAS96B,QAAQ,YAAa,CAAEg8B,KAAMjC,EAAW,SAAW,SAAUkC,OAAQL,IAC9E3d,EAAOpF,KAAK,WAAYiiB,EAAS,GAAI,CACnCkB,KAAMjC,EAAW,SAAW,SAC5BmC,aAAcN,KAId3J,GAAiBgJ,EAAaxhC,SAChCwhC,EACGzc,YAAY,8CACZD,SACE,UAASud,IAAkB/B,EAAW,iBAAmB,KACxD4B,EAAW,wBAA0B,KACpCC,EAAe,6BAA+B,MAElDpd,YAAY,WACfyc,EAAaj7B,QAAQ,kBAAmB,CAAE+7B,SAAUD,IACpD7d,EAAOpF,KAAK,iBAAkBoiB,EAAa,GAAIa,IAC3C/B,GAAY4B,IACd1d,EAAOpF,KAAK,aAAcoiB,EAAa,GAAI,CACzCe,KAAMjC,EAAW,SAAW,SAC5BmC,aAAcN,KAMhBvtB,EAAQmrB,eAAiBK,EACvBA,GACFmB,EAAWQ,EAAal9B,QAAQi9B,IAAYA,EAAOp5B,UAAUwF,SAAS,iBAClEsqB,IACFiJ,EAAe18B,EAAEw8B,EAAS/4B,KAAKs5B,GAAWpgB,EAAIghB,OAAOC,YAAYb,OAE/DP,EAASvhC,OAAS,GAAKwgC,IACzBG,EAA0BY,EAASvhC,OAAS,EAC5C+E,EAAEy7B,GAAczb,YAAY,uBAAuBxe,QAAQ,sBAC3Die,EAAOpF,KAAK,oBAAqBohB,GAC7BhI,IACFzzB,EAAE2c,EAAIghB,OAAOC,YAAYnC,IAAezb,YAAY,yBACpDP,EAAOpF,KAAK,sBAAuBsC,EAAIghB,OAAOC,YAAYnC,QAI9De,EAAWQ,EAAan1B,GAAGm1B,EAAa/hC,OAAS,GAC7Cw4B,IACFiJ,EAAe18B,EAAE2c,EAAIghB,OAAOC,YAAYpB,WAGvC,GAAI3sB,EAAQqrB,eACjBsB,EAAWQ,EAAan1B,GAAGm1B,EAAa/hC,OAAS,GAC7Cw4B,IAEFiJ,EAAe18B,EAAE2c,EAAIghB,OAAOC,YAAYpB,UAErC,GAAI3sB,EAAQsrB,UACjBqB,EAAWQ,EAAal9B,QAAQi9B,GAAWA,IAAWT,EAAS,KAC3D7I,IACFiJ,EAAeQ,EAAep9B,QAAQ+9B,GAAaA,IAAapB,EAAa,UAE1E,CACL,IAAIqB,EAAiB,GACjBC,EAAmB,GACvB,GAAIf,EAAa/hC,OAAS,EAAG,CAC3B,IAAIwF,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAIu8B,EAAa/hC,OAAS,EAAGwF,GAAK,EAAG,CAC/C,GAAIg7B,GAAgBuB,EAAav8B,KAAOg7B,EAAc,CACpDuB,EAAan1B,GAAGpH,GAAGsf,SAAS,uBAC5Bid,EAAan1B,GAAGpH,GAAGe,QAAQ,oBAC3Bie,EAAOpF,KAAK,kBAAmB2iB,EAAav8B,IACxCgzB,IACFzzB,EAAE2c,EAAIghB,OAAOC,YAAYnC,IAAe1b,SAAS,yBACjDN,EAAOpF,KAAK,oBAAqBsC,EAAIghB,OAAOC,YAAYnC,KAE1D,QACF,CACA,MAAMuC,EAAcrhB,EAAIghB,OAAOC,YAAYZ,EAAan1B,GAAGpH,IACvDgf,EAAOxb,OAAOi1B,YAChB8D,EAAan1B,GAAGpH,GAAGsf,SAAS,WAC5Bid,EAAan1B,GAAGpH,GAAGe,QAAQ,cAC3Bie,EAAOpF,KAAK,YAAa2iB,EAAav8B,IAClCgzB,GACFzzB,EAAEg+B,GAAaje,SAAS,aAI1B+d,EAAen+B,KAAKq9B,EAAav8B,IACjCgf,EAAOqZ,aACL,eACAkE,EAAav8B,GACby8B,GAAkBA,EAAez8B,GACjC,gBACAwG,EACA4I,GAEF4P,EAAO2Z,WAAW4D,EAAav8B,IAC3BgzB,GAAiBuK,IACnBD,EAAiBp+B,KAAKq+B,GACtBve,EAAO4Z,aAAa2E,IAG1B,CACF,CACAxB,EAAWH,EACRtgC,SAAS,uBACT+D,QAAQi9B,GAAWA,IAAWT,EAAS,IAAMwB,EAAez9B,QAAQ08B,GAAU,IAC7EtJ,IACFiJ,EAAevJ,EACZp3B,SAAS,yBACT+D,QACE+9B,GACCA,IAAapB,EAAa,IAAMsB,EAAiB19B,QAAQ09B,GAAoB,KAGrFD,EAAiB,GACjBC,EAAmB,EACrB,CAcA,GAZIZ,IAAattB,EAAQsrB,aACnBqB,EAASvhC,OAAS,GAAKogC,KACzBmB,EAAWA,EAAS18B,QAAQi9B,IAAYA,EAAOp5B,UAAUwF,SAAS,kBAEhEuzB,IAAiBA,EAAazhC,OAAS,GAAKogC,KAC9CqB,EAAeA,EAAa58B,QACzB+9B,IAAcA,EAASl6B,UAAUwF,SAAS,qBAO/CsW,EAAOxb,OAAOguB,iBACbpiB,EAAQoiB,gBAAkBpiB,EAAQvS,gBAClCuS,EAAQqrB,eACT,CACA,MAAM+C,EAAqBxe,EAAOxb,OAAOg6B,oBAAsB,GAC/D1M,GACE1hB,EAAQmrB,eACPK,GAAgBK,GACjB7rB,EAAQsrB,WACRtrB,EAAQvS,aACJ,UACA,QAEJm1B,EAAKl0B,GACL,CACE6S,IAAKvB,EAAQ2gB,MAAMpf,KAErB6sB,EAAqBxe,EAAOxb,OAAOi6B,wBAA0BruB,EAAQ2gB,MAAMpf,IAE/E,CAEKvB,EAAQqrB,iBAEXzb,EAAOqY,cAAgBwE,EAAS,GAC5B7I,GAAiBgJ,EAAaxhC,OAChCwkB,EAAOuY,gBAAkByE,EAAa,UAE/Bhd,EAAOuY,gBAIhBvY,EAAOkZ,aAAe9oB,EAAQ2gB,OAIhC,MAAMpf,EAAMvB,EAAQ2gB,MAAMpf,IAEtBvB,EAAQxS,YAENwS,EAAQmrB,eAAkBK,GAAgBK,IAAuBjc,EAAOpiB,QAAQpC,QAChF,GACF4U,EAAQvS,cAEJ+9B,GAAgBO,EAA0B,IAC5Cnc,EAAOpiB,QAAUoiB,EAAOpiB,QAAQqU,MAAM,EAAG+N,EAAOpiB,QAAQpC,OAAS2gC,IAEnEnc,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,QAAU4U,EAAQqrB,eAAiB,EAAI,IAAM9pB,GAClEvB,EAAQqrB,eACjBzb,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GAAKmW,EACnCvB,EAAQsrB,UACjB1b,EAAOpiB,QAAU,CAAC+T,GAElBqO,EAAOpiB,QAAQsC,KAAKyR,IAGxBqO,EAAOwZ,cAGP,MAAMkF,EAAe7B,EAAS10B,QAAQ3K,GAAUhC,OAAS,EACnD4kB,EAAcyc,EAAS,GAAGzc,YAqKhC,GApKIhQ,EAAQqrB,gBACNrb,IAAgBse,EAClBte,EAAYxB,OAAO+f,IACjBp+B,EAAEo+B,GAAa10B,aAAa8yB,EAAS,IAGvCF,EAAS5yB,aAAa8yB,GAEpB/I,GAAiBgJ,EAAaxhC,SAC5BwhC,EAAanH,KAAK,gBAAgBr6B,QACpCwhC,EAAa1c,SAAS,gBAEpB2c,EAAazhC,OACfwhC,EAAa/yB,aAAagzB,IAErBjd,EAAO0T,WAAWvrB,QAAQ3K,GAAUhC,QACvCwkB,EAAO5C,IAAI7P,QAAQyS,EAAO0T,YAE5BA,EAAW7rB,OAAOm1B,OAIlBD,EAASpyB,KAAK,SAAS,KAAOkyB,EAAS,KACrCzc,IAAgBse,EAClBte,EAAYxB,OAAO+f,IACjB/B,EAAQ/0B,OAAO82B,EAAY,IAG7B/B,EAAQ/0B,OAAOg1B,EAAS,KAGxB7I,GAAiBgJ,EAAaxhC,SAC5BwhC,EAAanH,KAAK,gBAAgBr6B,QACpCwhC,EAAa1c,SAAS,gBAEnBN,EAAO0T,WAAWvrB,QAAQ3K,GAAUhC,QACvCwkB,EAAO5C,IAAI7P,QAAQyS,EAAO0T,YAE5BA,EAAW7rB,OAAOm1B,EAAa,MAG9B0B,EAWHtuB,EAAQ2gB,OACR3gB,EAAQ2gB,MAAMA,OACd3gB,EAAQ2gB,MAAMA,MAAMqM,YACnBP,EAAS,GAAG+B,gBAEb/B,EAAS,GAAG+B,eAAgB,EAC5B5e,EAAOqZ,aACL,UACAwD,EACAG,EACAa,EACAf,EAASe,EAAkB,UAC3BztB,EACA2sB,IAvBF/c,EAAOqZ,aACL,UACAwD,EACAG,EACAa,EACAf,EAASe,EAAkB,UAC3BztB,EACA2sB,IAqBC3sB,EAAQmrB,eAAiBK,IAAiBmB,EAASvhC,OAAS,EAC3DwkB,EAAOxb,OAAOi1B,YAAczZ,EAAO0Z,aAAa94B,QAAQm8B,EAAS,KAAO,GAC1EA,EAASzc,SAAS,WAClByc,EAASh7B,QAAQ,cACjBie,EAAOpF,KAAK,YAAamiB,EAAS,IAC9B/I,GACFiJ,EAAa3c,SAAS,aAIxBN,EAAOqZ,aAAa,YAAa0D,EAAUE,EAAc,eAAWz1B,EAAW4I,GAC/E4P,EAAOqZ,aAAa,WAAY0D,EAAUE,EAAc,eAAWz1B,EAAW4I,GAC9E4P,EAAOqZ,aAAa,eAAgB0D,EAAUE,EAAc,eAAWz1B,EAAW4I,GAClF4P,EAAO2Z,WAAWoD,GACd/I,GAAiBiJ,GAAgBA,EAAazhC,QAChDwkB,EAAO4Z,aAAaqD,IAGf7sB,EAAQsrB,UACjBqB,EAAS13B,MAAK,CAACi4B,EAAQ33B,KACrB,MAAMk5B,EAAat+B,EAAE+8B,GACfwB,EAAiBv+B,EAAE2c,EAAIghB,OAAOC,YAAYU,IAC5C7e,EAAOxb,OAAOi1B,YAAczZ,EAAO0Z,aAAa94B,QAAQi+B,EAAW,KAAO,GAC5EA,EAAWve,SAAS,WACpBue,EAAW98B,QAAQ,cACnBie,EAAOpF,KAAK,YAAaikB,EAAW,IAChC7K,GACF8K,EAAexe,SAAS,aAItBue,EAAWhU,SAAS,kBACtB7K,EAAOqZ,aAAa,YAAa0D,EAAUE,EAAc,eAAWz1B,EAAW4I,GAC/E4P,EAAOqZ,aAAa,WAAY0D,EAAUE,EAAc,eAAWz1B,EAAW4I,IAEhF4P,EAAOqZ,aACL,eACAwF,EACA5B,GAAgBA,EAAa70B,GAAGzC,GAChC,gBACA6B,EACA4I,GAEF4P,EAAO2Z,WAAWkF,GACd7K,GAAiB8K,EAAetjC,QAClCwkB,EAAO4Z,aAAakF,GAExB,IAEO1uB,EAAQqrB,iBACbzb,EAAOxb,OAAOi1B,YAAczZ,EAAO0Z,aAAa94B,QAAQm8B,EAAS,KAAO,GAC1EA,EAASzc,SAAS,WAClByc,EAASh7B,QAAQ,cACjBie,EAAOpF,KAAK,YAAamiB,EAAS,IAC9B/I,GACFiJ,EAAa3c,SAAS,aAIxBN,EAAOqZ,aAAa,eAAgB0D,EAAUE,EAAc,gBAAYz1B,EAAW4I,GACnF4P,EAAO2Z,WAAWoD,GACd/I,GAAiBiJ,GAAgBA,EAAazhC,QAChDwkB,EAAO4Z,aAAaqD,KAMtB7sB,EAAQ2gB,MAAMA,MAAMgO,KACtB/e,EAAOgf,QACL5uB,EAAQ2gB,MAAMA,MAAMgO,IACpB7jC,EAAO,GAAIkV,EAAS,CAClBxS,SAAS,EACT40B,gBAAgB,KAMlBqJ,GACF7I,EAAKiM,8BAIPjf,EAAOqZ,aACL,OACAwD,EACAG,EACAa,EACAf,EAASe,EAAkB,UAC3BztB,EACA2sB,GAGE3sB,EAAQmrB,eAAiBnrB,EAAQsrB,WAAaE,EAehD,OAdA5b,EAAOkT,iBAAkB,EACzBlT,EAAOqZ,aAAa,WAAYwD,EAAUG,EAAca,EAAiB,UAAWztB,GACpFysB,EAAS7D,WAAW,eAChBhF,GAAiBgJ,GACnBA,EAAahE,WAAW,eAE1BhZ,EAAOqZ,aAAa,UAAWwD,EAAUG,EAAca,EAAiB,UAAWztB,GAC/EA,EAAQmrB,eAAiBnrB,EAAQurB,sBAAsB3b,EAAO2b,uBAC9DC,IACF5b,EAAOkf,gBAAgB3+B,EAAEy7B,GAAe,YACpCA,EAAa7C,QAAU6C,EAAa7C,OAAOiF,UAC7Cpe,EAAOiZ,kBAAkB14B,EAAEy7B,EAAa7C,OAAOiF,UAAW,aAGvDpe,EAET,GAAI5P,EAAQqrB,eAEV,OADAzb,EAAOkT,iBAAkB,EAClBlT,EAQT,SAASmf,IACPnf,EAAOkf,gBAAgBrC,EAAU,WAAW,GAC5C7c,EAAOkf,gBAAgBnC,EAAU,YAAaA,EAASlS,SAAS,gBAC5DmJ,IACFhU,EAAOiZ,kBAAkB+D,EAAc,WAAW,GAClDhd,EAAOiZ,kBAAkBgE,EAAc,YAAaA,EAAapS,SAAS,mBAG5E7K,EAAOkT,iBAAkB,EACzBlT,EAAOqZ,aAAa,WAAY0D,EAAUE,EAAc,UAAW,WAAY7sB,GAC/E4P,EAAOqZ,aAAa,UAAWwD,EAAUG,EAAc,OAAQ,UAAW5sB,GAE1E,IAAIgvB,GACDpf,EAAOxb,OAAOs1B,qBAAuB9Z,EAAOxb,OAAQ,GAAE0Y,EAAIjD,qBAAuB6hB,EAC/EsD,IAEDvC,EAAShS,SAAS,sBAClBgS,EAAShS,SAAS,uBAClBgS,EAAShS,SAAS,sBAClBgS,EAAShS,SAAS,wBAElBuU,GAAc,GAGbA,IACCpf,EAAOxb,OAAOi1B,YAChBsD,EAASzc,SAAS,WAClByc,EAASh7B,QAAQ,cACjBie,EAAOpF,KAAK,YAAamiB,EAAS,IAC9B/I,GACFiJ,EAAa3c,SAAS,YAGtBuc,EAASp0B,KAAK,cAA+C,sBAA/Bo0B,EAASp0B,KAAK,eAG9CuX,EAAOqZ,aAAa,eAAgB0D,EAAUE,EAAc,gBAAYz1B,EAAW4I,GACnF4P,EAAO2Z,WAAWoD,GACd/I,GAAiBiJ,EAAazhC,QAChCwkB,EAAO4Z,aAAaqD,KAItB7sB,EAAQurB,sBAAsB3b,EAAO2b,uBACzC3b,EAAOpF,KAAK,eAAgBoF,EAAOkZ,aAAclZ,EAAO6Z,cAAe7Z,GAEnEA,EAAOxb,OAAOguB,gBAChBV,GAAQK,kBAEZ,CACA,SAASkN,IACPrf,EAAOkf,gBAAgBnC,EAAU,WAAW,GAC5C/c,EAAOkf,gBAAgBrC,EAAU,QAAQ,GACrC7I,IACFhU,EAAOiZ,kBAAkBgE,EAAc,WAAW,GAClDjd,EAAOiZ,kBAAkB+D,EAAc,QAAQ,GAEnD,CACA,GA9DAhd,EAAOqZ,aAAa,YAAa0D,EAAUE,EAAc,UAAW,WAAY7sB,GAChF4P,EAAOqZ,aAAa,WAAYwD,EAAUG,EAAc,OAAQ,UAAW5sB,IA6DvEA,EAAQ1K,SAAao2B,GAAY5e,EAAI/D,OAAS6G,EAAOxb,OAAOgxB,uBAoC9D2J,QApCuF,CACvF,MAAM5tB,EAAQyO,EAAOxb,OAAQ,GAAEwb,EAAO9C,IAAIjD,sBAC1C,IAAI+a,EAAahV,EAAOxb,OAAOwwB,WAC3B5kB,EAAQ4kB,aAAYA,EAAa5kB,EAAQ4kB,aACxCA,GAAchV,EAAOkZ,cAAgBlZ,EAAOkZ,aAAanI,QAC5DiE,EAAahV,EAAOkZ,aAAanI,MAAMiE,aAEpCA,GAAchV,EAAOkZ,cAAgBlZ,EAAOkZ,aAAanI,MAAM3gB,UAClE4kB,EAAahV,EAAOkZ,aAAanI,MAAM3gB,QAAQ4kB,YAE7CA,IACF6H,EAAS,GAAGyC,iBAAmBtK,GAG7BzjB,EACF/S,YAAW,KACT6gC,IACArf,EAAOta,QACLq3B,EACAF,EACAI,EACAD,EACA,UACAhI,GACA,KACEmK,GAAgB,GAEnB,GACA5tB,IAEH8tB,IACArf,EAAOta,QAAQq3B,EAAUF,EAAUI,EAAcD,EAAc,UAAWhI,GAAY,KACpFmK,GAAgB,IAGtB,CAGA,OAAOnf,CACT,CACA,SAASuf,GAAKvf,EAAQwf,EAAiBC,EAAkBC,GACvD,QAD8B,IAAVF,MAAa,SAAe,IAAXC,MAAc,KAC9Czf,EAAOkT,kBAAoBwM,EAAkB,OAAO1f,EACzD,MAAMxb,EAASg7B,EACTpvB,EAAUqvB,GACV9tB,IAAEA,EAAG2R,QAAEA,EAAOtjB,GAAEA,EAAE2/B,SAAEA,EAAQthB,UAAEA,EAASC,aAAEA,GAAiB9Z,EAEhE,IACG4L,EAAQmrB,eACTnrB,EAAQ2gB,OACR3gB,EAAQ2gB,MAAMA,OACd3gB,EAAQ2gB,MAAMA,MAAM6O,YACpB5f,EAAOkZ,aAAanI,OACpB/Q,EAAOkZ,aAAanI,MAAM6O,aAAexvB,EAAQ2gB,MAAMA,MAAM6O,WAC7D,CAEA,GAAIxvB,EAAQ2gB,MAAMpf,MAAQqO,EAAOrO,IAE/B,OADAqO,EAAOkT,iBAAkB,GAClB,EAGT,IAAI2M,EACF5kC,OAAOI,KAAK+U,EAAQ2gB,MAAMvsB,QAAQhJ,SAAWP,OAAOI,KAAK2kB,EAAOkZ,aAAa10B,QAAQhJ,OAYvF,GAXIqkC,GAEF5kC,OAAOI,KAAK+U,EAAQ2gB,MAAMvsB,QAAQlJ,SAASwkC,IAErCA,KAAa9f,EAAOkZ,aAAa10B,QACnCwb,EAAOkZ,aAAa10B,OAAOs7B,KAAe1vB,EAAQ2gB,MAAMvsB,OAAOs7B,KAE/DD,GAAa,EACf,IAGAA,EACF,QAAIzvB,EAAQ2gB,MAAMA,MAAMgO,KACf/e,EAAOgf,QAAQ5uB,EAAQ2gB,MAAMA,MAAMgO,IAAK3uB,GAInD,IACGyvB,GACDzvB,EAAQ2gB,MAAMA,MAAMgO,KACpB/e,EAAOkZ,aAAanI,MAAMgO,KAC1B/e,EAAOkZ,aAAa0G,aAAexvB,EAAQ2gB,MAAM6O,WAEjD,OAAO5f,EAAOgf,QAAQ5uB,EAAQ2gB,MAAMA,MAAMgO,IAAK3uB,EAEnD,CAEA,GACEA,EAAQ2gB,OACR3gB,EAAQ2gB,MAAMpf,KACdqO,EAAOrO,MAAQvB,EAAQ2gB,MAAMpf,MAC3BvB,EAAQmrB,gBAAiBnrB,EAAQqrB,iBAClCzb,EAAOxb,OAAOu7B,mBAGf,OADA/f,EAAOkT,iBAAkB,GAClB,EAsBT,IAnBK9iB,EAAQ2gB,OAASpf,IACpBvB,EAAQ2gB,MAAQ/Q,EAAOggB,cAAcruB,GACrCzW,EAAOkV,EAAQ2gB,MAAO,CAAEA,MAAO,CAAEpf,MAAKod,KAAMpd,OAY1CA,GAAO2M,GAAgBD,KACzB2B,EAAOkT,iBAAkB,GAIvB5P,EACF+X,GAAQrb,EAAQA,EAAOigB,UAAU3c,GAAUlT,QACtC,GAAIpQ,EAETq7B,GAAQrb,EAAQA,EAAOigB,UAAUjgC,GAAKoQ,QACjC,GAAIuvB,EAETtE,GAAQrb,EAAQA,EAAO5C,IAAI9gB,SAAU,oBAAmBqjC,OAAcv3B,GAAG,GAAIgI,QACxE,GAAIiO,GAAaC,EAEtB,IACE0B,EAAOkgB,oBAAoB,CACzBC,SAAUngB,EAAOhgB,GACjBqe,YACAC,eACAlO,UACAyR,QA7BN,SAAiByb,EAAQ8C,GACvB,OAAO/E,GAAQrb,EAAQsd,EAAQpiC,EAAOkV,EAASgwB,GACjD,EA4BMte,OA3BN,WAEE,OADA9B,EAAOkT,iBAAkB,EAClBlT,CACT,G,CA0BI,MAAOmD,GAEP,MADAnD,EAAOkT,iBAAkB,EACnB/P,CACR,MACSxR,IAELqO,EAAOqgB,qBACTrgB,EAAOqgB,mBAAmBla,QAC1BnG,EAAOqgB,oBAAqB,GAE9BrgB,EACGsgB,WAAW3uB,EAAKvB,GAChB6S,MAAMsd,IACLlF,GAAQrb,EAAQA,EAAOigB,UAAUM,GAAcnwB,EAAQ,IAExD8S,OAAM,KACLlD,EAAOkT,iBAAkB,CAAI,KAGnC,OAAOlT,CACT,CC1xBA,SAASwgB,GAASxgB,EAAQhgB,EAAIygC,GAC5B,MAAMzoB,EAASN,KACTla,EAAWF,IACX8f,EAAM7c,EAAEP,GACRkd,EAAM8C,EAAO9C,IACb8V,EAAOhT,EAAOgT,KAEd5iB,EAAUlV,GACd,EACA,CACEwK,QAASsa,EAAOxb,OAAOkB,QACvB8sB,gBAAgB,EAChB30B,cAAc,GAEhB4iC,GAGI5E,EAAsB7b,EAAOxb,OAAOgxB,uBAAyB,EAC7DsG,EACJD,GACAzrB,EAAQ2gB,OACR3gB,EAAQ2gB,MAAMA,SACkB,IAA/B3gB,EAAQ2gB,MAAMA,MAAMgL,QACoB,mBAA/B3rB,EAAQ2gB,MAAMA,MAAMgL,QAC1B3rB,EAAQ2gB,MAAMA,MAAMgL,OAAO7e,EAAK8C,IACtC,IAAIgc,EACA0E,EAEJ,MAAM1M,EAAgBhU,EAAOgU,cAEvB6I,EAAWzf,EACX2f,EAAW/c,EAAO5C,IAAI9gB,SAAS,iBAC/BqkC,EAAqC,IAApB5D,EAASvhC,QAAgB4U,EAAQ2pB,QAClD6G,EAAkB/E,GAAuBkB,EAASlS,SAAS,eAOjE,IAAI6I,EACAsJ,EACAC,EAkCAS,EACAC,EA8EAkD,EApGJ,GApBIhE,EAASrhC,QAEXwkB,EAAOkd,oBAAoBL,GAOzB7I,IACFgJ,EAAeH,EAASvgC,SAAS,WACjCo3B,EAAa1T,EAAO0T,WACQ,IAAxBsJ,EAAaxhC,QAAgBqhC,EAAS,IAAMA,EAAS,GAAG1D,SAE1D6D,EAAeH,EAAS,GAAG1D,OAAOgE,WAEpCF,EAAevJ,EAAWmC,KAAK,oBAGjC7V,EAAOkT,iBAAkB,EACD,IAApB2J,EAASrhC,QAAqC,IAApBuhC,EAASvhC,SAAiB4U,EAAQ2pB,QAE9D,OADA/Z,EAAOkT,iBAAkB,EAClBlT,EAqBT,GAjBAA,EAAOkd,oBAAoBL,GAIzBzsB,EAAQ2gB,OACR3gB,EAAQ2gB,MAAMA,OACd3gB,EAAQ2gB,MAAMA,MAAMqM,YACnBhtB,EAAQ2gB,MAAMA,MAAMsM,gBAErBjtB,EAAQ2gB,MAAMA,MAAMsM,cAAgB,CAClCC,OAAQlgB,EAAI,KAOZye,EAAqB,CACvB,MAAM0B,EAAevd,EAAO5C,IACzB9gB,SAAS,uBACT+D,QAAQm9B,GAAeA,IAAeX,EAAS,KAGlD,IAAK,IAAI77B,EAAI,EAAGA,EAAIu8B,EAAa/hC,OAAQwF,GAAK,EACvCg7B,IAAgBuB,EAAav8B,GAAGkD,UAAUwF,SAAS,iBACtDsyB,EAAeuB,EAAav8B,IAKhC08B,GACG5B,GACDE,GACAhc,EAAOpiB,QAAQgD,QAAQwP,EAAQ2gB,MAAMpf,KACnCqO,EAAOpiB,QAAQgD,QAAQo7B,EAAa7C,OAAOpI,MAAMpf,MAGlD+rB,IACA5B,GACDE,GACAA,EAAa7C,QACb/oB,EAAQ2gB,MAAMA,MAAM+P,cAEpBpD,EAAWttB,EAAQ2gB,MAAMA,MAAM+P,YAAY/R,OAASiN,EAAa7C,OAAOpI,MAAMA,MAAMhC,KAExF,CAkDA,GAjDI2O,GAAY1B,GAAgBA,EAAa7C,SAC3CwE,EACE3d,EAAOpiB,QAAQgD,QAAQwP,EAAQ2gB,MAAMpf,KACnCqO,EAAOpiB,QAAQgD,QAAQo7B,EAAa7C,OAAOpI,MAAMpf,MACnD,GAIJkrB,EACGvc,SACE,QAAOqgB,EAAiB,UAAY,aAAa7E,EAAW,eAAiB,KAC5E4B,EAAW,sBAAwB,KAClCC,EAAe,2BAA6B,MAEhDpd,YAAY,WACZyY,WAAW,eACXj3B,QAAQ,gBACRA,QAAQ,gBAAiB,CAAE+7B,SAAU6C,EAAiB,UAAY,aACrE3gB,EAAOpF,KAAK,cAAeiiB,EAAS,IACpC7c,EAAOpF,KAAK,eAAgBiiB,EAAS,GAAI8D,EAAiB,UAAY,aAClE7E,GAAY4B,KACdb,EAAS96B,QAAQ,YAAa,CAAEg8B,KAAMjC,EAAW,SAAW,SAAUkC,OAAQL,IAC9E3d,EAAOpF,KAAK,WAAYiiB,EAAS,GAAI,CACnCkB,KAAMjC,EAAW,SAAW,SAC5BmC,aAAcN,KAId3J,GAAiBgJ,EAAaxhC,OAAS,IACzCwhC,EACG1c,SACE,UAASqgB,EAAiB,UAAY,aAAa7E,EAAW,iBAAmB,KAChF4B,EAAW,wBAA0B,KACpCC,EAAe,6BAA+B,MAElDpd,YAAY,WACZyY,WAAW,eACdgE,EAAaj7B,QAAQ,kBAAmB,CAAE+7B,SAAU6C,EAAiB,UAAY,aACjF3gB,EAAOpF,KAAK,iBAAkBoiB,EAAa,GAAI2D,EAAiB,UAAY,aACxE7E,GAAY6B,IACd3d,EAAOpF,KAAK,aAAcoiB,EAAa,GAAI,CACzCe,KAAMjC,EAAW,SAAW,SAC5BmC,aAAcN,KAOhBvtB,EAAQ2wB,QAERhE,EAASrvB,KAAK,gCAAgClS,OAAS,GACZ,IAA3CuhC,EAASrvB,KAAK,kBAAkBlS,QAYhC,GAVIwkB,EAAOpiB,QAAQgD,QAAQwP,EAAQ2gB,MAAMpf,MAAQ,GAC/CkvB,EAAY7gB,EAAOpiB,QAAQpC,OAASwkB,EAAOpiB,QAAQgD,QAAQwP,EAAQ2gB,MAAMpf,KAAO,EAChFqO,EAAOpiB,QAAUoiB,EAAOpiB,QAAQqU,MAAM,EAAG+N,EAAOpiB,QAAQgD,QAAQwP,EAAQ2gB,MAAMpf,KAAO,GACrFqhB,EAAKp1B,QAAUoiB,EAAOpiB,SACboiB,EAAOpiB,QAAQ,CAACoiB,EAAOpiB,QAAQpC,OAAS,IACjDwkB,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GAAK4U,EAAQ2gB,MAAMpf,IAE1DqO,EAAOpiB,QAAQ8O,QAAQsT,EAAOrO,KAG5BkvB,GAAa7gB,EAAOxb,OAAOi1B,WAC7BsD,EAAS9tB,QAAQ,kBAAkB5J,MAAM27B,IACvC,MAAMC,EAAgB1gC,EAAEygC,GACxB,IAAIE,EACAlN,IAEFkN,EAAkB3gC,EAAE2c,EAAIghB,OAAOC,YAAY8C,KAEzCA,EAAc,KAAOpE,EAAS,IAAMoE,EAAct7B,QAAUk3B,EAASl3B,UACnEqa,EAAO0Z,aAAa94B,QAAQqgC,EAAc,KAAO,GACnDA,EAAc3gB,SAAS,WACvB2gB,EAAcl/B,QAAQ,cACtBie,EAAOpF,KAAK,YAAaqmB,EAAc,IACnCjN,GACFkN,EAAgB5gB,SAAS,aAG3BN,EAAOqZ,aACL,eACA4H,EACAC,EACA,gBACA15B,EACA4I,GAEE6wB,EAAc,KAAOjF,IACvB0E,GAAoB,GAEtB1gB,EAAO2Z,WAAWsH,GACdjN,GAAiBkN,EAAgB1lC,OAAS,GAC5CwkB,EAAO4Z,aAAasH,IAG1B,QAEG,CACL,MAAMD,EAAgBlE,EAASrvB,KAAK,gCACpC,IAAIwzB,EACAlN,IAEFkN,EAAkB3gC,EAAE2c,EAAIghB,OAAOC,YAAY8C,KAEzCjhB,EAAOxb,OAAOi1B,YAAczZ,EAAO0Z,aAAa94B,QAAQqgC,EAAc,KAAO,GAC/EA,EAAc3gB,SAAS,WACvB2gB,EAAcl/B,QAAQ,cACtBie,EAAOpF,KAAK,YAAaqmB,EAAc,IACvCC,EAAgB5gB,SAAS,YAChB2gB,EAAczlC,OAAS,IAChCwkB,EAAOqZ,aACL,eACA4H,EACAC,EACA,gBACA15B,EACA4I,GAEE6wB,EAAc,KAAOjF,IACvB0E,GAAoB,GAEtB1gB,EAAO2Z,WAAWsH,GACdjN,GAAiBkN,EAAgB1lC,QACnCwkB,EAAO4Z,aAAasH,GAG1B,CAKJ,MAAMxC,EAAe7B,EAAS10B,QAAQ3K,GAAUhC,OAAS,EACnD4kB,EAAcyc,EAAS,GAAGzc,YAEhC,SAAS+gB,IACHR,KACGjC,GAAgBte,EACnBA,EAAYxB,OAAO+f,IACjB3e,EAAO5C,IAAIvV,OAAO82B,EAAY,IAGhC3e,EAAO5C,IAAIvV,OAAOg1B,IAGiB,IAAnCA,EAASlyB,KAAKoyB,GAAUvhC,UACrBkjC,GAAgBte,EACnBA,EAAYxB,OAAO+f,IACjBp+B,EAAEo+B,GAAa10B,aAAa8yB,EAAS,IAGvCF,EAAS5yB,aAAa8yB,IAGtB/I,GAAiBgJ,EAAaxhC,SAC5BwhC,EAAanH,KAAK,gBAAgBr6B,QACpCwhC,EAAa1c,SAAS,gBAExB0c,EAAa/yB,aAAagzB,GACtBA,EAAazhC,OAAS,EACxBwhC,EAAa/yB,aAAagzB,IAErBjd,EAAO0T,WAAWvrB,QAAQ3K,GAAUhC,QACvCwkB,EAAO5C,IAAI7P,QAAQyS,EAAO0T,YAE5BA,EAAW7rB,OAAOm1B,KAGjB0B,EAWHtuB,EAAQ2gB,OACR3gB,EAAQ2gB,MAAMA,OACd3gB,EAAQ2gB,MAAMA,MAAMqM,YACnBP,EAAS,GAAG+B,gBAEb/B,EAAS,GAAG+B,eAAgB,EAC5B5e,EAAOqZ,aACL,UACAwD,EACAG,EACA,WACA,UACA5sB,EACA2sB,IAvBF/c,EAAOqZ,aACL,UACAwD,EACAG,EACA,WACA,UACA5sB,EACA2sB,EAmBN,CAEA,GAAI3sB,EAAQ2pB,QAAS,CAEnBoH,IAEI/wB,EAAQ2gB,MAAMA,MAAMgO,KACtB/e,EAAOgf,QACL5uB,EAAQ2gB,MAAMA,MAAMgO,IACpB7jC,EAAO,GAAIkV,EAAS,CAClBxS,SAAS,EACT40B,gBAAgB,EAChBuH,SAAS,KAIX+B,IACFe,EAAStc,YAAY,uBAAuBxe,QAAQ,sBACpDie,EAAOpF,KAAK,oBAAqBiiB,EAAS,IACtC7I,IACFzzB,EAAE2c,EAAIghB,OAAOC,YAAYtB,IAAWtc,YAAY,yBAChDP,EAAOpF,KAAK,sBAAuBsC,EAAIghB,OAAOC,YAAYtB,MAI9D7c,EAAOqZ,aAAa,OAAQwD,EAAUG,EAAc,WAAY,UAAW5sB,EAAS2sB,GAChF4D,IACF3gB,EAAOqZ,aAAa,WAAYwD,EAAUG,EAAc,eAAWx1B,EAAW4I,GAC9E4P,EAAOqZ,aAAa,UAAWwD,EAAUG,EAAc,eAAWx1B,EAAW4I,IAE/E,MAAMgxB,EAAiBvE,EAAS5tB,QAAQ,kDAgCxC,OA/BImyB,EAAe5lC,OAAS,GAC1B4lC,EAAe/7B,MAAM27B,IACnB,MAAMC,EAAgB1gC,EAAEygC,GACxB,IAAIE,EACAlN,IAEFkN,EAAkB3gC,EAAE2c,EAAIghB,OAAOC,YAAY8C,KAEzCjhB,EAAOxb,OAAOi1B,YAAczZ,EAAO0Z,aAAa94B,QAAQogC,IAAiB,GAC3EC,EAAc3gB,SAAS,WACvB2gB,EAAcl/B,QAAQ,cACtBie,EAAOpF,KAAK,YAAaqmB,EAAc,IACnCjN,GACFkN,EAAgB5gB,SAAS,aAG3BN,EAAOqZ,aACL,eACA4H,EACAC,EACA,gBACA15B,GAEFwY,EAAO2Z,WAAWsH,GACdjN,GAAiBkN,EAAgB1lC,QACnCwkB,EAAO4Z,aAAasH,GAExB,IAGJlhB,EAAOkT,iBAAkB,EAClBlT,CACT,CAGA,KAAMhI,EAAOS,IAAMT,EAAOQ,MAASR,EAAOU,UAAYV,EAAOC,MACvD+H,EAAOxb,OAAOguB,gBAAkBpiB,EAAQoiB,eAC1C,GAAIpiB,EAAQvS,aAAc,CACxB,MAAM2gC,EAAqBxe,EAAOxb,OAAOg6B,oBAAsB,GAC/D1M,GAAQ3rB,QACN6sB,EAAKl0B,GACL,CACE6S,IAAKvB,EAAQ2gB,MAAMpf,KAErB6sB,EAAqBxe,EAAOxb,OAAOi6B,wBAA0BruB,EAAQ2gB,MAAMpf,I,MAEpEkvB,EACT/O,GAAQ/zB,IAAI8iC,GAEZ/O,GAAQ9zB,OA4Bd,GAtBIoS,EAAQvS,aACVmiB,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GAAK4U,EAAQ2gB,MAAMpf,KAE5B,IAA1BqO,EAAOpiB,QAAQpC,QACjBwkB,EAAOpiB,QAAQ8O,QAAQsT,EAAOrO,KAEhCqO,EAAOpiB,QAAQw0B,OAEjBpS,EAAOwZ,cAGPxZ,EAAOqY,cAAgBwE,EAAS,GAC5B7I,GAAiBgJ,EAAaxhC,OAChCwkB,EAAOuY,gBAAkByE,EAAa,UAE/Bhd,EAAOuY,gBAIhBvY,EAAOkZ,aAAe9oB,EAAQ2gB,OAG1B/Y,EAAOS,IAAMT,EAAOQ,MAASR,EAAOU,UAAYV,EAAOC,MACrD+H,EAAOxb,OAAOguB,gBAAkBpiB,EAAQoiB,eAC1C,GAAIpiB,EAAQvS,aAAc,CACxB,MAAM2gC,EAAqBxe,EAAOxb,OAAOg6B,oBAAsB,GAC/D1M,GAAQ3rB,QACN6sB,EAAKl0B,GACL,CACE6S,IAAKvB,EAAQ2gB,MAAMpf,KAErB6sB,EAAqBxe,EAAOxb,OAAOi6B,wBAA0BruB,EAAQ2gB,MAAMpf,I,MAEpEkvB,EACT/O,GAAQ/zB,IAAI8iC,GAEZ/O,GAAQ9zB,OAiCd,SAASmhC,IAEPnf,EAAOkf,gBAAgBrC,EAAU,WAAW,GAC5C7c,EAAOkf,gBAAgBnC,EAAU,QAAQ,GACrC/I,IACFhU,EAAOiZ,kBAAkB+D,EAAc,WAAW,GAClDhd,EAAOiZ,kBAAkBgE,EAAc,QAAQ,IAIjDjd,EAAOqZ,aAAa,WAAY0D,EAAUE,EAAc,UAAW,OAAQ7sB,GAC3E4P,EAAOqZ,aAAa,UAAWwD,EAAUG,EAAc,WAAY,UAAW5sB,GAG1E4P,EAAOxb,OAAOi1B,YAAczZ,EAAO0Z,aAAa94B,QAAQm8B,EAAS,KAAO,GAC1EA,EAASzc,SAAS,WAClByc,EAASh7B,QAAQ,cACjBie,EAAOpF,KAAK,YAAamiB,EAAS,IAC9B/I,GACFiJ,EAAa3c,SAAS,aAGxBN,EAAOqZ,aAAa,eAAgB0D,EAAUE,EAAc,YAAQz1B,EAAW4I,GAC/E4P,EAAO2Z,WAAWoD,GACd/I,GAAiBiJ,EAAazhC,QAChCwkB,EAAO4Z,aAAaqD,IAIxBjd,EAAOkT,iBAAkB,EACzBlT,EAAOpF,KAAK,eAAgBoF,EAAOkZ,aAAclZ,EAAO6Z,cAAe7Z,IAIrEA,EAAOxb,OAAOs1B,qBAAuB9Z,EAAOxb,OAAQ,GAAE0Y,EAAIjD,oBACjC+F,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,KAAOsgC,GACvE9b,EAAOhiB,KAAKgiB,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GAAI,CAAEu+B,SAAS,IAEhE/Z,EAAOxb,OAAOguB,gBAChBV,GAAQK,kBAEZ,CAWA,GA/EAgP,IAGI/wB,EAAQ2gB,MAAMA,MAAMgO,KACtB/e,EAAOgf,QACL5uB,EAAQ2gB,MAAMA,MAAMgO,IACpB7jC,EAAO,GAAIkV,EAAS,CAClBxS,SAAS,EACT40B,gBAAgB,KAOlBqJ,IAAwB+E,GAAmBF,IAC7C1N,EAAKiM,6BAA4B,GAInCjf,EAAOqZ,aAAa,OAAQwD,EAAUG,EAAc,WAAY,UAAW5sB,EAAS2sB,GAGpF/c,EAAOqZ,aAAa,YAAa0D,EAAUE,EAAc,UAAW,OAAQ7sB,GAC5E4P,EAAOqZ,aAAa,WAAYwD,EAAUG,EAAc,WAAY,UAAW5sB,IAuD3EA,EAAQ1K,SAAak7B,GAAmB1jB,EAAI/D,OAAS6G,EAAOxb,OAAOgxB,uBAuBrE2J,QAvB8F,CAC9F,IAAInK,EAAahV,EAAOxb,OAAOwwB,WAC3B+H,EAAS,IAAMA,EAAS,GAAGuC,mBAC7BtK,EAAa+H,EAAS,GAAGuC,wBAClBvC,EAAS,GAAGuC,kBAEjBlvB,EAAQ4kB,aAAYA,EAAa5kB,EAAQ4kB,aACxCA,GAAchV,EAAO6Z,eAAiB7Z,EAAO6Z,cAAc9I,QAC9DiE,EAAahV,EAAO6Z,cAAc9I,MAAMiE,aAGvCA,GACDhV,EAAO6Z,eACP7Z,EAAO6Z,cAAc9I,OACrB/Q,EAAO6Z,cAAc9I,MAAM3gB,UAE3B4kB,EAAahV,EAAO6Z,cAAc9I,MAAM3gB,QAAQ4kB,YAxBlDhV,EAAOkf,gBAAgBnC,EAAU,WACjC/c,EAAOkf,gBAAgBrC,EAAU,YAAY,GACzC7I,IACFhU,EAAOiZ,kBAAkBgE,EAAc,WACvCjd,EAAOiZ,kBAAkB+D,EAAc,YAAY,IAuBrDhd,EAAOta,QAAQq3B,EAAUF,EAAUI,EAAcD,EAAc,WAAYhI,GAAY,KACrFmK,GAAgB,GAEpB,CAIA,OAAOnf,CACT,CACA,SAASqhB,GAASrhB,EAAQshB,EAAYC,EAAa7B,GACjD,IAAK1f,EAAOkT,kBAAoBwM,EAAkB,OAAO1f,EACzD,MAAMxb,EAAS88B,EACTlxB,EAAUmxB,GACV5vB,IAAEA,EAAG2R,QAAEA,EAAOtjB,GAAEA,EAAE2/B,SAAEA,EAAQthB,UAAEA,EAASC,aAAEA,GAAiB9Z,EAEhE,GACE4L,EAAQ2gB,MAAMpf,KACdqO,EAAOrO,MAAQvB,EAAQ2gB,MAAMpf,MAC3BvB,EAAQmrB,gBAAiBnrB,EAAQqrB,iBAClCzb,EAAOxb,OAAOu7B,mBAEf,OAAO,EAqBT,IAlBK3vB,EAAQ2gB,OAASpf,IACpBvB,EAAQ2gB,MAAQ/Q,EAAOggB,cAAcruB,KAYnCA,GAAO2M,GAAgBD,KACzB2B,EAAOkT,iBAAkB,GAIvB5P,EACFkd,GAASxgB,EAAQA,EAAOigB,UAAU3c,GAAUlT,QACvC,GAAIpQ,EAETwgC,GAASxgB,EAAQA,EAAOigB,UAAUjgC,GAAKoQ,QAClC,GAAIuvB,EAETa,GAASxgB,EAAQA,EAAO5C,IAAI9gB,SAAU,oBAAmBqjC,OAAcv3B,GAAG,GAAIgI,QACzE,GAAIiO,GAAaC,EAEtB,IACE0B,EAAOkgB,oBAAoB,CACzBC,SAAUngB,EAAOhgB,GACjBqe,YACAC,eACAlO,UACAyR,QA7BN,SAAiByb,EAAQ8C,GACvB,OAAOI,GAASxgB,EAAQsd,EAAQpiC,EAAOkV,EAASgwB,GAClD,EA4BMte,OA3BN,WAEE,OADA9B,EAAOkT,iBAAkB,EAClBlT,CACT,G,CA0BI,MAAOmD,GAEP,MADAnD,EAAOkT,iBAAkB,EACnB/P,CACR,MACSxR,IAELqO,EAAOqgB,qBACTrgB,EAAOqgB,mBAAmBla,QAC1BnG,EAAOqgB,oBAAqB,GAE9BrgB,EACGsgB,WAAW3uB,EAAKvB,GAChB6S,MAAMsd,IACLC,GAASxgB,EAAQA,EAAOigB,UAAUM,GAAcnwB,EAAQ,IAEzD8S,OAAM,KACLlD,EAAOkT,iBAAkB,CAAI,KAGnC,OAAOlT,CACT,CCtlBA,MAAMwhB,WAAetmB,GACnBlgB,YAAYkiB,EAAK8V,GACf3zB,MAAM,GAAI,MAAiB,IAAT2zB,EAAuB9V,EAAM8V,IAC/C,MAAMhT,EAAS9hB,KAGf8hB,EAAOyhB,iBAA8B,IAATzO,EAExBhT,EAAOyhB,YAETvmC,GAAO,EAAO8kB,EAAQ,CACpB9C,MACA1Y,OAAQ0Y,EAAI1Y,OAAOwuB,KACnBlV,OAAQZ,EAAIY,QAAU,GACtBwG,MAAOpH,EAAIoH,QAIbppB,GAAO,EAAO8kB,EAAQ,CACpB9C,MACA8V,OACAI,OAAQJ,EAAKl0B,GACbA,GAAIk0B,EAAKxuB,OAAOk9B,SAChBl9B,OAAQwuB,EAAKxuB,OACbsZ,OAAQkV,EAAKlV,OACblgB,QAASo1B,EAAKp1B,QACd+jC,cAAe3O,EAAK2O,cACpBrd,MAAOpH,EAAIoH,MACX0P,cAA6B,QAAd9W,EAAIjD,OAAmB+Y,EAAKxuB,OAAOo9B,iBAClDlI,aAAc,GACdmI,eAAgB,KAKpB7hB,EAAO3D,aAGP2D,EAAOkT,iBAAkB,EAGzB,IAAIgG,EAAe,GACfW,EAAgB,GA0BpB,OAzBA5+B,OAAOuE,eAAewgB,EAAQ,eAAgB,CAC5C1M,YAAY,EACZwuB,cAAc,EACdpiC,IAAIqiC,QAAQ,IAARA,MAAW,IACblI,EAAgB3+B,EAAO,GAAIg+B,GAC3BA,EAAe6I,EACV7I,IACLlZ,EAAOrO,IAAMunB,EAAavnB,IAC1BqO,EAAOpF,KAAK,cAAemnB,EAAUlI,EAAe7Z,G,EAEtDvgB,IAAGA,IACMy5B,IAGXj+B,OAAOuE,eAAewgB,EAAQ,gBAAiB,CAC7C1M,YAAY,EACZwuB,cAAc,EACdriC,IAAGA,IACMo6B,EAETn6B,IAAIqiC,GACFlI,EAAgBkI,CAClB,IAGK/hB,CACT,CAEApB,QACE,MAAMoB,EAAS9hB,KACT80B,EAAOhT,EAAOgT,KAGpB93B,GAAO,EAAO8kB,EAAQ,CACpBgiB,QAHe1kC,IAGGjB,cAAc,OAChC+gB,IAAK4V,EAAK5V,IACVpd,GAAIgzB,EAAKhzB,GACT0zB,WAAYV,EAAKU,WACjBuO,UAAWjP,EAAKiP,YAGlBjiB,EAAOpF,KAAK,2BAA4BoF,EAC1C,CAEA+X,sBAAsBiF,EAAcC,EAAcxG,EAASD,EAAW0D,GACpE,MAAMla,EAAS9hB,KACT81B,EAAgBhU,EAAOgU,cACvBkO,EAAcliB,EAAOxb,OAAOsyB,yBAElC,IAAIqL,EACAC,EACJ,SAASC,EAAgBjlB,EAAKklB,GAC5B,MAAM7K,EAAYra,EAAIyN,SAAS,YAAcyX,EAAazX,SAAS,WAC7DqM,EAAc9Z,EAAIyN,SAAS,aAC3B0X,GAAyB9K,IAAaP,EACtCsL,EAAUplB,EAAIyY,KAAK,eACzB,IAAI4M,EAWJ,OATEhL,GACAyK,GACA9kB,EAAIyN,SAAS,SACb2X,EAAQhnC,OAAS,GACjBgnC,EAAQ73B,KAAK,QAAQnP,SAErB4hB,EAAMolB,EAAQ73B,KAAK,QACnB83B,GAAc,GAET,CACLrlB,MACAqlB,cACAC,WAAYtlB,EAAI,GAAG2Z,mBACnB4L,YAAavlB,EAAI,GAAGya,oBACpBJ,YACAP,cACAqL,yBAEJ,CAiDA,OAhDIvO,IACFmO,EAAY,GACZC,EAAY,GACZpF,EACG1gC,SAAS,iBACTA,SAAS,qCACT+I,MAAM2xB,IACL,MAAMC,EAAS12B,EAAEy2B,GACbC,EAAOpM,SAAS,SAAW2L,GAA2B,YAAd0D,GACxCjD,EAAOpM,SAAS,UAAY4L,GAChC0L,EAAUjiC,KAAKmiC,EAAgBpL,EAAQ+F,EAAa1gC,SAAS,kBAAkB,IAI/E2gC,EAAapS,SAAS,kBACtB7K,EAAOxb,OAAOgxB,uBAAyB,GACvCxV,EAAO9C,IAAI/D,OAAS6G,EAAOxb,OAAOgxB,wBAGpCyH,EACG3gC,SAAS,iBACTA,SAAS,qCACT+I,MAAM2xB,IACL,MAAMC,EAAS12B,EAAEy2B,GACbC,EAAOpM,SAAS,SAAW4L,IAAYD,GAA2B,YAAd0D,GACpDjD,EAAOpM,SAAS,SAAW4L,GAAyB,aAAdyD,GACtCjD,EAAOpM,SAAS,UAAY2L,GAGhC4L,EAAUliC,KAAKmiC,EAAgBpL,EAAQgG,EAAa3gC,SAAS,kBAAkB,IAGrF,CAAC8lC,EAAWD,GAAW7mC,SAASsnC,IAC9BA,EAAOtnC,SAAS07B,IACd,MAAM/iB,EAAI+iB,GACJS,UAAEA,EAASra,IAAEA,GAAQ4Z,EACrB6L,EAAWD,IAAWR,EAAYD,EAAYC,EAC9C3K,GAAara,EAAIyN,SAAS,UAAYgY,GAC5CA,EAASvnC,SAASwnC,IAChB,GAAIA,EAAWL,YAAa,CAC1B,MAAMM,EAAaD,EAAW1lB,IAAI,GAClCnJ,EAAEyuB,YAAcK,GAAaA,EAAWC,YAAkB,CAC5D,IACA,GACF,KAIC,CAAEb,YAAWC,YACtB,CAEA18B,QAAQm5B,EAAYoE,EAAYhG,EAAcD,EAAc9C,EAAWlF,EAAYp2B,GACjF,MAAMohB,EAAS9hB,KACf,GAAI8hB,EAAOxb,OAAO0+B,cAShB,YARAljB,EAAOxb,OAAO0+B,cAAcl6B,MAAMgX,EAAQ,CACxC6e,EACAoE,EACAhG,EACAD,EACA9C,EACAt7B,IAIJ,MAAMo1B,EAAgBhU,EAAOgU,cACvB/b,EAA2B,QAArB+H,EAAO9C,IAAIjD,MACvB,GAAI+a,EAAY,CACd,MAAMmO,EAA+B,8CAA6CnO,KAAckF,IAE1FkJ,EAAyBA,KAC7BpjB,EAAO5C,IAAImD,YAAY4iB,GACnBnP,GAAiBhU,EAAO0T,WAAWl4B,SACjCwhC,GACFhd,EAAO0T,WAAWnmB,QAAQyvB,GAExBC,GACFjd,EAAO0T,WAAWnmB,QAAQ0vB,IAG1Br+B,GAAUA,GAAU,EAkB1B,OAfe,YAAds7B,EAA0B+I,EAAapE,GAAYwE,aAAaD,GAC7DpP,IACEgJ,GAAgBiG,IAClBjjB,EAAOiZ,kBAAkB+D,EAAc,IACvCA,EAAazc,YAAY,8CACzB0iB,EAAW11B,QAAQyvB,IAEjBC,GAAgB4B,IAClB7e,EAAOiZ,kBAAkBgE,EAAc,IACvCA,EAAa1c,YAAY,8CACzBse,EAAWtxB,QAAQ0vB,UAIvBjd,EAAO5C,IAAIkD,SAAS6iB,EAEtB,CAGA,MAAMG,EAAyB,qBAAoBpJ,sBAEnD,IAAIiI,EACAC,EAEA5L,EACAC,EACA8M,EAEAC,EACAC,EAEJ,GAAIxrB,GAAO+b,EAAe,CAEtBhU,EAAOxb,OAAOgxB,uBAAyB,GACvCxV,EAAO9C,IAAI/D,OAAS6G,EAAOxb,OAAOgxB,yBAChCyH,EAAapS,SAAS,kBACtBmS,EAAanS,SAAS,yBACrBoS,EAAapS,SAAS,yBACrBmS,EAAanS,SAAS,oBAE1B2Y,EAAavG,GAAgBA,EAAapS,SAAS,gBACnD4Y,EAAazG,GAAgBA,EAAanS,SAAS,gBACnD2L,EAAYgN,IAAevG,EAAapS,SAAS,0BACjD4L,EAAUgN,IAAezG,EAAanS,SAAS,0BAC/C0Y,EAAe/M,IAAcC,GAAaA,IAAYD,GAExD,MAAMoM,EAAS5iB,EAAO+X,sBACpBiF,EACAC,EACAxG,EACAD,EACA0D,GAEFiI,EAAYS,EAAOT,UACnBC,EAAYQ,EAAOR,SACrB,CAEA,SAASsB,EAAe3+B,GAChBkT,GAAO+b,IACI,IAAbjvB,IACE0xB,IACFuG,EAAa1c,SAAS,qCACtB2c,EAAa3c,SAAS,sCAEpBkW,IACFwG,EAAa1c,SAAS,uCACtB2c,EAAa3c,SAAS,yCAG1B6hB,EAAU7mC,SAAS07B,IACjB,MAAM5Z,EAAM4Z,EAAM5Z,IACZwG,EAAuB,YAAdsW,EAA0BlD,EAAM2L,YAAc3L,EAAM0L,WAC/D1L,EAAMS,YACJT,EAAME,aAAeuM,EAEvBrmB,EAAI,GAAG5gB,MAAMmnC,YACX,YACC,eAAc/f,GAAU,EAAI7e,sGAC7B,aAGFqY,EAAI9N,UAAW,eAAcsU,GAAU,EAAI7e,aAE/C,IAEFq9B,EAAU9mC,SAAS07B,IACjB,MAAM5Z,EAAM4Z,EAAM5Z,IACZwG,EAAuB,YAAdsW,EAA0BlD,EAAM0L,WAAa1L,EAAM2L,YAC9D3L,EAAMS,YACJT,EAAME,aAAesM,EACvBpmB,EAAI9N,UACD,eACCsU,EAAS7e,sGAIbqY,EAAI9N,UAAW,eAAcsU,EAAS7e,YAE1C,IAEJ,EAwCe,YAAdm1B,EAA0B+I,EAAapE,GAAYwE,cAAa,KApC3DrjB,EAAOgU,gBACLgJ,IACFA,EAAazc,YACX,yEAEFyc,EAAa1c,SAAS,oCACtB9O,GAAU,KACRwrB,EAAazc,YAAY,mCAAmC,KAG5D0c,GACFA,EAAa1c,YACX,yEAIFyc,EAAanS,SAAS,YACtBmS,EAAa1gC,SAAS,yBAAyBd,OAE/CwhC,EAAanH,KAAK,kDAAkDvmB,UAAU,IAE9E0tB,EAAanH,KAAK,YAAYvmB,UAAU,IAGxC2tB,EAAapS,SAAS,YACtBoS,EAAa3gC,SAAS,yBAAyBd,OAE/CyhC,EAAapH,KAAK,kDAAkDvmB,UAAU,IAE9E2tB,EAAapH,KAAK,YAAYvmB,UAAU,KAG5C0Q,EAAO5C,IAAImD,YAAY+iB,GACnB1kC,GAAUA,GAIN,IAINo1B,GAEF0P,EAAe,GACflyB,GAAU,KAERwO,EAAO5C,IAAIkD,SAASgjB,GAChBC,IAEFvjB,EAAOhgB,GAAGk1B,YAAclV,EAAOhgB,GAAG8L,YAEpC43B,EAAe,EAAE,KAInB1jB,EAAO5C,IAAIkD,SAASgjB,EAExB,CAEAM,YAAYviB,GACKnjB,KACR2lC,SAASxiB,EAClB,CAEAyiB,iBAAiBC,GACAxjC,EAAEwjC,GACVrjC,KAAK,GACd,CAEAk5B,aAAa55B,GACI9B,KACR2lC,SAAS7jC,EAClB,CAEA25B,WAAW35B,GACT,MAAMod,EAAM7c,EAAEP,GACRm5B,EAAS/b,GAAOA,EAAI,IAAMA,EAAI,GAAG+b,OAEnCA,GAAUA,EAAOpI,OAASoI,EAAOpI,MAAMA,OAASoI,EAAOpI,MAAMA,MAAMqM,UACrEhgB,EAAIrU,SAFS7K,KAKR2lC,SAAS7jC,EAClB,CAEA6jC,SAAS7jC,GACP,IAAKA,EAAI,OACT,MAAMggB,EAAS9hB,KACTkf,EAAM7c,EAAEP,GACK,IAAfod,EAAI5hB,SACR4hB,EAAIyY,KAAK,QAAQxwB,MAAM0+B,IACrBxjC,EAAEwjC,GACCznC,WACA+I,MAAM2+B,IACDA,EAAS5jB,cACX7f,EAAEyjC,GAAUjiC,QAAQ,oBACpBiiC,EAAS5jB,YAAY/C,UACvB,GACA,IAEFD,EAAI,GAAGgD,aAAehD,EAAI,GAAGgD,YAAY/C,SAC3CD,EAAI,GAAGgD,YAAY/C,UAEhB2C,EAAOxb,OAAOy/B,iBAGfjkB,EAAOxb,OAAO0/B,0BAChB1lC,YAAW,KACT4e,EAAIrU,QAAQ,GACXiX,EAAOxb,OAAO2/B,uBAEjB/mB,EAAIrU,UAER,CAEAk3B,UAAU3c,GACR,MAAMtD,EAAS9hB,KACf,GAAuB,iBAAZolB,EACTtD,EAAOgiB,QAAQjhC,UAAYuiB,MACtB,CACL,GAAI/iB,EAAE+iB,GAASuH,SAAS,QACtB,OAAOvH,EAETtD,EAAOgiB,QAAQjhC,UAAY,GAC3BR,EAAEyf,EAAOgiB,SAASn6B,OAAOyb,EAC3B,CAEA,OAAOtD,EAAOokB,YAAY,QAASpkB,EAAOgiB,QAC5C,CAEAoC,YAAYC,EAAgBp+B,EAAWq+B,GACrC,MAAMtkB,EAAS9hB,KACT80B,EAAOhT,EAAOgT,KACd9V,EAAM8C,EAAO9C,IAMbqnB,EAAahkC,EAAE0F,GACrB,IAAIzF,EAAW6jC,EACXC,IAAY9jC,GAAY,kBAE5B,IAAI8I,EAAQi7B,EACT1O,KAAKr1B,GACLH,QAAQL,GAAgD,IAAzCO,EAAEP,GAAImI,QARtB,iFAQ8C3M,SAYhD,OAVI8N,EAAM9N,OAAS,IACY,iBAAlBw3B,EAAKxyB,WAEd8I,EAAQi7B,EAAW1O,KAAM,GAAE7C,EAAKxyB,YAAYA,MAE1C8I,EAAM9N,OAAS,IAEjB8N,EAAQi7B,EAAW1O,KAAM,IAAG3Y,EAAI1Y,OAAOggC,iBAAiBhkC,OAGvC,IAAjB8I,EAAM9N,OAAqB8N,GAG1Bg7B,IAAYh7B,EAAQ0W,EAAOokB,YAAY5jC,EAAU+jC,GAAY,IAC9Dj7B,GAA0B,IAAjBA,EAAM9N,OAAqB8N,EACpCA,GAASA,EAAM9N,OAAS,EAAU+E,EAAE+I,EAAM,SAA9C,EAEF,CAEAm7B,cAAc3mB,QAAM,IAANA,MAAS5f,KAAK4f,QAC1B,MAAMkC,EAAS9hB,KACf,IAAIwmC,EAAkB,GA0CtB,OAzCA5mB,EAAOxiB,SAASy1B,IACd,IAAI4T,GAAe,EACnB,GAAI,SAAU5T,GAASA,EAAM6T,KAAM,CACjC,MAAMC,EAAoB9T,EAAM6T,KAAK5gC,KAAK8gC,IACxC,MAAMC,EAAS7pC,EAAO,GAAI61B,EAAO,CAC/BhC,KAAO,GAAEgC,EAAMhC,QAAQ+V,EAAS/V,OAAO5oB,QAAQ,MAAO,KAAKA,QAAQ,KAAM,KACzEy5B,WAAY7O,EAAMhC,KAClBgQ,IAAK+F,IAIP,cAFOC,EAAOH,YACPG,EAAOjnB,OACPinB,CAAM,IAEfJ,GAAe,EACfD,EAAkBA,EAAgBpW,OAAOtO,EAAOykB,cAAcI,GAChE,CACA,GAAI,iBAAkB9T,EAAO,CAC3B,MAAM8T,EAAoB9T,EAAMiU,aAAahhC,KAAKihC,IAChD,MAAMC,EAAShqC,EAAO,GAAI+pC,GAG1B,OAFAC,EAAOpE,YAAc/P,EACrBmU,EAAOC,gBAAkBpU,EAAMhC,KACxBmW,CAAM,IAEfR,EAAkBA,EAAgBpW,OAAOyC,EAAO/Q,EAAOykB,cAAcI,GACvE,CACA,GAAI,WAAY9T,EAAO,CACrB,MAAM8T,EAAoB9T,EAAMjT,OAAO9Z,KAAKohC,IAC1C,MAAMC,EAASnqC,EAAO,GAAIkqC,GAE1B,OADAC,EAAOtW,KAAQ,GAAEgC,EAAMhC,QAAQsW,EAAOtW,OAAO5oB,QAAQ,MAAO,KAAKA,QAAQ,KAAM,KACxEk/B,CAAM,IAGbX,EADEC,EACgBD,EAAgBpW,OAAOtO,EAAOykB,cAAcI,IAE5CH,EAAgBpW,OAAOyC,EAAO/Q,EAAOykB,cAAcI,GAEzE,CACM,WAAY9T,GAAY,SAAUA,GAASA,EAAM6T,MAAW,iBAAkB7T,GAClF2T,EAAgBxkC,KAAK6wB,EACvB,IAEK2T,CACT,CAGA1E,cAAcruB,GACZ,IAAKA,EAAK,MAAO,GACjB,MAAMC,EAAQF,EAAcC,GACtB7U,EAAO6U,EAAInQ,MAAM,KAAK,GAEtButB,EAAOpd,EAAInQ,MAAM,KAAK,GAAGA,MAAM,KAAK,GAC1C,MAAO,CACLoQ,QACA9U,OACA0H,OALa,GAMbmN,MACAod,OAEJ,CAEAuW,YAAYxoB,GACV,QADoB,IAAVA,MAAa,IACG,iBAAfA,EACT,OAAOA,EAET,MAAMpb,KAAEA,EAAIqtB,KAAEA,EAAIvqB,OAAEA,EAAMoN,MAAEA,GAAUkL,EACtC,IAAKpb,IAASqtB,EACZ,MAAM,IAAIvR,MAAM,mDAElB,MAAMwC,EAAS9hB,KACT6yB,EAAQrvB,EAAOse,EAAOulB,eAAe,OAAQ7jC,GAAQse,EAAOulB,eAAe,OAAQxW,GAEzF,IAAKgC,EACH,MAAIrvB,EACI,IAAI8b,MAAO,6BAA4B9b,gBAEvC,IAAI8b,MAAO,6BAA4BuR,gBAGjD,MAAMpd,EAAMqO,EAAOwlB,kBAAkBzU,EAAO,CAAEvsB,SAAQoN,UACtD,IAAKD,EACH,MAAM,IAAI6L,MAAO,qDAAoD9b,MAEvE,OAAOiQ,CACT,CAGA6zB,kBAAkBzU,EAAKlZ,GAA0B,IAAxBrT,OAAEA,EAAMoN,MAAEA,QAAO,IAAAiG,EAAG,GAAEA,EAC7C,MAAMkX,KAAEA,GAASgC,EACX0U,EAAQhW,GAAQV,GACtB,IAAIpd,EACJ,IACEA,EAAM8zB,EAAMjhC,GAAU,G,CACtB,MAAOyjB,GACP,MAAM,IAAIzK,MACP,qEAAoEuR,MAAS9G,EAAM7T,aAExF,CAOA,OALIxC,IACmB,iBAAVA,EAAoBD,GAAQ,IAAGC,IACjC3W,OAAOI,KAAKuW,GAAOpW,SAAQmW,GAAQ,IAAGO,EAAgBN,OAG1DD,CACT,CAEA+zB,gBAAgB3B,GACd,MAAM/jB,EAAS9hB,KACTynC,EAASplC,EAAEwjC,GACXnE,EAAa5f,EAAOkZ,aAAanI,MAAM6O,WACvCgG,EAAQD,EAAOl9B,KAAK,MAE1B,IAAIo9B,EAaJ,OAdwB7lB,EAAOykB,cAAczkB,EAAOlC,QAEpCxiB,SAASy1B,IACnBA,EAAM6O,aAAeA,GAAc7O,EAAMgO,KAAOhO,EAAMgO,IAAIjgC,KAAO8mC,IAEjEC,EADE7lB,EAAOkZ,aAAa10B,QAAUvJ,OAAOI,KAAK2kB,EAAOkZ,aAAa10B,QAAQhJ,OAAS,EAC9DwkB,EAAOwlB,kBAAkBzU,EAAO,CACjDvsB,OAAQwb,EAAOkZ,aAAa10B,OAC5BoN,MAAOoO,EAAOkZ,aAAatnB,QAGVmf,EAAMhC,KAE7B,IAEK8W,CACT,CAEAN,eAAehqC,EAAKoE,GAClB,MACMme,EADS5f,KACO4f,OAEtB,IAAIgoB,EAQJ,OAXe5nC,KAEgBumC,cAAc3mB,GAG7BxiB,SAASy1B,IACnB+U,GACA/U,EAAMx1B,KAASoE,IACjBmmC,EAAgB/U,EAClB,IAEK+U,CACT,CAEApJ,kBAAkB/qB,GAChB,IAAKA,EAAK,OACV,MAAMqO,EAAS9hB,KACT4f,EAASkC,EAAOlC,OAChB4mB,EAAkB1kB,EAAOykB,cAAc3mB,IACvCiR,KAAEA,EAAInd,MAAEA,EAAK9U,KAAEA,EAAI0H,OAAEA,GAAWwb,EAAOggB,cAAcruB,GAC3D,IAAIm0B,EAoDJ,OAnDApB,EAAgBppC,SAASy1B,IACvB,GAAI+U,EAAe,OACnB,MAAMzqC,EAAO,GAEP0qC,EAAe,CAAChV,EAAMhC,MAU5B,IAAIiX,EAMJ,GAfIjV,EAAMkV,QACmB,iBAAhBlV,EAAMkV,MAAoBF,EAAa7lC,KAAK6wB,EAAMkV,OACpD9mC,MAAMc,QAAQ8wB,EAAMkV,QAC3BlV,EAAMkV,MAAM3qC,SAAS4qC,IACnBH,EAAa7lC,KAAKgmC,EAAU,KAMlCH,EAAazqC,SAAS6qC,IAChBH,IACJA,EAAU1U,GAAa6U,EAAa9qC,GAAM2Y,KAAK+a,GAAK,IAGlDiX,EAAS,CAWX,IAAIpG,EAVJvkC,EAAKC,SAAQ,CAAC8qC,EAAQzgC,KACpB,GAA2B,iBAAhBygC,EAAO1kC,KAAmB,OACrC,MAAM2kC,EAAaL,EAAQrgC,EAAQ,GAEjCnB,EAAO4hC,EAAO1kC,MADZ,MAAO2kC,EACaA,EAEAr0B,mBAAmBq0B,EAC3C,IAIEtV,EAAM6O,aACRA,EAAa7Q,EACVvtB,MAAM,KACNyQ,MAAM,EAAG8e,EAAM6O,WAAWp+B,MAAM,KAAKhG,OAAS,GAC9CwV,KAAK,MAGV80B,EAAgB,CACdl0B,QACA9U,OACA0H,SACAmN,MACAod,OACA6Q,aACA7O,QACArvB,KAAMqvB,EAAMrvB,KAEhB,KAEKokC,CACT,CAGAQ,wBAAwB30B,EAAUvB,QAAP,IAAHuB,MAAM,SAAW,IAAPvB,MAAU,IAC1C,IAAIm2B,EAAc50B,EAclB,MAZyB,iBAAhB40B,GACPA,EAAY3lC,QAAQ,OAAS,GAC7BwP,GACAA,EAAQ2gB,OACR3gB,EAAQ2gB,MAAMvsB,QACdvJ,OAAOI,KAAK+U,EAAQ2gB,MAAMvsB,QAAQhJ,QAElCP,OAAOI,KAAK+U,EAAQ2gB,MAAMvsB,QAAQlJ,SAASwkC,IACzC,MAAM0G,EAAS,IAAIrf,OAAQ,KAAI2Y,MAAe,KAC9CyG,EAAcA,EAAYpgC,QAAQqgC,EAAQp2B,EAAQ2gB,MAAMvsB,OAAOs7B,IAAc,GAAG,IAG7EyG,CACT,CAEAE,mBAAmB90B,GACjB,MACM+0B,EADSxoC,KACSomB,MAAM5B,IAC9B,IAAI/c,GAAQ,EACZ,IAAK,IAAI3E,EAAI,EAAGA,EAAI0lC,EAASlrC,OAAQwF,GAAK,EACpC0lC,EAAS1lC,GAAG2Q,MAAQA,IAAKhM,EAAQ3E,IAEzB,IAAV2E,GAAiB+gC,EAASh7B,OAAO/F,EAAO,EAC9C,CAEA26B,WAAW1a,EAAYxV,GACrB,MAAM4P,EAAS9hB,KACTsG,EAASwb,EAAOxb,QAChBmiC,YAAEA,GAAgBv2B,EACxB,IAAIuB,EAAMiU,EAENghB,EAAWj1B,EAAI/Q,QAAQ,MAAQ,EA8BnC,OA5BE4D,EAAOqiC,yBACPz2B,GACAA,EAAQ2gB,OACR3gB,EAAQ2gB,MAAMnf,OACd3W,OAAOI,KAAK+U,EAAQ2gB,MAAMnf,OAAOpW,SAEjCmW,GAAQ,GAAEi1B,EAAW,IAAM,MAAM10B,EAAgB9B,EAAQ2gB,MAAMnf,SAC/Dg1B,GAAW,GAIXpiC,EAAOsiC,0BACP12B,GACAA,EAAQ2gB,OACR3gB,EAAQ2gB,MAAMvsB,QACdvJ,OAAOI,KAAK+U,EAAQ2gB,MAAMvsB,QAAQhJ,SAElCmW,GAAQ,GAAEi1B,EAAW,IAAM,MAAM10B,EAAgB9B,EAAQ2gB,MAAMvsB,UAC/DoiC,GAAW,GAGTj1B,EAAI/Q,QAAQ,OAAS,IACvB+Q,EAAMqO,EAAOsmB,wBAAwB30B,EAAKvB,IAGxC5L,EAAOuiC,6BAA+Bp1B,EAAI/Q,QAAQ,MAAQ,IAC5D+Q,EAAMA,EAAInQ,MAAM,KAAK,IAEhB,IAAIogB,SAAQ,CAACC,EAASC,KAC3B,GACEtd,EAAOkiC,WACNC,GACDh1B,EAAI/Q,QAAQ,WAAa,GACzB4D,EAAOwiC,eAAepmC,QAAQ+Q,GAAO,EAErC,IAAK,IAAI3Q,EAAI,EAAGA,EAAIgf,EAAOsE,MAAM5B,IAAIlnB,OAAQwF,GAAK,EAAG,CACnD,MAAMimC,EAAYjnB,EAAOsE,MAAM5B,IAAI1hB,GACnC,GAAIimC,EAAUt1B,MAAQA,GAEhBF,IAAQw1B,EAAU3gC,KAAO9B,EAAO0iC,iBAGlC,YADArlB,EAAQolB,EAAU3jB,QAIxB,CAEFtD,EAAOqgB,mBAAqBrgB,EAAO9C,IAAIoF,QAAQ2C,kBAC/CjF,EAAO9C,IAAIoF,QAAQ,CACjB2C,gBAAiBjF,EAAOqgB,mBACxB1uB,MACA6I,OAAQ,MACR2sB,WAAWzkB,GACT1C,EAAOpF,KAAK,kBAAmB8H,EAAKtS,E,EAEtC5K,SAASkd,EAAKC,GACZ3C,EAAOpF,KAAK,qBAAsB8H,GAEpB,UAAXC,GAAiC,YAAXA,GAAwBD,EAAIC,QAAU,KAAOD,EAAIC,OAAS,KAClE,IAAfD,EAAIC,QAEAne,EAAOkiC,UAAiC,KAArBhkB,EAAI+E,eACzBzH,EAAOymB,mBAAmB90B,GAC1BqO,EAAOsE,MAAM5B,IAAIxiB,KAAK,CACpByR,MACArL,KAAMmL,IACN6R,QAASZ,EAAI+E,gBAGjBzH,EAAOpF,KAAK,oBAAqB8H,EAAKtS,GACtCyR,EAAQa,EAAI+E,gBAEZzH,EAAOpF,KAAK,kBAAmB8H,EAAKtS,GACpC0R,EAAOY,G,EAGXuF,MAAMvF,GACJ1C,EAAOpF,KAAK,kBAAmB8H,EAAKtS,GACpC0R,EAAOY,EACT,GACA,GAEN,CAEAuW,kBAAkB7b,EAAK0gB,EAAUsJ,GAE/BhqB,EAAImD,YAAY,8CACZud,GACF1gB,EAAIkD,SAAU,UAASwd,MAGN,IAAfsJ,EACFhqB,EAAI4b,WAAW,gBACS,IAAfoO,GACThqB,EAAI3U,KAAK,cAAe,QAE1B2U,EAAIrb,QAAQ,kBAAmB,CAAE+7B,aAXlB5/B,KAYR0c,KAAK,iBAAkBwC,EAAI,GAAI0gB,EACxC,CAEAoB,gBAAgB9hB,EAAK0gB,EAAUsJ,GAE7BhqB,EAAImD,YAAY,wCAChBnD,EAAIkD,SAAU,QAAOwd,MACF,IAAfsJ,EACFhqB,EAAI4b,WAAW,gBACS,IAAfoO,GACThqB,EAAI3U,KAAK,cAAe,QAE1B2U,EAAIrb,QAAQ,gBAAiB,CAAE+7B,aARhB5/B,KASR0c,KAAK,eAAgBwC,EAAI,GAAI0gB,EACtC,CAGAZ,oBAAoBl9B,GAClB,MACMia,EADS/b,KACMgf,IAAIjD,MACzB,IAAIotB,EACU,QAAVptB,EACFotB,EAAW,oEACQ,OAAVptB,EACTotB,EAAW,oEACQ,WAAVptB,IACTotB,EAAW,qEAEb9mC,EAAEP,GAAI61B,KAAKwR,GAAUt+B,QACvB,CAEAu+B,YAAYhK,EAAQc,EAAUtrB,EAAMD,EAAIke,EAAYwW,QAAP,IAALxW,MAAQ,IAC9C,MAAM/Q,EAAS9hB,KACTspC,EAAUjnC,EAAE+8B,GAAQl1B,GAAG,GACvB+0B,EAAY58B,EAAE69B,GAAUh2B,GAAG,GAC3BgxB,EAAcoO,EAAQ,GAAGrO,QAAU,GACzC,IAAIe,EACAuN,EAKJ,IAJc,SAAT30B,GAA0B,YAAPD,GAA+B,YAATC,GAA6B,aAAPD,KAClEqnB,EAAY,YACA,YAATpnB,GAA6B,SAAPD,GAA4B,aAATC,GAA8B,YAAPD,KACnEqnB,EAAY,YACVd,IAAgBA,EAAYsO,SAAU,CACxC,MAAMC,EAAcpnC,EAAEgnC,GAClBI,EAAYnsC,SACdisC,EAAWE,EAAY,GAAGxO,OAE9B,CACAsO,EAAWrO,EAAYqO,UAAYA,EAC/BA,GAAYA,EAASA,WACvBA,EAASA,SAAW,MAEtB,MAAMG,EAAO,CACX1qB,IAAK8C,EAAO9C,IACZ8V,KAAMhT,EAAOgT,KACbhT,SACA5C,IAAKoqB,EACLxnC,GAAIwnC,EAAQ,GACZA,UACAlK,OAAQkK,EAAQ,GAChBrK,YACAiB,SAAUjB,EAAU,GACpBz7B,KAAM8lC,EAAQ/+B,KAAK,aACnBq1B,SAAUhrB,EACVA,OACAD,KACAqnB,YACAnJ,MAAOqI,EAAYrI,MAAQqI,EAAYrI,MAAQA,EAC/C0W,YAIF,OADAD,EAAQ,GAAGrO,OAASyO,EACbA,CACT,CAGAvO,aAAaz6B,EAAU0+B,EAAQc,EAAUtrB,EAAMD,EAAIzC,EAAcm3B,GAC/D,QADwD,IAAPn3B,MAAU,KACtDktB,EAAQ,OACb,MAAMtd,EAAS9hB,KACTspC,EAAUjnC,EAAE+8B,GAClB,IAAKkK,EAAQhsC,OAAQ,OACrB,MAAM2hC,EAAY58B,EAAE69B,IACdrN,MAAEA,GAAU3gB,EACZy3B,EACJ7nB,EAAOxb,OAAOqjC,0BAEZ7nB,EAAOxb,OAAOgxB,uBAAyB,GACvCgS,EAAQ3c,SAAS,gBACjB7K,EAAO9C,IAAI/D,OAAS6G,EAAOxb,OAAOgxB,wBAEhC4H,EACJoK,EAAQ,GAAGrO,QACXqO,EAAQ,GAAGrO,OAAOpI,OAClByW,EAAQ,GAAGrO,OAAOpI,MAAMA,OACxByW,EAAQ,GAAGrO,OAAOpI,MAAMA,MAAMqM,UAEf,iBAAbx+B,GAA+Bw+B,IACjCx+B,EAAW,iBAGb,MAAMkpC,EAAa,OAAMlpC,EAAS,GAAGkK,cAAgBlK,EAASqT,MAAM,EAAGrT,EAASpD,UAC1EusC,EAAa,QAAOnpC,EAAS+J,gBAEnC,IAAIi/B,EAAO,GAETA,EADe,iBAAbhpC,GAA+B4oC,EAAQ,GAAGrO,OACrCj+B,EAAOssC,EAAQ,GAAGrO,OAAQ,CAAErmB,OAAMD,KAAIirB,SAAUhrB,IAEhDkN,EAAOsnB,YAAYE,EAAQ,GAAIrK,EAAU,GAAIrqB,EAAMD,EAAIke,EAAOwW,GAEvEK,EAAKtO,YAAclpB,EAAQkpB,UAE3B,MAAMt3B,GAAEA,EAAK,GAAEyY,KAAEA,EAAO,IAAOrK,EAAQ2gB,MAAQ3gB,EAAQ2gB,MAAMA,MAAQ,GAQrE,SAASiJ,IACHwN,EAAQ,GAAGQ,wBACfR,EAAQ,GAAGQ,uBAAwB,EAC/BhmC,GAAM/G,OAAOI,KAAK2G,GAAIxG,OAAS,IACjCgsC,EAAQ,GAAGS,gBAAkBjmC,EAC7B/G,OAAOI,KAAK2G,GAAI1G,SAASwR,IACvB9K,EAAG8K,GAAa9K,EAAG8K,GAAWsI,KAAK4K,GACnCwnB,EAAQxlC,GAAGiP,EAAqBnE,GAAY9K,EAAG8K,GAAW,KAG1D2N,GAAQxf,OAAOI,KAAKof,GAAMjf,OAAS,IACrCgsC,EAAQ,GAAGU,kBAAoBztB,EAC/Bxf,OAAOI,KAAKof,GAAMnf,SAASwR,IACzB2N,EAAK3N,GAAa2N,EAAK3N,GAAWsI,KAAK4K,GACvCwnB,EAAQ/sB,KAAKxJ,EAAqBnE,GAAY2N,EAAK3N,GAAW,KAGpE,CAyBA,GAjDIsD,EAAQpO,IACV9G,EAAO8G,EAAIoO,EAAQpO,IAEjBoO,EAAQqK,MACVvf,EAAOuf,EAAMrK,EAAQqK,MA0CN,YAAb7b,GACFo7B,IAEe,SAAbp7B,EAAqB,CACvB,GACEipC,IACU,aAAT/0B,IAAwBA,IAClB,YAAPD,GACAmN,EAAO2hB,cAAciG,EAAK7W,MAAMpf,OAC/B61B,EAAQ3c,SAAS,qBAClB,CACA,IAAIsd,EAAeX,EAAQ3R,KAAK,iBAC5BsS,EAAa3sC,OAAS,IAExB2sC,EAAeA,EAAa9nC,QAAQ+nC,GAE6B,IAA7D7nC,EAAE6nC,GAAejgC,QAAQ,yBAAyB3M,SACjD+E,EAAE6nC,GAAengC,GAAG,4BAI3BkgC,EAAap8B,UAAUiU,EAAO2hB,cAAciG,EAAK7W,MAAMpf,KACzD,CAEA,GADAqoB,IACIwN,EAAQ,GAAGa,kBAGb,OAFAb,EAAQzlC,QAAQ,cAAe6lC,QAC/B5nB,EAAOpF,KAAK,aAAcgtB,GAG5BJ,EAAQ,GAAGa,mBAAoB,CACjC,CACA,GACER,GACa,cAAbjpC,GACS,YAATkU,GACO,aAAPD,EACA,CAEA,IAAIs1B,EAAeX,EAAQ3R,KAAK,iBAC5BsS,EAAa3sC,OAAS,IAExB2sC,EAAeA,EAAa9nC,QAAQ+nC,GAE6B,IAA7D7nC,EAAE6nC,GAAejgC,QAAQ,yBAAyB3M,SACjD+E,EAAE6nC,GAAengC,GAAG,4BAI3B+X,EAAO2hB,cAAciG,EAAK7W,MAAMpf,KAAOw2B,EAAap8B,WACtD,CACI87B,GAAuC,cAAbjpC,GAAqC,YAATkU,GAA6B,SAAPD,UAEvEmN,EAAO2hB,cAAciG,EAAK7W,MAAMpf,KAGzC61B,EAAQzlC,QAAQgmC,EAAWH,GAC3B5nB,EAAOpF,KAAKktB,EAAWF,GAEN,iBAAbhpC,GAA4C,kBAAbA,IA7E5B4oC,EAAQ,GAAGQ,wBACZR,EAAQ,GAAGS,iBACbhtC,OAAOI,KAAKmsC,EAAQ,GAAGS,iBAAiB3sC,SAASwR,IAC/C06B,EAAQngC,IAAI4J,EAAqBnE,GAAY06B,EAAQ,GAAGS,gBAAgBn7B,GAAW,IAGnF06B,EAAQ,GAAGU,mBACbjtC,OAAOI,KAAKmsC,EAAQ,GAAGU,mBAAmB5sC,SAASwR,IACjD06B,EAAQngC,IAAI4J,EAAqBnE,GAAY06B,EAAQ,GAAGU,kBAAkBp7B,GAAW,IAGzF06B,EAAQ,GAAGQ,sBAAwB,KACnCR,EAAQ,GAAGS,gBAAkB,KAC7BT,EAAQ,GAAGU,kBAAoB,YACxBV,EAAQ,GAAGQ,6BACXR,EAAQ,GAAGS,uBACXT,EAAQ,GAAGU,mBA+Db9K,IACCoK,EAAQ,GAAGrO,QAAUqO,EAAQ,GAAGrO,OAAOiF,iBAClCoJ,EAAQ,GAAGrO,OAAOiF,SAASjF,OAEpCqO,EAAQ,GAAGrO,OAAS,MAG1B,CAEAK,cACE,MAAMxZ,EAAS9hB,KACTe,EAASF,IACfihB,EAAOgT,KAAKp1B,QAAUoiB,EAAOpiB,QAE3BoiB,EAAOxb,OAAOguB,gBACdxS,EAAOxb,OAAO8jC,4BACdrpC,EAAOspC,eAEPtpC,EAAOspC,aAAc,YAAWvoB,EAAOgT,KAAKl0B,cAAgB+nB,KAAKC,UAAU9G,EAAOpiB,SAEtF,CAEA4qC,iBACE,MAAMxoB,EAAS9hB,KACTe,EAASF,IAEbihB,EAAOxb,OAAOguB,gBACdxS,EAAOxb,OAAO8jC,4BACdrpC,EAAOspC,cACPtpC,EAAOspC,aAAc,YAAWvoB,EAAOgT,KAAKl0B,gBAE5CkhB,EAAOpiB,QAAUipB,KAAKW,MAAMvoB,EAAOspC,aAAc,YAAWvoB,EAAOgT,KAAKl0B,eACxEkhB,EAAOgT,KAAKp1B,QAAUoiB,EAAOpiB,QAEjC,CAEA6qC,eACE,MAAMzoB,EAAS9hB,KACf8hB,EAAOpiB,QAAU,GACboiB,EAAOgT,OAAMhT,EAAOgT,KAAKp1B,QAAU,IACvCoiB,EAAOwZ,aACT,CAEAkP,iBAAiBC,GACf,MAAM3oB,EAAS9hB,KACf48B,GAAe9a,EAAQ,oBAEnBA,EAAOpiB,QAAQpC,OACjBwkB,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GAAKmtC,EAE5C3oB,EAAOpiB,QAAQsC,KAAKyoC,GAItB,MAAM/2B,MAAEA,EAAK9U,KAAEA,EAAI0H,OAAEA,EAAMmN,IAAEA,EAAGod,KAAEA,GAAS/O,EAAOggB,cAAc2I,GAWhE,GAVI3oB,EAAOkZ,cACTh+B,EAAO8kB,EAAOkZ,aAAc,CAC1BtnB,QACA9U,OACA0H,SACAmN,MACAod,SAIA/O,EAAOxb,OAAOguB,eAAgB,CAChC,MAAMgM,EAAqBxe,EAAOxb,OAAOg6B,oBAAsB,GAC/D1M,GAAQ3rB,QACN6Z,EAAOgT,KAAKl0B,GACZ,CACE6S,IAAKg3B,GAEPnK,EAAqBxe,EAAOxb,OAAOi6B,wBAA0BkK,EAEjE,CAGA3oB,EAAOwZ,cAEPxZ,EAAOpF,KAAK,iBAAkBoF,EAAOkZ,aAAclZ,EACrD,CAEA4oB,gBACE,MAAM5oB,EAAS9hB,KACf,GAAI8hB,EAAO6oB,WACT,MAAO,CACLA,WAAY7oB,EAAO6oB,WACnBC,gBAAiB9oB,EAAO8oB,iBAG5B,MAAM5rB,IAAEA,EAAG8V,KAAEA,GAAShT,EAChBxiB,EAAWF,IACX2B,EAASF,IAETlC,EACJqgB,EAAI1Y,OAAOmN,KAAiC,iBAAnBuL,EAAI1Y,OAAOmN,KAAmC,oBAARo3B,IAC3D,IAAIA,IAAI7rB,EAAI1Y,OAAOmN,KACnBnU,EAASX,SAEf,IAEIisC,EAFAD,EAAa7oB,EAAOxb,OAAOmN,IAC3Bq3B,EAAcnsC,EAASI,KAAKuE,MAAM3E,EAASK,QAAQ,GAEvD,MAAMs1B,eAAEA,EAAcyW,qBAAEA,EAAoBxK,wBAAEA,GAA4Bze,EAAOxb,OACjF,IAAIg6B,mBAAEA,GAAuBxe,EAAOxb,OA2DpC,OAzDGvF,EAAO4Z,SAAY5Z,EAAO+Z,WAAa/Z,EAAO+Z,UAAUgV,WACzDwE,IACCiM,IACAD,GACD3hC,EAASM,SAASyD,QAAQ,gBAG1BsoC,QAAQC,KACN,mGAEF3K,EAAqB3hC,EAASM,SAASqE,MAAM,cAAc,IAExDgxB,GAAmByW,GAWlBzK,GAAsBwK,EAAYpoC,QAAQ49B,IAAuB,IACnEwK,EAAcA,EAAYxnC,MAAMg9B,GAAoB,GAChC,KAAhBwK,IAAoBA,EAAc,MAGtCH,EADEpK,EAAwBjjC,OAAS,GAAKwtC,EAAYpoC,QAAQ69B,IAA4B,EAC3EuK,EAAYxnC,MAAMi9B,GAAyB,GAE3CuK,EAEfhpB,EAAOwoB,iBACHxoB,EAAOpiB,QAAQgD,QAAQioC,IAAe,EACxC7oB,EAAOpiB,QAAUoiB,EAAOpiB,QAAQqU,MAAM,EAAG+N,EAAOpiB,QAAQgD,QAAQioC,GAAc,GACrE7oB,EAAOxb,OAAOmN,MAAQk3B,EAC/B7oB,EAAOpiB,QAAU,CAACirC,GAElB/W,GAAQc,OACRd,GAAQc,MAAMI,EAAKl0B,KACnBgzB,GAAQc,MAAMI,EAAKl0B,IAAI6S,MAAQqO,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GAEtEqtC,EAAa7oB,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GAEpDwkB,EAAOpiB,QAAU,CAACorC,EAAYxnC,MAAMi9B,GAAyB,IAAM,IAAKoK,GAEtE7oB,EAAOpiB,QAAQpC,OAAS,EAC1BstC,GAAkB,EAElB9oB,EAAOpiB,QAAU,GAEnBoiB,EAAOwZ,gBAtCFqP,IACHA,EAAaG,GAEXnsC,EAASQ,QAAUwrC,EAAWjoC,QAAQ,KAAO,IAC/CioC,GAAchsC,EAASQ,QAErBR,EAASC,MAAQ+rC,EAAWjoC,QAAQ,KAAO,IAC7CioC,GAAchsC,EAASC,OAkC3BkjB,EAAO6oB,WAAaA,EACpB7oB,EAAO8oB,gBAAkBA,EAElB,CAAED,aAAYC,kBACvB,CAEA7qB,OACE,MAAM+B,EAAS9hB,MACTgf,IAAEA,EAAG8V,KAAEA,GAAShT,EAChBxiB,EAAWF,IAEjB0iB,EAAOpB,QAEP,MAAMiqB,WAAEA,EAAUC,gBAAEA,GAAoB9oB,EAAO4oB,iBAI5C5V,GAAQhT,EAAOxb,OAAO4kC,cAA8B,QAAdlsB,EAAIjD,OAC1C+Y,GAAQhT,EAAOxb,OAAO6kC,aAA6B,OAAdnsB,EAAIjD,OACzC+Y,GAAQhT,EAAOxb,OAAO8kC,iBAAiC,WAAdpsB,EAAIjD,QAE9CwZ,GAAUzT,GAGZ,MAAMwS,eACJA,EAAcyW,qBACdA,EAAoBM,4BACpBA,EAA2BC,2BAC3BA,GACExpB,EAAOxb,OAEX,IAAI00B,EACJ,GAAIlZ,EAAOpiB,QAAQpC,OAAS,EAAG,CAE7B,MAAMiuC,EAAUD,EAA6BX,EAAa7oB,EAAOpiB,QAAQ,GACzEs7B,EAAelZ,EAAO0c,kBAAkB+M,GACnCvQ,IACHA,EAAeh+B,EAAO8kB,EAAOggB,cAAcyJ,GAAU,CACnD1Y,MAAO,CACLpf,IAAK83B,EACL1a,KAAM0a,EAAQjoC,MAAM,KAAK,MAIjC,MAEE03B,EAAelZ,EAAO0c,kBAAkBmM,GACnC3P,IACHA,EAAeh+B,EAAO8kB,EAAOggB,cAAc6I,GAAa,CACtD9X,MAAO,CACLpf,IAAKk3B,EACL9Z,KAAM8Z,EAAWrnC,MAAM,KAAK,OAgBpC,GAVIwe,EAAOxb,OAAOi1B,YAChBzZ,EAAO5C,IAAI9gB,SAAS,SAAS+I,MAAMi4B,IACjC,MAAMkK,EAAUjnC,EAAE+8B,GAClBtd,EAAO0Z,aAAax5B,KAAKsnC,EAAQ,IAC7BxnB,EAAOgU,eAAiBwT,EAAQlrC,SAAS,WAAWd,OAAS,GAC/DwkB,EAAO6hB,eAAe3hC,KAAKsnC,EAAQlrC,SAAS,WAAW,GACzD,IAKoD,IAAtD0jB,EAAO5C,IAAI9gB,SAAS,uBAAuBd,QAC3CqtC,GACA7oB,EAAOxb,OAAOklC,gBAGd1pB,EAAOyS,SAASoW,EAAY,CAC1B1O,SAAS,EACToB,eAAe,EACf/I,gBAAgB,EAChB9sB,SAAS,EACT+U,KAAM,CACJkvB,YACE,IAAKb,EAAiB,QAEpB9oB,EAAOxb,OAAOs1B,qBAAuB9Z,EAAOxb,OAAQ,GAAE0Y,EAAIjD,oBACjC+F,EAAOpiB,QAAQpC,OAAS,GACjDwkB,EAAOhiB,KAAK,CAAE+7B,SAAS,G,EAG3B6P,cACE,IAAKd,EAAiB,QAEpB9oB,EAAOxb,OAAOs1B,qBAAuB9Z,EAAOxb,OAAQ,GAAE0Y,EAAIjD,oBACjC+F,EAAOpiB,QAAQpC,OAAS,GACjDwkB,EAAOhiB,KAAK,CAAE+7B,SAAS,GAE3B,UAGC,GAAI/Z,EAAO5C,IAAI9gB,SAAS,uBAAuBd,OAAQ,CAE5D,IAAIquC,EA8DJ,GA7DA7pB,EAAOkZ,aAAeA,EACtBlZ,EAAO5C,IAAI9gB,SAAS,uBAAuB+I,MAAMi4B,IAC/C,MAAMkK,EAAUjnC,EAAE+8B,GAClB,IAAIH,EACJnd,EAAOkf,gBAAgBsI,EAAS,WAC5BxnB,EAAOgU,gBACTmJ,EAAYqK,EAAQlrC,SAAS,WACzB6gC,EAAU3hC,OAAS,GAChBwkB,EAAO0T,WAAWvrB,QAAQ3K,GAAUhC,QACvCwkB,EAAO5C,IAAI7P,QAAQyS,EAAO0T,YAE5B1T,EAAOiZ,kBAAkBkE,EAAW,WACpCnd,EAAO0T,WAAW7rB,OAAOs1B,GACrBA,EAAU7gC,SAAS,gBAAgBd,QACrC2hC,EAAU7c,SAAS,gBAErBknB,EAAQlrC,SAAS,WAAWyM,WAE5BiX,EAAO0T,WAAWpT,SAAS,iBACvB6c,EAAU7gC,SAAS,gBAAgBd,QACrCwkB,EAAO0T,WAAWpT,SAAS,uCAK/BN,EAAOkZ,cACPlZ,EAAOkZ,aAAanI,SACkB,IAArC/Q,EAAOkZ,aAAanI,MAAMgL,QACoB,mBAArC/b,EAAOkZ,aAAanI,MAAMgL,QAChC/b,EAAOkZ,aAAanI,MAAMgL,OAAO7e,EAAK8C,KAC1CA,EAAOxb,OAAOgxB,uBAAyB,IAEvCgS,EAAQlnB,SAAS,eACjBknB,EAAQzlC,QAAQ,YAAa,CAAEg8B,KAAM,WACjCZ,GAAaA,EAAU3hC,QACzB2hC,EAAU7c,SAAS,iBAErB0S,EAAKiM,+BAEP,MAAM6K,EAAc,CAClB/Y,MAAO/Q,EAAOkZ,cAEZlZ,EAAOkZ,cAAgBlZ,EAAOkZ,aAAanI,OAAS/Q,EAAOkZ,aAAanI,MAAM3gB,SAChFlV,EAAO4uC,EAAa9pB,EAAOkZ,aAAanI,MAAM3gB,SAEhD4P,EAAOqY,cAAgBmP,EAAQ,GAC3BxnB,EAAOgU,eAAiBmJ,EAAU3hC,SACpCwkB,EAAOuY,gBAAkB4E,EAAU,IAErCnd,EAAOkd,oBAAoBsK,GACvBxnB,EAAOgU,eAAiBmJ,EAAU3hC,QACpCwkB,EAAOkd,oBAAoBC,GAEzB2M,EAAY/Y,MAAMA,MAAMgO,MAC1B8K,GAAc,EACd7pB,EAAOgf,QAAQ8K,EAAY/Y,MAAMA,MAAMgO,IAAK7jC,EAAO,GAAI4uC,KAEzD9pB,EAAOqZ,aAAa,OAAQmO,EAASrK,EAAW,eAAW31B,EAAWsiC,GACtE9pB,EAAOqZ,aAAa,WAAYmO,EAASrK,EAAW,eAAW31B,EAAWsiC,GAC1E9pB,EAAOqZ,aAAa,UAAWmO,EAASrK,EAAW,eAAW31B,EAAWsiC,EAAY,IAEnFhB,EACF,GAAIU,EAA4B,EAE5BxpB,EAAOxb,OAAOs1B,qBAAuB9Z,EAAOxb,OAAQ,GAAE0Y,EAAIjD,oBACjC+F,EAAOpiB,QAAQpC,OAAS,GACjDwkB,EAAOhiB,KAAK,CAAE+7B,SAAS,GAE3B,MACE/Z,EAAOyS,SAASoW,EAAY,CAC1B1O,SAAS,EACT3H,gBAAgB,EAChB50B,SAAS,EACT8H,QAAS6jC,EACT9uB,KAAM,CACJmvB,eAEI5pB,EAAOxb,OAAOs1B,qBAAuB9Z,EAAOxb,OAAQ,GAAE0Y,EAAIjD,oBACjC+F,EAAOpiB,QAAQpC,OAAS,GACjDwkB,EAAOhiB,KAAK,CAAE+7B,SAAS,GAE3B,KAKH+O,GAAoBe,IACvB7pB,EAAOpiB,QAAQsC,KAAK2oC,GACpB7oB,EAAOwZ,cAEX,GAEEqP,GACArW,GACAyW,IACEnX,GAAQc,OAAUd,GAAQc,MAAMI,EAAKl0B,KAEvCgzB,GAAQqB,cAAcH,EAAKl0B,GAAI,CAC7B6S,IAAKk3B,IAGT7oB,EAAOpF,KAAK,yBAA0BoF,EACxC,CAEA3C,UACE,IAAI2C,EAAS9hB,KAEb8hB,EAAOpF,KAAK,+BAAgCoF,GAG5C/kB,OAAOI,KAAK2kB,GAAQ1kB,SAASyuC,IAC3B/pB,EAAO+pB,GAAc,YACd/pB,EAAO+pB,EAAW,IAG3B/pB,EAAS,IACX,EAIFwhB,GAAOphC,UAAUqyB,SFlnBjB,SAAkBuX,EAAgBC,QAAe,IAAfA,MAAkB,IAClD,MAAMjqB,EAAS9hB,KAEf,GAAI8hB,EAAO2Y,gBAAiB,OAAO3Y,EACnC,IAAIrO,EACAu4B,EACAxoC,EACAqtB,EACAnd,EACApN,EACAusB,EAWJ,GAV8B,iBAAnBiZ,EACTr4B,EAAMq4B,GAENr4B,EAAMq4B,EAAer4B,IACrBu4B,EAAcF,EAAejZ,MAC7BrvB,EAAOsoC,EAAetoC,KACtBqtB,EAAOib,EAAejb,KACtBnd,EAAQo4B,EAAep4B,MACvBpN,EAASwlC,EAAexlC,QAEtB9C,GAAQqtB,EAEV,OADApd,EAAMqO,EAAOslB,YAAY,CAAEvW,OAAMrtB,OAAM8C,SAAQoN,UAC3CD,EACKqO,EAAOyS,SAAS9gB,EAAKs4B,GAEvBjqB,EAET,MAAM9C,EAAM8C,EAAO9C,IAEnB,GADA4d,GAAe9a,EAAQ,YACX,MAARrO,GAAuB,KAARA,EACjB,OAAOqO,EAGT,IAAImqB,EAAcx4B,EAAIxL,QAAQ,KAAM,IACpC,GAAuB,MAAnBgkC,EAAY,IAA2C,IAA7BA,EAAYvpC,QAAQ,KAAY,CAC5D,MAAMwpC,EAAcpqB,EAAOkZ,aAAa0G,YAAc5f,EAAOkZ,aAAanK,KAC1Eob,IAAgBC,EAAe,GAAEA,KAAiB,KAAOD,GACtDhkC,QAAQ,MAAO,KACfA,QAAQ,KAAM,IACnB,CASA,GAPE4qB,EADEmZ,EACMhvC,EAAO8kB,EAAOggB,cAAcmK,GAAc,CAChDpZ,MAAO71B,EAAO,GAAIgvC,KAGZlqB,EAAO0c,kBAAkByN,IAG9BpZ,EACH,OAAO/Q,EAET,GAAI+Q,EAAMA,OAASA,EAAMA,MAAMsZ,SAAU,CACvC,MAAMC,EAAkBvZ,EAAMA,MAAMsZ,SAC9BE,EAAcrtB,EAAI6V,MAAMuX,GAC9B,IAAKC,EACH,MAAM,IAAI/sB,MACP,mCAAkC8sB,4CAGvC,GAAIC,IAAgBvqB,EAAOgT,KACzB,OAAOuX,EAAYvqB,OAAOyS,SAASuX,EAAgBC,EAEvD,CAEA,GAAIlZ,EAAMA,MAAMkJ,SACd,OAAOA,GAAS35B,KAAK0f,EAAQ,UAAW+Q,EAAOkZ,GAGjD,MAAM75B,EAAU,GAOhB,GANI2gB,EAAMA,MAAM3gB,QACdlV,EAAOkV,EAAS2gB,EAAMA,MAAM3gB,QAAS65B,GAErC/uC,EAAOkV,EAAS65B,GAIhB75B,EAAQo6B,UACNxqB,EAAOxb,OAAOimC,cAAiBzqB,EAAOxb,OAAOimC,cAAgBzqB,EAAOpiB,QAAQpC,OAAS,GAEvF,OAAOwkB,EAAOwqB,OAAOxqB,EAAQmqB,EAAa/5B,GAK5C,SAASyR,IACP,IAAI6oB,GAAe,EAqBnB,SAASC,EAAaC,EAAeC,GACnC7qB,EAAOkT,iBAAkB,EACzB,IAAI4X,GAAkB,EAEtB,4DACGtpC,MAAM,KACNlG,SAASghC,IACR,GAAIsO,EAActO,GAAgB,CAChCwO,GAAkB,EAClB,MAAMC,EAAa7vC,EAAO,GAAI61B,EAAO,CAAEA,MAAO6Z,IAC9C5qB,EAAOkT,iBAAkB,EACzBlT,EAAOgrB,UAAU1O,EAAeyO,EAAY7vC,EAAOkV,EAASy6B,GAAiB,UAC/E,KAEAC,GACJvL,GAAKvf,EAAQ4qB,EAAe1vC,EAAOkV,EAASy6B,IAAiB,EAC/D,CACA,SAASI,IACPjrB,EAAOkT,iBAAkB,CAC3B,CAvCA,4DACG1xB,MAAM,KACNlG,SAASghC,IACJvL,EAAMA,MAAMuL,KAAmBoO,IACjCA,GAAe,EACf1qB,EAAOgrB,UAAU1O,EAAevL,EAAO3gB,EAAS,WAClD,IAEA2gB,EAAMA,MAAMqM,WAAarM,EAAMA,MAAMsM,gBACvCkC,GAAKvf,EAAQ,CAAEhgB,GAAI+wB,EAAMA,MAAMsM,cAAcC,QAAUltB,GAAS,GAChEs6B,GAAe,GAEjB,iDAAiDlpC,MAAM,KAAKlG,SAAS4vC,IAC/Dna,EAAMA,MAAMma,KAAkBR,IAChCA,GAAe,EACfnL,GAAKvf,EAAQ,CAAEkrB,CAACA,GAAena,EAAMA,MAAMma,IAAiB96B,GAAS,GACvE,IAEEs6B,IAsBA3Z,EAAMA,MAAM1M,QACdrE,EAAOkT,iBAAkB,EACzBnC,EAAMA,MAAM1M,MAAM/jB,KAAK0f,EAAQ,CAC7BA,SACAnN,GAAIzC,EAAQ2gB,MACZje,KAAMkN,EAAOkZ,aACbrX,QAAS8oB,EACT7oB,OAAQmpB,EACR/Q,UAAW,UACXhd,SAGA6T,EAAMA,MAAMgK,gBACdA,GAAe/a,EAAQ+Q,EAAMA,MAAMgK,eAAgB4P,EAAcM,GAErE,CACA,SAASnpB,IACP9B,EAAOkT,iBAAkB,CAC3B,CAEA,GAhEA9iB,EAAQ2gB,MAAQA,EAgEZ/Q,EAAOxb,OAAOgxB,uBAAyB,GAAKzE,EAAMA,MAAM+P,YAAa,CAEvE,IAAIqK,GAAgB,EAChBC,GAAe,EAoBnB,GAnBIprB,EAAOkZ,cAAgBlZ,EAAOkZ,aAAanI,WAEL,IAArC/Q,EAAOkZ,aAAanI,MAAMgL,QACoB,mBAArC/b,EAAOkZ,aAAanI,MAAMgL,QAChC/b,EAAOkZ,aAAanI,MAAMgL,OAAO7e,EAAK8C,KACzCA,EAAOkZ,aAAanI,QAAUA,EAAMA,MAAM+P,aACzC9gB,EAAOkZ,aAAanI,MAAMhC,OAASgC,EAAMA,MAAM+P,YAAY/R,OAE7Doc,GAAgB,IAGhBnrB,EAAOkZ,aAAanI,MAAM+P,aACzB9gB,EAAOkZ,aAAanI,MAAM+P,cAAgB/P,EAAMA,MAAM+P,aACrD9gB,EAAOkZ,aAAanI,MAAM+P,YAAY/R,OAASgC,EAAMA,MAAM+P,YAAY/R,OAEzEoc,GAAgB,EAChBC,GAAe,IAGfD,GAAkBC,GAAgBnB,EAAgBvO,UA2BpD,OA1BA1b,EAAOyS,SACL,CAAE1D,KAAMgC,EAAMA,MAAM+P,YAAY/R,KAAMvqB,OAAQusB,EAAMvsB,QAAU,IAC9D,CACEkB,SAAS,EACTg2B,UAAWuO,EAAgBvO,UAC3BH,cAAe0O,EAAgB1O,cAC/BE,eAAgBwO,EAAgBxO,eAChCjJ,gBAAiByX,EAAgB9P,QACjCv8B,SAAUqsC,EAAgB9P,QAC1B1f,KAAM,CACJmvB,cACE5pB,EAAOyS,SACLuX,EACA9uC,EAAO,GAAI+uC,EAAiB,CAC1BvkC,SAAS,EACTg2B,WAAW,EACXH,eAAe,EACfE,gBAAgB,EAChB79B,SAAUqsC,EAAgB9P,QAC1B3H,gBAAiByX,EAAgB9P,UAGvC,KAICna,CAEX,CA6BA,OA3BAwa,GAAkBl6B,KAChB0f,EACA+Q,EACA/Q,EAAOkZ,cACP,KACMnI,EAAMA,MAAMtV,QACdyB,EACGuD,YACCthB,MAAMc,QAAQ8wB,EAAMA,MAAMtV,SAAWsV,EAAMA,MAAMtV,QAAU,CAACsV,EAAMA,MAAMtV,UAEzEwH,MAAK,KACJpB,GAAS,IAEVqB,OAAM,KACLpB,GAAQ,IAGZD,GACF,IAEF,KACEC,GAAQ,GAEV,WAIK9B,CACT,EE8YAwhB,GAAOphC,UAAUirC,YFh5CjB,WACE,MAAMrrB,EAAS9hB,KAEf,OADA48B,GAAe9a,EAAQ,eAChBA,EAAOyS,SAASzS,EAAOkZ,aAAavnB,IAAK,CAC9Cg1B,aAAa,EACbpL,eAAe,GAEnB,EE24CAiG,GAAOphC,UAAU4+B,QCt5CjB,SAAiB8F,EAAUrF,QAAW,IAAXA,MAAc,IACvC,MAAMzf,EAAS9hB,KACTkS,EAAUlV,EACd,CACEwK,QAASsa,EAAOxb,OAAOkB,QACvB8sB,gBAAgB,EAChB50B,SAAS,EACT0tC,aAAc,KACdvR,SAAS,EACT/3B,GAAI,IAENy9B,GAGF,IAAIvG,EACAW,EACAzpB,EAAQ2gB,QAEL3gB,EAAQ2pB,SAAW3pB,EAAQ2gB,QAAU/Q,EAAOkZ,eAC/CW,EAAgB7Z,EAAO6Z,cACvB7Z,EAAOkZ,aAAe9oB,EAAQ2gB,OAE5B3gB,EAAQ2pB,SACVb,EAAe9oB,EAAQ2gB,MACvB8I,EAAgB7Z,EAAOkZ,eAEvBA,EAAelZ,EAAOkZ,aACjBW,IAAeA,EAAgB7Z,EAAO6Z,gBAIzC7Z,EAAOxb,OAAOguB,gBAAkBpiB,EAAQoiB,iBAAmBpiB,EAAQqrB,gBACrE3J,GAAQ9R,EAAOxb,OAAO+mC,oBACpBvrB,EAAOgT,KAAKl0B,GACZ,CACE6S,IAAKvB,EAAQ2gB,MAAMpf,MAEpBqO,EAAOxb,OAAOg6B,oBAAsB,IACnCxe,EAAOxb,OAAOi6B,wBACdruB,EAAQ2gB,MAAMpf,KAKhBvB,EAAQxS,UACVoiB,EAAOpiB,QAAQoH,KAAK+B,IAAIiZ,EAAOpiB,QAAQpC,OAAS,EAAG,IAAM4U,EAAQ2gB,MAAMpf,IACvEqO,EAAOwZ,gBAKX,MAAMgS,EAAgBjrC,EAAE6P,EAAQk7B,cAAgBtrB,EAAOqY,eACvD,IAAI0L,EAEFA,EADEyH,EAAchwC,QAAUgwC,EAAc3V,KAAM,IAAGiP,EAAShmC,MAAMtD,OACxDgwC,EAAc3V,KAAM,IAAGiP,EAAShmC,MAAMsJ,GAAG,GACxC4X,EAAOgT,KAAKxyB,SACZ,GAAEwf,EAAOgT,KAAKxyB,aAAaskC,EAAShmC,KAEpC,IAAGgmC,EAAShmC,KAEvB,MAAM2sC,EAAgBzrB,EAAO9C,IAAI6hB,IAAI2M,KAAK,CACxC3H,QACAr+B,QAAS0K,EAAQ1K,QACjBo/B,SAAU10B,EAAQ2gB,SAGd4a,UAAEA,EAASC,UAAEA,EAASC,SAAEA,EAAQC,cAAEA,GAAkBL,EAE1D,GAAIE,GAAaA,EAAUxjC,QAAQ,SAAS3M,OAAS,GAAK4U,EAAQ2gB,MAAO,CACvE,MAAMgb,EAAoBJ,EAAUxjC,QAAQ,SAAS,GAAGgxB,OACpD4S,GAAqB37B,EAAQ2gB,QAC/Bgb,EAAkBhb,MAAQ3gB,EAAQ2gB,MAEtC,CA8BA,GAAI4a,EAAU,GAAGK,kBACf,OAAKJ,GAAcA,EAAUpwC,QACzBqwC,EACFC,GAAc,KACZ9rB,EAAOpF,KAAK,eAAgBoF,EAAOkZ,aAAclZ,EAAO6Z,cAAe7Z,EAAO,IAGhFA,EAAOpF,KAAK,eAAgBoF,EAAOkZ,aAAclZ,EAAO6Z,cAAe7Z,GAElEA,GARqCA,EAY9C,SAASisB,EAAQC,EAAeC,GAE9B,MAAMx6B,IAAEA,EAAG2R,QAAEA,EAAOtjB,GAAEA,EAAEqe,UAAEA,EAASC,aAAEA,GAAiB4tB,EAEtD,SAASrqB,EAAQuqB,GACfpsB,EAAOkT,iBAAkB,EACpBkZ,IACoB,iBAAdA,EACTT,EAAUjrC,KAAK0rC,IAEfT,EAAUjrC,KAAK,IACX0rC,EAAUhsB,YACZgsB,EAAUhsB,YAAYxB,OAAO+f,IAC3BgN,EAAU9jC,OAAO82B,EAAY,IAG/BgN,EAAU9jC,OAAOukC,IAGrBT,EAAU,GAAGK,mBAAoB,EA3DrC,SAAqBI,GAEnBpsB,EAAOkd,oBAAoByO,GAE3B,IAAIU,EAAiBV,EACI,iBAAdS,IAAwBC,EAAiB9rC,EAAE6rC,IAEtDC,EAAetqC,QAAQ,uBAAwB+iC,GAC/C9kB,EAAOpF,KAAK,qBAAsB+wB,EAAU,GAAI7G,GAE5C8G,GAAaA,EAAUpwC,SACrBqwC,EACFC,GAAc,KACZ9rB,EAAOpF,KAAK,eAAgBoF,EAAOkZ,aAAclZ,EAAO6Z,cAAe7Z,GACnEA,EAAOxb,OAAO8nC,kBAChBtsB,EAAOusB,UAAUX,EAAWD,EAAW7G,EACzC,KAGF9kB,EAAOpF,KAAK,eAAgBoF,EAAOkZ,aAAclZ,EAAO6Z,cAAe7Z,GACnEA,EAAOxb,OAAO8nC,kBAChBtsB,EAAOusB,UAAUX,EAAWD,EAAW7G,IAI/C,CAmCI0H,CAAYJ,GACd,CAMA,GAAI9oB,EACFzB,EAAQyB,QACH,GAAItjB,EACT6hB,EAAQ7hB,QACH,GAAIqe,GAAaC,EAEtB,IACE0B,EAAOysB,mBAAmB,CACxB1I,MAAO4H,EAAU,GACjBttB,YACAC,eACAlO,QAAS+7B,EACTtqB,UACAC,OAlBN,WAEE,OADA9B,EAAOkT,iBAAkB,EAClBlT,CACT,G,CAiBI,MAAOmD,GAEP,MADAnD,EAAOkT,iBAAkB,EACnB/P,CACR,MACSxR,IAELqO,EAAOqgB,qBACTrgB,EAAOqgB,mBAAmBla,QAC1BnG,EAAOqgB,oBAAqB,GAE9BrgB,EACGsgB,WAAW3uB,EAAKw6B,GAChBlpB,MAAMypB,IACL7qB,EAAQ6qB,EAAW,IAEpBxpB,OAAM,KACLlD,EAAOkT,iBAAkB,CAAI,IAGrC,CAEA,IAAIyZ,EASJ,SAAShC,EAAaC,EAAeC,GACnCoB,EAAQrB,EAAe1vC,EAAOkV,EAASy6B,GACzC,CACA,SAASI,IACPjrB,EAAOkT,iBAAkB,CAC3B,CAgBA,MA7BA,wCAAwC1xB,MAAM,KAAKlG,SAASsxC,IACtD9H,EAAS8H,KACXD,GAAqB,EACrBV,EAAQ,CAAEW,CAACA,GAAc9H,EAAS8H,IAAgBx8B,GACpD,IAUE00B,EAASzgB,MACXygB,EAASzgB,MAAM/jB,KAAK0f,EAAQ,CAC1BA,SACAnN,GAAIqmB,EACJpmB,KAAM+mB,EACNhY,QAAS8oB,EACT7oB,OAAQmpB,EACR/tB,IAAK8C,EAAO9C,MAEL4nB,EAAS/J,eAClBA,GAAe/a,EAAQ8kB,EAAS/J,eAAgB4P,EAAcM,GACpD0B,IACV3sB,EAAOkT,iBAAkB,GAGpBlT,CACT,EDqsCAwhB,GAAOphC,UAAUmsC,UCpsCjB,SAAmBX,EAAWD,EAAW7G,GAGvC,IAAI+H,EACAjB,EAAU,KACZA,EAAU,GAAGI,mBAAoB,SAC1BJ,EAAU,GAAGI,mBAEtBJ,EAAUtvC,WAAW+I,MAAM2+B,IACrBA,EAAS5jB,cACXysB,GAAuB,EACvBtsC,EAAEyjC,GAAUjiC,QAAQ,mBAAoB+iC,GACxCd,EAAS5jB,YAAY/C,UACvB,IAEGwvB,GACHjB,EAAU7pC,QAAQ,mBAAoB+iC,GAfzB5mC,KAiBR0c,KAAK,kBAAmBgxB,EAAU,GAAID,EAAU,GAAI7G,GAjB5C5mC,KAkBR4lC,iBAAiB8H,EAAU,GAAI9G,EACxC,EDkrCAtD,GAAOphC,UAAU4qC,UE15CjB,SAAmB9O,EAAWnL,EAAO0O,EAAkBvF,QAAP,IAAXuF,MAAc,IACjD,MAAMzf,EAAS9hB,KACTgf,EAAM8C,EAAO9C,IACb4vB,EAAwB,UAAd5Q,EACV6Q,EAAeD,EAAU,QAAU,QAEnC18B,EAAUlV,EACd,CACEwK,QAASsa,EAAOxb,OAAOkB,QACvB8sB,gBAAgB,EAChB50B,SAAS,EACToE,GAAI,GACJyY,KAAM,IAERglB,GAGIuN,EAAc9xC,EAAO,GAAI61B,EAAMA,MAAMmL,IACrC6O,EAAaha,EAAMA,MAEnBkc,EAAgBA,CAAC5Q,EAAO36B,KAC5B,MAAMM,GAAEA,EAAEyY,KAAEA,GAASrK,EACrB,IAAIxR,EACS,SAAT8C,IACF9C,EAAWoD,EAAG2nC,WAAalvB,EAAKkvB,WAAa3nC,EAAGkrC,WAAazyB,EAAKyyB,WAEvD,UAATxrC,IACF9C,EAAWoD,EAAGmrC,YAAc1yB,EAAK0yB,YAAcnrC,EAAGorC,YAAc3yB,EAAK2yB,YAE1D,WAAT1rC,IACF9C,EAAWoD,EAAGqrC,aAAe5yB,EAAK4yB,aAAerrC,EAAGsrC,aAAe7yB,EAAK6yB,aAEtE1uC,GAAUA,EAASy9B,EAAM,EAG/B,SAASkR,IAEP,MAAMlR,EAAQnf,EAAIgf,GAAW9f,OAAO4wB,GACpCjC,EAAWvO,cAAgBH,EAE3B,MAAMmR,EAAQnR,EAAMr8B,GAEpB,SAASytC,IACPpR,EAAM7a,OACR,CACA6a,EAAMr6B,GAAI,GAAE+qC,SAAoB,KACzBS,IAEHxtB,EAAOkd,oBAAoBb,EAAMr8B,IAGjCq8B,EAAMjf,IAAIrb,QACP,GAAEm6B,EAAUvzB,sBAAsBuzB,EAAUvzB,wBAC7CooB,EACAsL,GAEFrc,EAAOpF,KACJ,GAAGkyB,EAAwB,GAAd,eAAoB5Q,SAAiBA,WACnDG,EAAMr8B,GACN+wB,EACAsL,IAGJrc,EAAOvF,KAAK,gBAAiBgzB,GAC7BR,EAAc5Q,EAAO,OAAO,IAE9BA,EAAMr6B,GAAI,GAAE+qC,UAAqB,KAC/B/sB,EAAO3Y,IAAI,gBAAiBomC,GACvBpR,EAAMqR,eACT1tB,EAAOhiB,OAETivC,EAAc5Q,EAAO,QAAQ,IAG/BA,EAAMr6B,GAAI,GAAE+qC,WAAsB,KAChC1Q,EAAMjf,IAAIrb,QAAS,GAAEm6B,EAAUvzB,6BAA8BooB,EAAOsL,GACpEA,EAAMzhB,KACH,GAAGkyB,EAAiC,GAAvB,uBAA4B5Q,gBAC1CG,EAAMr8B,GACN+wB,EACAsL,GAEF,MAAMsR,EAAiBtR,EAAMr8B,GAAGogB,YAChC6sB,EAAc5Q,EAAO,UACjBsR,GACFA,EAAetwB,UAEjB/L,GAAS,MACHq8B,GAAkBX,EAAY3uB,WAAa2uB,EAAYjS,iBACzD/a,EAAO4jB,YAAYvH,EAAMr8B,IAE3Bq8B,EAAMhf,iBACCgf,EAAMtL,aACNga,EAAWvO,aAAa,GAC/B,IAGApsB,EAAQ2gB,QAEN/Q,EAAOxb,OAAOguB,gBAAkBpiB,EAAQoiB,gBAC1CV,GAAQ5xB,KACN8f,EAAOgT,KAAKl0B,GACZ,CACE6S,IAAKvB,EAAQ2gB,MAAMpf,IACnB0qB,MAAOH,IAERlc,EAAOxb,OAAOg6B,oBAAsB,IACnCxe,EAAOxb,OAAOi6B,wBACdruB,EAAQ2gB,MAAMpf,KAKhBvB,EAAQ2gB,QAAU/Q,EAAOkZ,eAC3BmD,EAAMtL,MAAQ71B,EAAOkV,EAAQ2gB,MAAO,CAAEsL,UACtCrc,EAAOkZ,aAAemD,EAAMtL,OAI1B3gB,EAAQxS,UAAYwS,EAAQmrB,gBAC9Bvb,EAAOpiB,QAAQsC,KAAKkQ,EAAQ2gB,MAAMpf,KAClCqO,EAAOwZ,gBAIPgU,IAEFxtB,EAAOkd,oBAAoBb,EAAMr8B,IAGjCq8B,EAAMjf,IAAIrb,QACP,GAAEm6B,EAAUvzB,sBAAsBuzB,EAAUvzB,wBAC7CooB,EACAsL,GAEFrc,EAAOpF,KACJ,GAAEmyB,SAAoB7Q,SAAiBA,WACxCG,EAAMr8B,GACN+wB,EACAsL,IAKJA,EAAMnb,MAAyB,IAApB9Q,EAAQ1K,UAAyC,IAApB0K,EAAQ1K,QAAmB0K,EAAQ1K,aAAU8B,EACvF,CAGA,SAASomC,EAAUC,EAAiBC,GAElC,MAAMn8B,IAAEA,EAAG2R,QAAEA,EAAOjF,UAAEA,EAASC,aAAEA,GAAiBuvB,EAGlD,SAAShsB,EAAQuqB,GACXA,IACuB,iBAAdA,EACTY,EAAY1pB,QAAU8oB,EACbA,EAAUhsB,YACnBgsB,EAAUhsB,YAAYxB,OAAO+f,IAC3BqO,EAAYhtC,GAAK2+B,EACjBzhB,EAAIE,IAAIvV,OAAO82B,EAAY,IAG7BqO,EAAYhtC,GAAKosC,EAEnBmB,IAEJ,CAMA,GAAIjqB,EACFzB,EAAQyB,QACH,GAAIjF,GAAaC,EAEtB,IACE0B,EAAO+tB,qBAAqB,CAC1BlvB,OAAQ3B,EAAIld,GACZqe,YACAC,eACAlO,QAAS09B,EACTjsB,UACAC,OAhBN,WAEE,OADA9B,EAAOkT,iBAAkB,EAClBlT,CACT,G,CAeI,MAAOmD,GAEP,MADAnD,EAAOkT,iBAAkB,EACnB/P,CACR,MACSxR,GAELqO,EAAOqgB,qBACTrgB,EAAOqgB,mBAAmBla,QAC1BnG,EAAOqgB,oBAAqB,GAE9BrgB,EACGsgB,WAAW3uB,EAAKm8B,GAChB7qB,MAAM+qB,IACLhB,EAAY1pB,QAAU0qB,EACtBT,GAAe,IAEhBrqB,OAAM,KACLlD,EAAOkT,iBAAkB,CAAI,KAGjCqa,GAEJ,CAEA,IAAIU,EAYJ,SAAStD,EAAaC,EAAeC,GACnC+C,EAAUhD,EAAe1vC,EAAOkV,EAASy6B,GAC3C,CACA,SAASI,IACPjrB,EAAOkT,iBAAkB,CAC3B,CAeA,MA/BA,iDAAiD1xB,MAAM,KAAKlG,SAASghC,IAC/D0Q,EAAY1Q,KAAmB2R,IACjCA,GAAgB,EAChBL,EAAU,CAAEtR,CAACA,GAAgB0Q,EAAY1Q,IAAkBlsB,GAC7D,IAEG69B,GAA+B,YAAd/R,GACpBqR,IAUEP,EAAY3oB,OACd2oB,EAAY3oB,MAAM/jB,KAAK0f,EAAQ,CAC7BA,SACAnN,GAAIzC,EAAQ2gB,MACZje,KAAMkN,EAAOkZ,aACbrX,QAAS8oB,EACT7oB,OAAQmpB,EACR/Q,YACAhd,QAGA8vB,EAAYjS,gBACdA,GAAe/a,EAAQgtB,EAAYjS,eAAgB4P,EAAcM,GAE5DjrB,CACT,EFwqCAwhB,GAAOphC,UAAUu8B,YEvqCjB,SAAqBN,GACnBnhC,EAAOmhC,EAAO,CAAEqR,eAAe,IAC/BrR,EAAM7a,OACR,EFsqCAggB,GAAOphC,UAAUpC,KDpzBjB,WACE,MAAMgiB,EAAS9hB,KACT8Z,EAASN,KACf,GAAIsI,EAAO2Y,gBAAiB,OAAO3Y,EACnC,IAAImqB,EACAF,EACAlZ,EACmB,iBAAnBnvB,UAAApG,QAAA,OAAAgM,EAAA5F,UAAA,IACFqoC,GAAkBroC,UAAApG,QAAAgM,SAAA5F,UAAW,SAE7BuoC,EAAWvoC,UAAApG,QAAA,OAAAgM,EAAA5F,UAAU,GACrBqoC,GAAkBroC,UAAApG,QAAAgM,SAAA5F,UAAW,SAG/B,MAAMF,KAAEA,EAAI8C,OAAEA,EAAMoN,MAAEA,GAAUq4B,EAChC,GAAIvoC,EAEF,OADAyoC,EAAcnqB,EAAOslB,YAAY,CAAE5jC,OAAM8C,SAAQoN,UAC7Cu4B,EACKnqB,EAAOhiB,KACZmsC,EACAjvC,EAAO,GAAI+uC,EAAiB,CAC1BvoC,KAAM,KACN8C,OAAQ,KACRoN,MAAO,QAINoO,EAGT,MAAM9C,EAAM8C,EAAO9C,IACnB4d,GAAe9a,EAAQ,QAEvB,IACIkc,EADAE,EAAsBpc,EAAOkZ,aAAamD,MAY9C,GAVKD,GACH,4DACG56B,MAAM,KACNlG,SAASghC,IACJtc,EAAOkZ,aAAanI,MAAMuL,KAC5BF,GAAsB,EACtBF,EAAYI,EACd,IAGFF,IAAwB6N,EAAgBlQ,QAAS,CACnD,MAAMwC,EACJvc,EAAOkZ,aAAamD,OAASrc,EAAOkZ,aAAanI,MAAMyL,eAAiBtf,EAAIgf,GAAWz8B,MACnFg9B,EAAczc,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GAC3D,IAAIq+B,EAEJ,GAAI0C,GAAgBA,EAAanf,IAAK,CACpC,MAAM8wB,EAAmB3R,EAAanf,IAAInO,QAAQ,aAClD,GAAIi/B,EAAiB1yC,QAAU0yC,EAAiB,GAAG3sB,QAAS,CAC1D,MAAMF,EAAU6sB,EAAiB,GAE5BluB,EAAO5C,IAAIjV,QAAQkZ,GAAS7lB,SAC/Bq+B,EAAgBxY,EAAQE,QAAQwP,MAEpC,CACF,CAgBA,GAfK8I,IACHA,EAAgB7Z,EAAO0c,kBAAkBD,KAGtC5C,GAAiB4C,IACpB5C,EAAgB,CACdloB,IAAK8qB,EACL1N,KAAM0N,EAAYj7B,MAAM,KAAK,GAC7BoQ,MAAOF,EAAc+qB,GACrB1L,MAAO,CACLhC,KAAM0N,EAAYj7B,MAAM,KAAK,GAC7BmQ,IAAK8qB,OAIN0N,GAAkE,IAAnDA,EAAYhkC,QAAQ,QAAS,IAAIxF,OAAOnF,QACrDq+B,GAAkB0C,GACrB,OAAOvc,EAGX,MAAMmuB,EAAgBlE,EAAgBlJ,OAASlH,GAAiBsQ,EAChE,GAAItQ,GAAiB0C,EAAc,CACjC,MAAM6R,EAAyBp2B,EAAOS,IAAMT,EAAOQ,MAASR,EAAOU,UAAYV,EAAOC,IAChFo2B,EACJruB,EAAOxb,OAAOguB,iBAAqD,IAAnCyX,EAAgBzX,eAC5C8b,EACJtuB,EAAOkZ,cACPlZ,EAAOkZ,aAAanI,OACpB/Q,EAAOkZ,aAAanI,MAAM3gB,UAC2B,IAArD4P,EAAOkZ,aAAanI,MAAM3gB,QAAQoiB,gBAChC6b,GAAoBD,GAA2BE,GACjDxc,GAAQ9zB,OAEVgiB,EAAOkZ,aAAeW,EACtB7Z,EAAOpiB,QAAQw0B,MACfpS,EAAOwZ,cAEH6U,GAAmBD,IAA2BE,GAChDxc,GAAQ9zB,OAGVgiB,EAAO2c,YAAYJ,GACf4R,GACFnuB,EAAOyS,SAAS0X,EAAa,CAAE5O,eAAe,G,MAEvCgB,IACTvc,EAAO2c,YAAYJ,GACf4N,GACFnqB,EAAOyS,SAAS0X,EAAa,CAAE5O,eAAe,KAGlD,OAAOvb,CACT,CACA,IAKIuuB,EALAC,EAAgBxuB,EAAO5C,IACxB9gB,SAAS,iBACT2S,QAAQ,oCACR7G,GAAG,GAGN,GAAI4X,EAAOxb,OAAOgxB,uBAAyB,EAAG,CAC5C,MAAM3xB,EAAU,GAChBmc,EAAO5C,IAAI9gB,SAAS,SAAS+I,MAAMi4B,IACjCz5B,EAAQ3D,KAAKo9B,EAAO7zB,UAAU,IAGhC,MAAMglC,EAAkBzuB,EAAO5C,IAAI9gB,SAAS,iBAAiB2S,QAAQ,gBAAgB7G,GAAG,GACxF,GAAIqmC,EAAgBjzC,OAAQ,CAC1B,MAAMkzC,EAA0B1uB,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GACjEmzC,EAA4B3uB,EAAO0c,kBAAkBgS,GAEzDC,GACAF,EAAgB,GAAGtV,QACnBwV,EAA0B5d,QAAU0d,EAAgB,GAAGtV,OAAOpI,MAAMA,QAEpEyd,EAAgBC,EACXxE,EAAgBlQ,UACnBwU,EAAarxB,EAAI/D,OAAS6G,EAAOxb,OAAOgxB,wBAG9C,CACF,CAEA,IAAKyU,EAAgBlJ,OAASyN,EAAchzC,SAAW+yC,EAAY,CACjE,GACEvuB,EAAOxb,OAAOguB,gBACdgc,EAAc,GAAGrV,QACjBnZ,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,KAAOgzC,EAAc,GAAGrV,OAAOpI,MAAMpf,IAM5E,OAJAqO,EAAOhiB,KACLgiB,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GACvCN,EAAO+uC,EAAiB,CAAElJ,OAAO,KAE5B/gB,EAET,MAAM4uB,EAAoBJ,EAAc,GAAGrV,OAAOpI,MAClD,OAAIkZ,EAAgBlQ,SAAWyU,EAAc3jB,SAAS,YACpDwW,GACErhB,EACA,CAAEhgB,GAAIwuC,GACNtzC,EAAO+uC,EAAiB,CACtBlZ,MAAO6d,KAGJ5uB,IAETwa,GAAkBl6B,KAChB0f,EACA4uB,EACA5uB,EAAOkZ,cACP,KACEmI,GACErhB,EACA,CAAEhgB,GAAIwuC,GACNtzC,EAAO+uC,EAAiB,CACtBlZ,MAAO6d,IAEV,IAEH,QACA,YAGK5uB,EACT,CAYA,GAToB,MAAhBmqB,IACFA,OAAc3iC,GAEZ2iC,GAAkC,MAAnBA,EAAY,IAA2C,IAA7BA,EAAYvpC,QAAQ,OAC/DupC,IAAgBnqB,EAAO+O,MAAQ,KAAOob,GAAahkC,QAAQ,KAAM,OAE9DgkC,GAAenqB,EAAOpiB,QAAQpC,OAAS,IAC1C2uC,EAAcnqB,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,IAEnD+yC,IAAetE,EAAgBlJ,OAAS/gB,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GACjF,OAAOwkB,EAAOhiB,KACZgiB,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,GACvCN,EAAO,GAAI+uC,GAAmB,GAAI,CAChClJ,OAAO,EACPr7B,SAAS,KAIf,GAAI6oC,IAAetE,EAAgBlJ,MACjC,OAAO/gB,EAkBT,GAdA+Q,EAAQ/Q,EAAO0c,kBAAkByN,GAC5BpZ,GACCoZ,IACFpZ,EAAQ,CACNpf,IAAKw4B,EACLpb,KAAMob,EAAY3oC,MAAM,KAAK,GAC7BoQ,MAAOF,EAAcy4B,GACrBpZ,MAAO,CACLhC,KAAMob,EAAY3oC,MAAM,KAAK,GAC7BmQ,IAAKw4B,MAKRpZ,EACH,OAAO/Q,EAGT,GAAI+Q,EAAMA,MAAMkJ,SACd,OAAOA,GAAS35B,KAAK0f,EAAQ,WAAY+Q,EAAOkZ,GAGlD,MAAM75B,EAAU,GAQhB,IAAIy+B,EACJ,GARI9d,EAAMA,MAAM3gB,QACdlV,EAAOkV,EAAS2gB,EAAMA,MAAM3gB,QAAS65B,GAErC/uC,EAAOkV,EAAS65B,GAElB75B,EAAQ2gB,MAAQA,EAGZ3gB,EAAQ2wB,OAAS/gB,EAAOxb,OAAOi1B,aACjCzZ,EAAO5C,IAAI9gB,SAAS,0BAA0B+I,MAAMi4B,IAC9CA,EAAOnE,QAAUmE,EAAOnE,OAAOpI,OAASuM,EAAOnE,OAAOpI,MAAMpf,MAAQof,EAAMpf,MAC5Ek9B,GAAkB,EAClBxN,GAASrhB,EAAQ,CAAEhgB,GAAIs9B,GAAUltB,GACnC,IAEEy+B,GACF,OAAO7uB,EAGX,SAAS6B,IACP,IAAI6oB,GAAe,EAanB,SAASC,EAAaC,EAAeC,GACnC7qB,EAAOkT,iBAAkB,EACzBmO,GAASrhB,EAAQ4qB,EAAe1vC,EAAOkV,EAASy6B,IAAiB,EACnE,CACA,SAASI,IACPjrB,EAAOkT,iBAAkB,CAC3B,CAlBInC,EAAMA,MAAMqM,WAAarM,EAAMA,MAAMsM,gBACvCgE,GAASrhB,EAAQ,CAAEhgB,GAAI+wB,EAAMA,MAAMsM,cAAcC,QAAUltB,GAC3Ds6B,GAAe,GAEjB,iDAAiDlpC,MAAM,KAAKlG,SAAS4vC,IAC/Dna,EAAMA,MAAMma,KAAkBR,IAChCA,GAAe,EACfrJ,GAASrhB,EAAQ,CAAEkrB,CAACA,GAAena,EAAMA,MAAMma,IAAiB96B,GAClE,IAEEs6B,IASA3Z,EAAMA,MAAM1M,QACdrE,EAAOkT,iBAAkB,EACzBnC,EAAMA,MAAM1M,MAAM/jB,KAAK0f,EAAQ,CAC7BA,SACAnN,GAAIke,EACJje,KAAMkN,EAAOkZ,aACbrX,QAAS8oB,EACT7oB,OAAQmpB,EACR/Q,UAAW,WACXhd,SAGA6T,EAAMA,MAAMgK,gBACdA,GAAe/a,EAAQ+Q,EAAMA,MAAMgK,eAAgB4P,EAAcM,GAErE,CACA,SAASnpB,IACP9B,EAAOkT,iBAAkB,CAC3B,CAiCA,OA/BI9iB,EAAQ2pB,QACVlY,IAEA2Y,GAAkBl6B,KAChB0f,EACA+Q,EACA/Q,EAAOkZ,cACP,KACMnI,EAAMA,MAAMtV,QACdyB,EACGuD,YACCthB,MAAMc,QAAQ8wB,EAAMA,MAAMtV,SAAWsV,EAAMA,MAAMtV,QAAU,CAACsV,EAAMA,MAAMtV,UAEzEwH,MAAK,KACJpB,GAAS,IAEVqB,OAAM,KACLpB,GAAQ,IAGZD,GACF,IAEF,KACEC,GAAQ,GAEV,YAKG9B,CACT,ECifAwhB,GAAOphC,UAAUu7B,qBGl4CjB,WACE,MAAM3b,EAAS9hB,KACf48B,GAAe9a,EAAQ,wBACvB,MAAMrO,EAAMqO,EAAOpiB,QAAQoiB,EAAOpiB,QAAQpC,OAAS,IAjCrD,SAA4BwkB,GAC1B8a,GAAe9a,EAAQ,sBACvB,MAAM9C,EAAM8C,EAAO9C,IACb8W,EAAgBhU,EAAOgU,cAENhU,EAAO5C,IAAI9gB,SAAS,SAAS+D,QAAQm9B,MACtDxd,EAAOkZ,eAAiBlZ,EAAOkZ,aAAamD,QAASrc,EAAOkZ,aAAa4V,QAEtEtR,IAAexd,EAAOqY,gBAGhBhzB,MAAMi4B,IACnB,MAAMuB,EAAat+B,EAAE+8B,GACfL,EAAe18B,EAAE2c,EAAIghB,OAAOC,YAAYU,IAC1C7e,EAAOxb,OAAOi1B,YAAczZ,EAAO0Z,aAAa94B,QAAQi+B,EAAW,KAAO,GAC5EA,EAAWve,SAAS,WAChB0T,GACFiJ,EAAa3c,SAAS,aAIxBN,EAAOqZ,aAAa,eAAgBwF,EAAY5B,EAAc,gBAAYz1B,EAAW,IACrFwY,EAAO2Z,WAAWkF,GACd7K,GAAiBiJ,EAAazhC,QAChCwkB,EAAO4Z,aAAaqD,GAExB,GAEJ,CAOE8R,CAAmB/uB,GAEnBA,EAAOpiB,QAAU,CAAC+T,GAClBqO,EAAOgT,KAAKp1B,QAAU,CAAC+T,GACvBqO,EAAOwZ,aACT,ECzCA,IAAAwV,GAAe,CACbttC,KAAM,SACN+a,OAAQ,CACN+kB,WAEFtsB,SAAU,CACRoP,MAAO,CACL5B,IAAK,GACLusB,UAAW,GACX1yB,WAAY,KAGhBH,SACE,MAAMlH,EAAWhX,KACbgX,EAASgI,IAEPhI,EAAS1Q,OAAOwb,SAClB9K,EAAS8K,OAAS,IAAIwhB,GAAOtsB,EAASgI,IAAKhI,IAI7CA,EAAS8K,OAAS,IAAIwhB,GAAOtsB,EAEjC,GCrBF,SAASg6B,GAAclc,GACrB,MAAM9V,EAAM8V,EAAK9V,IACXrG,EAAUE,KAChB,GAAIic,EAAKmc,qBAAsB,OAC/Bj0C,EAAO83B,EAAM,CACXoc,WAAW,EACXC,eAAgB,KAChBF,sBAAsB,IAExB,MAAMG,EAAU/uC,EAAE,SACZ6c,IAAEA,GAAQ4V,EAChB,IAAK5V,EAAK,OAEV,IAAImyB,EAEA5b,EACA5J,EACJ,MAAM6J,EAAe,GACrB,IAAIE,EACA3a,EAEAq2B,EACAC,EAEJ,SAASC,EAAkBC,GACzB,IAAKA,EAAG,OAAO,KACf,GAAIA,EAAE/uC,QAAQ,MAAQ,GAAK+uC,EAAE/uC,QAAQ,OAAS,EAC5C,OAAQsT,SAASy7B,EAAG,IAAM,IAAOzyB,EAAI/D,MAEvC,MAAMy2B,EAAO17B,SAASy7B,EAAG,IACzB,OAAI76B,OAAOC,MAAM66B,GAAc,KACxBA,CACT,CAMA,SAASva,EAAiBjuB,GACxB,KAJO4rB,EAAKoc,WAAahyB,EAAIyN,SAAS,mBAAqBzN,EAAIyN,SAAS,uBAIpD,OACpB+I,EAAahf,EAAe,eAAXxN,EAAEme,KAAwBne,EAAE8lB,cAAc,GAAGE,MAAQhmB,EAAEgmB,MACxEwG,EAAa1I,EAAe,eAAX9jB,EAAEme,KAAwBne,EAAE8lB,cAAc,GAAGG,MAAQjmB,EAAEimB,MACxEtD,GAAU,EACV4J,GAAY,EACZ,MAAMkc,EAAgBzyB,EAAI9gB,SAAS,gBACnCkzC,EAAWE,EAAkBG,EAAcjmC,IAAI,cAC/C6lC,EAAWC,EAAkBG,EAAcjmC,IAAI,aACjD,CACA,SAAS6rB,EAAgBruB,GACvB,IAAKusB,EAAW,OAChBvsB,EAAE6wB,qBAAsB,EACxB,MAAM7K,EAAmB,cAAXhmB,EAAEme,KAAuBne,EAAE8lB,cAAc,GAAGE,MAAQhmB,EAAEgmB,MAE/DrD,IACH5Q,EAAQo2B,EAAiB,GAAGvM,WAAauM,EAAiB,GAAGjiC,YAC7D8P,EAAIkD,SAAS,iBACbgvB,EAAQ1lC,IAAI,SAAU,eAGxBmgB,GAAU,EAEV3iB,EAAE6lB,iBAEF6G,EAAc1G,EAAQwG,EAAahf,EAEnC,IAAIk7B,EAAW32B,EAAQ2a,EACnB0b,IAAa16B,OAAOC,MAAMy6B,KAC5BM,EAAW9qC,KAAK+B,IAAI+oC,EAAUN,IAE5BC,IAAa36B,OAAOC,MAAM06B,KAC5BK,EAAW9qC,KAAKgC,IAAI8oC,EAAUL,IAEhCK,EAAW9qC,KAAKgC,IAAIhC,KAAK+B,IAAI+oC,EAAU,GAAI5yB,EAAI/D,OAE/C6Z,EAAKqc,eAAiBS,EACtBR,EAAQ,GAAG9yC,MAAMmnC,YAAY,yBAA2B,GAAEmM,OAE1D1yB,EAAIrb,QAAQ,cAAe+tC,GAC3B9c,EAAKpY,KAAK,2BAA4BoY,EAAM8c,EAC9C,CACA,SAASlX,IAEP,GADAr4B,EAAE,QAAQqJ,IAAI,SAAU,KACnB+pB,IAAc5J,EAGjB,OAFA4J,GAAY,OACZ5J,GAAU,GAGZ4J,GAAY,EACZ5J,GAAU,EAEVulB,EAAQ,GAAG9yC,MAAMmnC,YAAY,yBAA2B,GAAE3Q,EAAKqc,oBAC/DjyB,EAAImD,YAAY,gBAClB,CAEA,SAASwvB,IACF/c,EAAKqc,iBACVG,EAAWE,EAAkBH,EAAiB3lC,IAAI,cAClD6lC,EAAWC,EAAkBH,EAAiB3lC,IAAI,cAE9C4lC,IAAa16B,OAAOC,MAAMy6B,IAAaxc,EAAKqc,eAAiBG,IAC/Dxc,EAAKqc,eAAiBrqC,KAAK+B,IAAIisB,EAAKqc,eAAgBG,IAElDC,IAAa36B,OAAOC,MAAM06B,IAAazc,EAAKqc,eAAiBI,IAC/Dzc,EAAKqc,eAAiBrqC,KAAKgC,IAAIgsB,EAAKqc,eAAgBI,IAEtDzc,EAAKqc,eAAiBrqC,KAAKgC,IAAIhC,KAAK+B,IAAIisB,EAAKqc,eAAgB,GAAInyB,EAAI/D,OAErEm2B,EAAQ,GAAG9yC,MAAMmnC,YAAY,yBAA2B,GAAE3Q,EAAKqc,oBACjE,CAEAE,EAAmBvc,EAAK5V,IAAI9gB,SAAS,wBAChCizC,EAAiB/zC,SACpBw3B,EAAK5V,IAAIvV,OAAO,2CAChB0nC,EAAmBvc,EAAK5V,IAAI9gB,SAAS,yBAEvC02B,EAAKuc,iBAAmBA,EAExBnyB,EAAIkD,SAAS,kBAGb,MAAMkM,IAAU3V,EAAQQ,iBAAkB,CAAEmV,SAAS,GAErDwG,EAAK5V,IAAIpb,GAAGkb,EAAIqM,YAAYC,MAAO,uBAAwB6L,EAAkB7I,GAC7EtP,EAAIlb,GAAG,mBAAoByzB,GAC3BvY,EAAIlb,GAAG,mBAAoB42B,GAC3B1b,EAAIlb,GAAG,SAAU+tC,GACjB/c,EAAKhxB,GAAG,aAAc+tC,GAEtB/c,EAAKvY,KAAK,eAAe,KACvB2C,EAAImD,YAAY,kBAChByS,EAAKuc,iBAAiBxmC,SACtBiqB,EAAK5V,IAAI/V,IAAI6V,EAAIqM,YAAYC,MAAO,uBAAwB6L,EAAkB7I,GAC9EtP,EAAI7V,IAAI,mBAAoBouB,GAC5BvY,EAAI7V,IAAI,mBAAoBuxB,GAC5B1b,EAAI7V,IAAI,SAAU0oC,GAClB/c,EAAK3rB,IAAI,aAAc0oC,EAAa,GAExC,CCvIA,MAAMC,WAAa90B,GACjBlgB,YAAYkiB,EAAKld,EAAIiwC,QAAU,IAAVA,MAAa,IAChC5wC,MAAM4wC,EAAY,CAAC/yB,IAEnB,MAAM8V,EAAO90B,KASb,IAPY80B,EAAKxuB,OAAOk9B,SAOd,CAER,IADYnhC,EAAEP,GACLxE,OAAQ,CACf,IAAI2pB,EAAU,iDAMd,MALAA,GACgB,iBAAPnlB,EACF,iBAAgBA,8BACjB,4CAEA,IAAIwd,MAAM2H,EAClB,CACF,CAqCA,IAAIiO,EAUJ,OA5CAJ,EAAKxuB,OAAStJ,EAAO,CAAE8E,MAnBN,CACf8d,OAAQ,GACRoyB,UAAW,IAiB0BhzB,EAAI1Y,OAAOwuB,KAAMid,GAGpDjd,EAAKxuB,OAAOsZ,OAAOtiB,OAAS,EAC9Bw3B,EAAKlV,OAASkV,EAAKxuB,OAAOsZ,OAE1BkV,EAAKlV,OAAS,GAAGwQ,OAAOpR,EAAIY,OAAQkV,EAAKxuB,OAAO0rC,WAIlDh1C,GAAO,EAAO83B,EAAM,CAClB9V,MACAxb,KAAMsxB,EAAKxuB,OAAO9C,KAClByuC,KAAMnd,EAAKxuB,OAAO2rC,KAClBvyC,QAAS,GACT+jC,cAAe,KAIjB3O,EAAK3W,aAGLa,EAAI6V,MAAM7yB,KAAK8yB,GACXA,EAAKmd,OACPjzB,EAAI6V,MAAMod,KAAOnd,GAEfA,EAAKtxB,OACPwb,EAAI6V,MAAMC,EAAKtxB,MAAQsxB,GAIzBA,EAAKrtB,MAAQuX,EAAI6V,MAAMnyB,QAAQoyB,GAK7BI,EADEJ,EAAKtxB,KACG,QAAOsxB,EAAKtxB,OACbsxB,EAAKmd,KACL,YAEC,QAAOnd,EAAKrtB,QAExBqtB,EAAKl0B,GAAKs0B,EAELJ,EAAKxuB,OAAOyZ,MAIbf,EAAImD,YACN2S,EAAK/U,OAELf,EAAIlb,GAAG,QAAQ,KACbgxB,EAAK/U,MAAM,IAIR+U,GAXEA,CAYX,CAEA3V,UACE,IAAI2V,EAAO90B,KACX,MAAMgf,EAAM8V,EAAK9V,IAEjB8V,EAAK5V,IAAIrb,QAAQ,sBACjBixB,EAAKpY,KAAK,yCAA0CoY,GAEpD9V,EAAI7V,IAAI,SAAU2rB,EAAKiM,6BAEnBjM,EAAKmd,MACPjzB,EAAI6V,MAAMod,KAAO,YACVjzB,EAAI6V,MAAMod,MACRnd,EAAKtxB,OACdwb,EAAI6V,MAAMC,EAAKtxB,MAAQ,YAChBwb,EAAI6V,MAAMC,EAAKtxB,OAExBsxB,EAAK5V,IAAI,GAAGgzB,OAAS,YACdpd,EAAK5V,IAAI,GAAGgzB,OAEnBlzB,EAAI6V,MAAMrnB,OAAOwR,EAAI6V,MAAMnyB,QAAQoyB,GAAO,GAGtCA,EAAKxuB,OAAOwb,QAAUgT,EAAKhT,QAC7BgT,EAAKhT,OAAO3C,UAGd2V,EAAKpY,KAAK,6BAA8BoY,GAGxC/3B,OAAOI,KAAK23B,GAAM13B,SAAS+0C,IACzBrd,EAAKqd,GAAY,YACVrd,EAAKqd,EAAS,IAGvBrd,EAAO,IACT,CAEAiM,4BAA4B8B,GAC1B,MAAM/N,EAAO90B,KACPgf,EAAM8V,EAAK9V,IACXozB,EAAkBtd,EAAK5V,IAAIyN,SAAS,sBACpC0lB,EACJrzB,EAAI/D,OAAS6Z,EAAKxuB,OAAOgxB,wBAA0BxC,EAAK5V,IAAI9gB,SAAS,gBAAgBd,YACjE,IAAVulC,GAAyBwP,IAA6B,IAAVxP,GACtD/N,EAAK5V,IAAIkD,SAAS,sBACbgwB,IACHtd,EAAKpY,KAAK,2DAA4DoY,GACtEA,EAAK5V,IAAIrb,QAAQ,kCAGnBixB,EAAK5V,IAAImD,YAAY,sBACjB+vB,IACFtd,EAAKpY,KAAK,2DAA4DoY,GACtEA,EAAK5V,IAAIrb,QAAQ,gCAGvB,CAEAyuC,mBACE,MAAMxd,EAAO90B,KACPgf,EAAM8V,EAAK9V,IACjB8V,EAAKiM,4BAA8BjM,EAAKiM,4BAA4B7pB,KAAK4d,GACzEA,EAAKiM,8BACDjM,EAAKxuB,OAAOisC,uBACdvB,GAAclc,GAEhB9V,EAAIlb,GAAG,SAAUgxB,EAAKiM,4BACxB,CAEArgB,MAAM8xB,GACJ,MAAM1d,EAAO90B,KACPgf,EAAM8V,EAAK9V,IACXld,EAAKgzB,EAAKxuB,OAAOxE,IAAM0wC,EACvBtzB,EAAM7c,EAAEP,GAGd,IAAIQ,EAYAkzB,EAXwBlzB,EAAV,iBAAPR,EAA4BA,GAIlCod,EAAI3U,KAAK,MAAS,IAAG2U,EAAI3U,KAAK,QAAU,KACxC2U,EAAI3U,KAAK,SACL,IAAG2U,EAAI3U,KAAK,SAAStC,QAAQ,KAAM,KAAKA,QAAQ,UAAW,MAC5D,IAKU,QAAd+W,EAAIjD,OAAmB+Y,EAAKxuB,OAAOo9B,mBACrClO,EAAatW,EAAI9gB,SAAS,YAAY8L,GAAG,GACf,IAAtBsrB,EAAWl4B,SACbk4B,EAAanzB,EAAE,iCAInBrF,EAAO83B,EAAM,CACX5V,MACApd,GAAIod,EAAI,GACR+yB,KAAMnd,EAAKmd,MAAQ/yB,EAAIyN,SAAS,aAChC6I,aACAuO,UAAWvO,EAAaA,EAAW,QAAKlsB,EACxChH,aAGEwyB,EAAKmd,OACPjzB,EAAI6V,MAAMod,KAAOnd,GAIf5V,GAAOA,EAAI,KACbA,EAAI,GAAGgzB,OAASpd,GAGlBA,EAAKpY,KAAK,yBAA0BoY,EACtC,CAEA/U,KAAKyyB,GACH,MAAM1d,EAAO90B,KACb80B,EAAKpU,MAAM8xB,GACP1d,EAAKxuB,OAAOwb,SACVgT,EAAKxuB,OAAOgxB,uBAAyB,GACvCxC,EAAKwd,mBAGLxd,EAAKxuB,OAAOmsC,qBACZ3d,EAAK5V,IAAIyN,SAAS,SACjBmI,EAAK5V,IAAIyN,SAAS,cAEnBmI,EAAK5V,IAAI3C,KAAK,YAAY,KACxBuY,EAAKhT,OAAO/B,MAAM,IAGpB+U,EAAKhT,OAAO/B,OAGd+U,EAAK5V,IAAIrb,QAAQ,aACjBixB,EAAKpY,KAAK,uBAAwBoY,GAEtC,EAIFgd,GAAKxzB,IAAIglB,ICtIT,IAAAoP,GAAe,CACblvC,KAAM,SACN8C,OAAQ,CACNqsC,OAAQ,CAENC,cAAe,cAGnB9uC,GAAI,CACFic,QA1GJ,SAAoBf,GA+FlBA,EAAIlb,GAAG,SA9FP,SAAsBoF,GACpB,MAAMnI,EAASF,IACTgyC,EAAaxwC,EAAE6G,EAAEjM,QACjB61C,EAAiBD,EAAW7oC,QAAQ,KACpC+oC,EAASD,EAAex1C,OAAS,EACjCmW,EAAMs/B,GAAUD,EAAevoC,KAAK,QAG1C,GAAIwoC,IAEAD,EAAe/oC,GAAGiV,EAAI1Y,OAAOqsC,OAAOC,gBAEnCn/B,GAAOA,EAAI/Q,QAAQ,gBAAkB,GACtC,CACA,MAAMzF,EAAS61C,EAAevoC,KAAK,UAmBnC,YAjBEkJ,GACA1S,EAAO4Z,SACP5Z,EAAO4Z,QAAQq4B,eACH,YAAX/1C,GAAmC,WAAXA,IAEzBiM,EAAE6lB,iBACFhuB,EAAO4Z,QAAQq4B,aAAahwB,KAAKvP,EAAKxW,IAEtCwW,GACA1S,EAAO+Z,WACP/Z,EAAO+Z,UAAUm4B,SACjBlyC,EAAO+Z,UAAUm4B,QAAQC,UACb,YAAXj2C,GAAmC,WAAXA,KAEzBiM,EAAE6lB,iBACFhuB,EAAO+Z,UAAUm4B,QAAQC,QAAQlwB,KAAK,CAAEvP,SAG5C,CAIF1W,OAAOI,KAAK6hB,EAAIzB,SAASngB,SAASogB,IAChC,MAAM21B,EAAen0B,EAAIzB,QAAQC,GAAYm1B,OACxCQ,IACDjqC,EAAEkqC,iBACNr2C,OAAOI,KAAKg2C,GAAc/1C,SAASi2C,IACjC,MAAMC,EAAyBT,EAAW7oC,QAAQqpC,GAAenpC,GAAG,GAChEopC,EAAuBh2C,OAAS,GAClC61C,EAAaE,GAAejxC,KAC1B4c,EACAs0B,EACAA,EAAuBjpC,UACvBnB,EAEJ,IACA,IAIJ,IAAIqqC,EAAkB,GAQtB,GAPIR,IACF7pC,EAAE6lB,iBACFwkB,EAAkBT,EAAezoC,WAEnCkpC,EAAgBC,UAAYV,EAAe,IAGvC5pC,EAAEkqC,kBACFN,EAAenmB,SAAS,oBAAqBmmB,EAAenmB,SAAS,oBAGxDlZ,GAAOA,EAAInW,OAAS,GAAgB,MAAXmW,EAAI,IAC9Bq/B,EAAenmB,SAAS,SAAS,CAC/C,IAAImI,EAeJ,GAdIye,EAAgBze,MAAiC,YAAzBye,EAAgBze,KAC1CA,EAAO9V,EAAI6V,MAAM4e,QACRF,EAAgBze,KACzBA,EAAOzyB,EAAEkxC,EAAgBze,MAAM,GAAGod,QAElCpd,EAAO+d,EAAW5oC,QAAQ,SAAS,IAAM4oC,EAAW5oC,QAAQ,SAAS,GAAGioC,QACnEY,EAAenmB,SAAS,SAAWmI,GAAQA,EAAKxuB,OAAOotC,YACrB,iBAA1B5e,EAAKxuB,OAAOotC,UAAwB5e,EAAOzyB,EAAEyyB,EAAKxuB,OAAOotC,WAAW,GAAGxB,OACzEpd,EAAKxuB,OAAOotC,qBAAqBC,KAAW7e,EAAOA,EAAKxuB,OAAOotC,aAGvE5e,GACC9V,EAAI6V,MAAMod,OAAMnd,EAAO9V,EAAI6V,MAAMod,OAElCnd,IAASA,EAAKhT,OAAQ,OACvBgxB,EAAe,GAAGc,eACpBL,EAAgBntC,MAAQ0sC,EAAe,GAAGc,cAExCd,EAAenmB,SAAS,QAASmI,EAAKhT,OAAOhiB,KAAK2T,EAAK8/B,GACtDze,EAAKhT,OAAOyS,SAAS9gB,EAAK8/B,EACjC,CACF,GAGF,CAYMM,CADY7zC,KAEd,IC/GJ8zC,GAAe,CACbtwC,KAAM,wBACNpC,MAAO,CACLkrC,OAAOxqB,EAAQrO,EAAKvB,GAClB,MAAM65B,EAAkB,CACtBt4B,MACAof,MAAO,CACLhC,KAAMpd,EACNvB,QAAS,IACJA,EACHo6B,YAAQhjC,KAIRhD,EAAS,IACV4L,GAmBL,GAjBuB,UAAnBA,EAAQo6B,SACVhmC,EAAO8e,QAAW,qDAAoD3R,mDAAqDqO,EAAOgT,KAAKxyB,uBAAuBmR,6CAC9Js4B,EAAgBlZ,MAAMkhB,MAAQztC,GAET,gBAAnB4L,EAAQo6B,SACVhmC,EAAO8e,QAAW,mEAAkE3R,mDAAqDqO,EAAOgT,KAAKxyB,uBAAuBmR,6CAC5Ks4B,EAAgBlZ,MAAMmhB,YAAc1tC,GAEf,UAAnB4L,EAAQo6B,SACVhmC,EAAO8e,QAAW,iEAAgE3R,kFAAoFqO,EAAOgT,KAAKxyB,uBAAuBmR,mDACzMs4B,EAAgBlZ,MAAMiH,MAAQxzB,GAET,YAAnB4L,EAAQo6B,SACVhmC,EAAO2c,SAAW/Q,EAAQshC,WAAathC,EAAQ+Q,SAC/C3c,EAAO8e,QAAW,yDAAwD3R,8EAAgFqO,EAAOgT,KAAKxyB,uBAAuBmR,mDAC7Ls4B,EAAgBlZ,MAAMohB,QAAU3tC,GAE9B4L,EAAQo6B,OAAO5pC,QAAQ,UAAY,EAAG,CACxC,MAAMgxB,EAAQxhB,EAAQo6B,OAAOhpC,MAAM,KAC7B4wC,EAAOxgB,EAAM,IAAM,OACnBygB,EAASzgB,EAAM,IAAM,QAC3BptB,EAAO2c,SAAW/Q,EAAQshC,WAAathC,EAAQ+Q,SAC/C3c,EAAO8e,QAAW,gDAA+C8uB,WAAcC,gBAAqB1gC,mDAAqDqO,EAAOgT,KAAKxyB,uBAAuBmR,6CAC5Ls4B,EAAgBlZ,MAAM+d,MAAQtqC,CAChC,CACA,OAAOwb,EAAOyS,SAASwX,E,EAEzBhqB,gBAAgB5B,EAAWC,EAAclO,EAAcyR,EAASC,QAAhB,IAAP1R,MAAU,IACjD,MAAM4P,EAAS9hB,MACTgf,IAAEA,GAAQ8C,EACVrO,EAA2B,iBAAd0M,EAAyBA,EAAYC,EAClDioB,EAAcvmB,EAAOsmB,wBAAwB30B,EAAKvB,GACxD,SAASqf,EAAQ6iB,GACf,IAAI7xC,EAAU2P,EAAQ3P,SAAW,GACjC,GAAuB,mBAAZA,EAAwBA,EAAUA,EAAQH,KAAK0f,QACrD,GAAuB,iBAAZvf,EACd,IACEA,EAAUomB,KAAKW,MAAM/mB,E,CACrB,MAAO0iB,GAEP,MADArB,EAAOqB,GACDA,CACR,CAEF,MAAMovB,EAAmB3/B,EAAM,GAAInS,EAAS,CAC1C+xC,QAASpiC,EAAQ2gB,MACjB0hB,SAAUzyB,IAEN0yB,EAAiB9/B,EACrBxC,EAAQ2gB,OAAQ3gB,EAAQ2gB,MAAMvsB,QAAe,GAC7C4L,EAAQ9L,OAAS,GACjB8L,EAAQuiC,YAAc,IAExB,IAAIhU,EACAiU,EACAxiC,EAAQ8P,kBAAoB9P,EAAQ8P,iBAAiBlgB,KACvD2+B,EAAcvuB,EAAQ8P,iBAAiBlgB,IAErCoQ,EAAQ8P,kBAAoB9P,EAAQ8P,iBAAiB8d,OACvD4U,EAAgBxiC,EAAQ8P,iBAAiB8d,MAE3C9gB,EAAImB,UACDjC,OAAOk2B,EAAmBI,EAAgB,CACzCjyC,QAAS8xC,EACTvyC,GAAI2+B,EACJX,KAAM4U,IAEP3vB,MAAM4vB,IACLhxB,EAAQgxB,EAAiB7yC,GAAG,IAE7BkjB,OAAOC,IAEN,MADArB,EAAOqB,GACD,IAAI3F,MAAM2F,EAAI,GAE1B,CACA,IAAI2vB,EACAvM,GAAevmB,EAAOxb,OAAOuuC,gBAC/B/yB,EAAOsE,MAAM/H,WAAWjhB,SAAS03C,IAC3BA,EAAOrhC,MAAQ40B,IAAauM,EAAkBE,EAAO30B,UAAS,IAGlEkoB,GAAeuM,EACjBrjB,EAAQqjB,GACCvM,IAAgBuM,GAErB9yB,EAAOqgB,qBACTrgB,EAAOqgB,mBAAmBla,QAC1BnG,EAAOqgB,oBAAqB,GAE9BrgB,EACGsgB,WAAW3uB,EAAKvB,GAChB6S,MAAMgwB,IACL,MAAMC,EAAkBh2B,EAAImB,UAAUmJ,MAAMyrB,GACxCjzB,EAAOxb,OAAOuuC,gBAChB/yB,EAAOsE,MAAM/H,WAAWrc,KAAK,CAC3ByR,IAAK40B,EACLloB,UAAW60B,IAGfzjB,EAAQyjB,EAAgB,IAEzBhwB,OAAOC,IAEN,MADArB,IACMqB,CAAG,KAGbsM,EAAQpR,E,EAIZ0vB,qBAAoBl2B,GAA6D,IAA5DwG,UAAEA,EAASC,aAAEA,EAAYlO,QAAEA,EAAOyR,QAAEA,EAAOC,OAAEA,QAAQ,IAAAjK,EAAG,GAAEA,EAC9D3Z,KACR+hB,gBACL5B,EACAC,EACAlO,GACCpQ,IACC6hB,EAAQ7hB,EAAG,GAEb8hB,E,EAIJ2qB,mBAAkB0G,GAA6D,IAA5D90B,UAAEA,EAASC,aAAEA,EAAYlO,QAAEA,EAAOyR,QAAEA,EAAOC,OAAEA,QAAQ,IAAAqxB,EAAG,GAAEA,EAC5Dj1C,KACR+hB,gBACL5B,EACAC,EACAlO,GACCpQ,IACC6hB,EAAQ7hB,EAAG,GAEb8hB,E,EAIJoe,oBAAmBkT,GAA6D,IAA5D/0B,UAAEA,EAASC,aAAEA,EAAYlO,QAAEA,EAAOyR,QAAEA,EAAOC,OAAEA,QAAQ,IAAAsxB,EAAG,GAAEA,EAC7Dl1C,KACR+hB,gBACL5B,EACAC,EACAlO,GACA,SAACpQ,EAAIogC,QAAU,IAAVA,MAAa,IAChBve,EAAQ7hB,EAAIogC,E,GAEdte,EAEJ,ICrKA7N,GAAE,SAASqC,EAAE5B,EAAEd,EAAExM,GAAG,IAAIisC,EAAE3+B,EAAE,GAAG,EAAE,IAAI,IAAIhB,EAAE,EAAEA,EAAEgB,EAAElZ,OAAOkY,IAAI,CAAC,IAAI4/B,EAAE5+B,EAAEhB,KAAKzS,EAAEyT,EAAEhB,IAAIgB,EAAE,IAAI4+B,EAAE,EAAE,EAAE1/B,EAAEc,EAAEhB,OAAOgB,IAAIhB,GAAG,IAAI4/B,EAAElsC,EAAE,GAAGnG,EAAE,IAAIqyC,EAAElsC,EAAE,GAAGnM,OAAOsJ,OAAO6C,EAAE,IAAI,GAAGnG,GAAG,IAAIqyC,GAAGlsC,EAAE,GAAGA,EAAE,IAAI,IAAIsN,IAAIhB,IAAIzS,EAAE,IAAIqyC,EAAElsC,EAAE,GAAGsN,IAAIhB,KAAKzS,EAAE,GAAGqyC,GAAGD,EAAE/8B,EAAEtN,MAAM/H,EAAEgT,GAAEqC,EAAErV,EAAE2S,EAAE,CAAC,GAAG,QAAQxM,EAAElH,KAAKmzC,GAAGpyC,EAAE,GAAGyT,EAAE,IAAI,GAAGA,EAAEhB,EAAE,GAAG,EAAEgB,EAAEhB,GAAG2/B,IAAIjsC,EAAElH,KAAKe,EAAE,CAAC,OAAOmG,C,EAAGkP,GAAE,IAAIi9B,ICGtU,MAAMC,GAAiB,EAAC,EAAO,KAAM,QAAIhsC,GAUnCisC,GDbmV,SAAS/+B,GAAG,IAAId,EAAE0C,GAAE7W,IAAIvB,MAAM,OAAO0V,IAAIA,EAAE,IAAI2/B,IAAIj9B,GAAE5W,IAAIxB,KAAK0V,KAAKA,EAAEK,GAAE/V,KAAK0V,EAAEnU,IAAIiV,KAAKd,EAAElU,IAAIgV,EAAEd,EAAE,SAASK,GAAG,IAAI,IAAIqC,EAAE5B,EAAEd,EAAE,EAAExM,EAAE,GAAGisC,EAAE,GAAG3/B,EAAE,CAAC,GAAG4/B,EAAE,SAASr/B,GAAG,IAAIL,IAAIK,IAAI7M,EAAEA,EAAEjB,QAAQ,uBAAuB,MAAMuN,EAAExT,KAAK,EAAE+T,EAAE7M,GAAG,IAAIwM,IAAIK,GAAG7M,IAAIsM,EAAExT,KAAK,EAAE+T,EAAE7M,GAAGwM,EAAE,GAAG,IAAIA,GAAG,QAAQxM,GAAG6M,EAAEP,EAAExT,KAAK,EAAE+T,EAAE,GAAG,IAAIL,GAAGxM,IAAI6M,EAAEP,EAAExT,KAAK,EAAE,GAAE,EAAGkH,GAAGwM,GAAG,KAAKxM,IAAI6M,GAAG,IAAIL,KAAKF,EAAExT,KAAK0T,EAAE,EAAExM,EAAEsN,GAAGd,EAAE,GAAGK,IAAIP,EAAExT,KAAK0T,EAAEK,EAAE,EAAES,GAAGd,EAAE,IAAIxM,EAAE,EAAE,EAAEnG,EAAE,EAAEA,EAAEgT,EAAEzY,OAAOyF,IAAI,CAACA,IAAI,IAAI2S,GAAG0/B,IAAIA,EAAEryC,IAAI,IAAI,IAAIsT,EAAE,EAAEA,EAAEN,EAAEhT,GAAGzF,OAAO+Y,IAAI+B,EAAErC,EAAEhT,GAAGsT,GAAG,IAAIX,EAAE,MAAM0C,GAAGg9B,IAAI5/B,EAAE,CAACA,GAAGE,EAAE,GAAGxM,GAAGkP,EAAE,IAAI1C,EAAE,OAAOxM,GAAG,MAAMkP,GAAG1C,EAAE,EAAExM,EAAE,IAAIA,EAAEkP,EAAElP,EAAE,GAAGisC,EAAE/8B,IAAI+8B,EAAEA,EAAE,GAAGjsC,GAAGkP,EAAE,MAAMA,GAAG,MAAMA,EAAE+8B,EAAE/8B,EAAE,MAAMA,GAAGg9B,IAAI1/B,EAAE,GAAGA,IAAI,MAAM0C,GAAG1C,EAAE,EAAEc,EAAEtN,EAAEA,EAAE,IAAI,MAAMkP,IAAI1C,EAAE,GAAG,MAAMK,EAAEhT,GAAGsT,EAAE,KAAK++B,IAAI,IAAI1/B,IAAIF,EAAEA,EAAE,IAAIE,EAAEF,GAAGA,EAAEA,EAAE,IAAIxT,KAAK,EAAE,EAAE0T,GAAGA,EAAE,GAAG,MAAM0C,GAAG,OAAOA,GAAG,OAAOA,GAAG,OAAOA,GAAGg9B,IAAI1/B,EAAE,GAAGxM,GAAGkP,GAAG,IAAI1C,GAAG,QAAQxM,IAAIwM,EAAE,EAAEF,EAAEA,EAAE,GAAG,CAAC,OAAO4/B,IAAI5/B,C,CAAntB,CAAstBgB,IAAId,GAAGhS,UAAU,KAAKpG,OAAO,EAAEoY,EAAEA,EAAE,EAAE,ECatqCwB,MARL,SAACmQ,EAAMjhB,GAAuB,IAAAV,MAAAhC,UAAApG,OAAbc,EAAQ,IAAA6C,MAAAyE,MAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAARxH,EAAQwH,EAAAlC,aAAAkC,GACjC,MAAO,CACLyhB,OACAjhB,MAAOA,GAAS,GAChBhI,SAAU+Y,GAAa/Y,EAAS+D,QAAQyJ,GAAU0pC,GAAe5yC,QAAQkJ,GAAS,KAEtF,IC2BM,SAAAkS,GAAgB03B,EACA5jC,EACAxT,EACA4S,EACAykC,GAEpB,MAAO,CAACD,IAAKA,EAAK5jC,KAAMA,EAAMxT,SAAUA,EAChC4S,KAAMA,EAAMykC,IAAKA,EAAKp4C,SAFXiM,IAATsI,OAAqBtI,EAAYsI,EAAKvU,IAGlD,CC9CO,IAAMq4C,GAAQz0C,MAAMc,QACrB,SAAA4zC,GAAoBn/B,GACxB,MAAoB,iBAANA,GAA+B,iBAANA,CACzC,CCEA,SAAAo/B,GAAehkC,EAAWxT,EAA8Bo3C,GAEtD,GADA5jC,EAAKikC,GAAK,6BACE,kBAARL,QAAwClsC,IAAblL,EAC7B,IAAK,IAAI0E,EAAI,EAAGA,EAAI1E,EAASd,SAAUwF,EAAG,CACxC,IAAIgzC,EAAY13C,EAAS0E,GAAG8O,UACVtI,IAAdwsC,GACFF,GAAME,EAAY13C,EAAS0E,GAAa1E,SAAoBA,EAAS0E,GAAG0yC,IAE5E,CAEJ,CAQM,SAAAhgC,GAAYggC,EAAU5/B,EAAS7P,GACnC,IAA0B3H,EAAe4S,EAAWlO,EAAhD8O,EAAkB,GAYtB,QAXUtI,IAANvD,GACF6L,EAAOgE,EACH7L,GAAShE,GAAM3H,EAAW2H,EACrBgE,GAAahE,GAAMiL,EAAOjL,EAC1BA,GAAKA,EAAEyvC,MAAOp3C,EAAW,CAAC2H,UACpBuD,IAANsM,IACL7L,GAAS6L,GAAMxX,EAAWwX,EACrB7L,GAAa6L,GAAM5E,EAAO4E,EAC1BA,GAAKA,EAAE4/B,IAAOp3C,EAAW,CAACwX,GAC5BhE,EAAOgE,GAEZ7L,GAAS3L,GACX,IAAK0E,EAAI,EAAGA,EAAI1E,EAASd,SAAUwF,EAC7BiH,GAAa3L,EAAS0E,MAAK1E,EAAS0E,GAAKgb,QAAMxU,OAAWA,OAAWA,EAAWlL,EAAS0E,QAAIwG,IASrG,MALa,MAAXksC,EAAI,IAAyB,MAAXA,EAAI,IAAyB,MAAXA,EAAI,IACxB,IAAfA,EAAIl4C,QAA2B,MAAXk4C,EAAI,IAAyB,MAAXA,EAAI,IAE3CI,GAAMhkC,EAAMxT,EAAUo3C,GAEjB13B,GAAM03B,EAAK5jC,EAAMxT,EAAU4S,OAAM1H,EAC1C,CChDA,IAAAysC,GAAe,GCMf,MAAMC,GACJ,+FAA+F1yC,MAC7F,KAEE2yC,GACJ,0HAA0H3yC,MACxH,KAEE4yC,GACJ,wGAAwG5yC,MACtG,KAGE6yC,GAAcC,GACc,mBAAlBA,EAAS/uB,KACnB+uB,EAAS/uB,KAAK7jB,MAAQ,kBACtB4yC,EAAS/uB,KAYTgvB,GAAiB,WACrB,MAAM9zC,EAAU,GAAG,QAAAmD,EAAAhC,UAAApG,OADMqG,EAAI1C,UAAAyE,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJjC,EAAIiC,GAAAlC,UAAAkC,GAQ7B,OANAjC,EAAKvG,SAAQ,SAACP,QAAG,IAAHA,MAAM,IAClBE,OAAOI,KAAKN,GAAKO,SAASC,IAZTmG,MAafjB,GAbeiB,EAaKnG,EAZjBmG,EACJF,MAAM,KACNwC,KAAI,CAACwwC,EAAM7uC,IACI,IAAVA,EAAoB6uC,EAAK7rC,cACtB6rC,EAAK,GAAG1rC,cAAgB0rC,EAAKlhB,OAAO,KAE5CtiB,KAAK,MAMwBjW,EAAIQ,EAAI,GAExC,IAEOkF,CACT,EA8CMg0C,GAAqBC,GAEC,mBAAjBA,GACNA,GAAgBA,EAAa9zC,QAAQ,KAAO,GAAKqzC,GAAiBS,GAIvE,SAASC,GAASL,EAAUxkC,EAAM4O,EAAIyb,EAASya,GAC7C,MAAMC,EAAQ,GACRC,EAAS,GACTz3B,EAAU,GACV03B,EAAS,GACTC,EAAY,GAClB,IAAIC,GAAgB,EAChBC,EAAUb,GAAWC,GACrBxkC,GAAQA,EAAKhI,OAASgI,EAAKhI,MAAMuW,YACnC62B,EAAUplC,EAAKhI,MAAMuW,iBACdvO,EAAKhI,MAAMuW,UAClB42B,GAAgB,GAGlB,MAAME,EAAWV,GAAkBH,EAAS/uB,MAe5C,GAbI4vB,IACFL,EAAO50C,MAAM8b,KACPA,EAAM03B,MAAQwB,GAAYD,IArEN31B,KAAmC,IAAlCZ,GAAEA,EAAE41B,SAAEA,EAAQt4B,MAAEA,EAAKlM,KAAEA,GAAMwP,EAC1D,MAAMjB,EACqB,mBAAlBi2B,EAAS/uB,KAAsB+uB,EAAS/uB,KAAO0uB,GAAiBK,EAAS/uB,MAClF7G,EAAGL,UACAjC,OAAOiC,EAAWk2B,GAAezkC,EAAKhI,OAAS,GAAIgI,EAAKxL,OAAS,IAAK,CACrEtE,GAAIgc,EAAM23B,IACVr3C,SAAUg4C,EAASh4C,WAEpB2mB,MAAMhf,IACD+X,EAAMlM,MAAQkM,EAAMlM,KAAK9N,IAAMiC,GAAKA,EAAEmZ,KACxCniB,OAAOI,KAAK2gB,EAAMlM,KAAK9N,IAAI1G,SAASwR,IAClC7I,EAAEmZ,IAAIpb,GAAG8K,EAAWkP,EAAMlM,KAAK9N,GAAG8K,GAAW,IAIjDkP,EAAM23B,IAAIyB,cAAgBnxC,CAAC,GAC3B,EAsDAoxC,CAAsB,CAAE32B,KAAI41B,WAAUt4B,QAAOlM,QAAO,IAEtDuN,EAAQnd,MAAM8b,IA7CcA,KAE9B,MAAMqC,EAAYrC,GAASA,EAAM23B,KAAO33B,EAAM23B,IAAIyB,cAElD,GAAI/2B,EAAW,CACb,MAAMre,GAAEA,EAAEod,IAAEA,GAAQiB,EAChBrC,EAAMlM,MAAQkM,EAAMlM,KAAK9N,IAAMob,GACjCniB,OAAOI,KAAK2gB,EAAMlM,KAAK9N,IAAI1G,SAASwR,IAClCsQ,EAAI/V,IAAIyF,EAAWkP,EAAMlM,KAAK9N,GAAG8K,GAAW,IAG5CuR,EAAUhB,SAASgB,EAAUhB,UAC7Brd,GAAMA,EAAGiJ,YAAYjJ,EAAGiJ,WAAWC,YAAYlJ,UAC5Cgc,EAAM23B,IAAIyB,aACnB,GAgCIE,CAAuBt5B,EAAM,IAE/B+4B,EAAO70C,MAAK,CAACq1C,EAAUv5B,KAzDIA,KAE7B,MAAMqC,EAAYrC,GAASA,EAAM23B,KAAO33B,EAAM23B,IAAIyB,cAClD,IAAK/2B,EAAW,OAChB,MAAMm3B,EAAWjB,GAAev4B,EAAMlM,KAAKhI,OAAS,GAAIkU,EAAMlM,KAAKxL,OAAS,IAC5E+Z,EAAU/hB,SAAW0f,EAAMlM,KAAKwkC,SAASh4C,SACzCrB,OAAOsJ,OAAO8Z,EAAU/Z,MAAOkxC,GAC/Bn3B,EAAU02B,QAAQ,EAmDdU,CAAsBz5B,EAAM,MAI3Bm5B,EAAU,CACb,IAAKrlC,IAASA,EAAKhI,QAAUgI,EAAKhI,MAAM4tC,MAAO,OAAOb,EAEnC/kC,EAAKhI,MAAM4tC,MACnBl0C,MAAM,KAAKlG,SAASmO,IACxB0wB,GACH2a,EAAO50C,QAAQwe,EAAGgC,cAAc,SAAUjX,IAE5C4T,EAAQnd,QAAQwe,EAAGgC,cAAc,UAAWjX,IAC5CsrC,EAAO70C,QAAQwe,EAAGgC,cAAc,SAAUjX,IAC1CurC,EAAU90C,QAAQwe,EAAGgC,cAAc,YAAajX,GAAW,GAE/D,CAWA,OATImrC,IAAWza,GACb6a,EAAU90C,MAAK,CAACq1C,EAAUv5B,KACxB,MAAM25B,EAAK35B,GAASu5B,EACfI,GACDA,EAAG7lC,MAAQ6lC,EAAG7lC,KAAKuO,WACrBs3B,EAAG7lC,KAAKuO,UAAUsC,KAAK,YACzB,IAIgB,IAAlBm0B,EAAOt5C,QACY,IAAnB6hB,EAAQ7hB,QACU,IAAlBu5C,EAAOv5C,QACc,IAArBw5C,EAAUx5C,SAKRs5C,EAAOt5C,SACTq5C,EAAMC,OAAU94B,IACd84B,EAAOx5C,SAASs6C,GAAMA,EAAE55B,IAAO,GAG/BqB,EAAQ7hB,SACVq5C,EAAMx3B,QAAWrB,IACfqB,EAAQ/hB,SAASs6C,GAAMA,EAAE55B,IAAO,GAGhC+4B,EAAOv5C,SACTq5C,EAAME,OAAS,CAACQ,EAAUv5B,KACxB+4B,EAAOz5C,SAASs6C,GAAMA,EAAEL,EAAUv5B,IAAO,GAGzCg5B,EAAUx5C,SACZq5C,EAAMG,UAAY,CAACO,EAAUv5B,KAC3Bg5B,EAAU15C,SAASs6C,GAAMA,EAAEL,EAAUv5B,IAAO,IApBvC64B,CAyBX,CACA,MA6GMgB,GAAcA,CAACvB,EAAUj2B,EAAWK,EAAIyb,KAC5C,GAAIma,GAAYA,EAAS/uB,MAAQ2uB,GAAatzC,QAAQ0zC,EAAS/uB,OAAS,EACtE,MAAO,GAET,MAAMjpB,EAAW,GACXw5C,EAAQxB,EAASh4C,SACvB,IAAK,IAAI0E,EAAI,EAAGA,EAAI80C,EAAMt6C,OAAQwF,GAAK,EAAG,CACxC,MAAM+0C,EAAYD,EAAM90C,GAClB8I,EAAQksC,GAAgBD,EAAW13B,EAAWK,EAAIyb,GAAS,GAC7Dh7B,MAAMc,QAAQ6J,GAChBxN,EAAS4D,QAAQ4J,GACRA,GACTxN,EAAS4D,KAAK4J,EAElB,CACA,OAAOxN,CAAQ,EAsBX05C,GAAkBA,CAAC1B,EAAUj2B,EAAWK,EAAIyb,EAASya,KACzD,IALkBN,IACXx5C,EAASw5C,IAAa,UAAWA,GAAY,SAAUA,GAAY,aAAcA,EAInF2B,CAAW3B,GACd,OAAO5hC,OAAO4hC,GAEhB,GAAsB,SAAlBA,EAAS/uB,KACX,MAxBa2wB,EAAC5B,EAAUj2B,EAAWK,EAAIyb,KACzC,MAAMgc,EAAW7B,EAAShwC,MAAM5C,MAAQ,UAClC00C,GAAa/3B,EAAU/hB,UAAY,IAAI+D,QAAQg2C,IACnD,IAAIC,EAAgB,UAIpB,OAHID,EAAc/xC,QAChBgyC,EAAgBD,EAAc/xC,MAAMiyC,MAAQ,WAEvCD,IAAkBH,CAAQ,IAEnC,OAAyB,IAArBC,EAAU56C,OACLq6C,GAAYvB,EAAUj2B,EAAWK,EAAIyb,GAEvCic,EAAUpyC,KAAKwyC,GAAgBR,GAAgBQ,EAAan4B,EAAWK,EAAIyb,IAAS,EAYlF+b,CAAS5B,EAAUj2B,EAAWK,EAAIyb,GAE3C,MAAMrqB,EAzIQ2mC,EAACnC,EAAUj2B,EAAWK,EAAIyb,EAASya,KACjD,MAAM9kC,EAAO,CAAEuO,YAAWi2B,YACpBY,EAAUb,GAAWC,GAC3Br5C,OAAOI,KAAKi5C,EAAShwC,OAAOhJ,SAAS0M,IACnC,MAAM0uC,EAAYpC,EAAShwC,MAAM0D,GACjC,QAAyB,IAAd0uC,EACX,GAAIvC,GAAYvzC,QAAQoH,IAAa,EAE9B8H,EAAKxL,QAAOwL,EAAKxL,MAAQ,IACb,aAAb0D,IAEFA,EAAW,YAEI,eAAbA,IAEFA,EAAW,gBAEG,WAAZktC,GAAqC,UAAbltC,IACrB8H,EAAKhI,QAAOgI,EAAKhI,MAAQ,IAC9BgI,EAAKhI,MAAMnI,MAAQ+2C,GAEjBtC,GAAcxzC,QAAQoH,IAAa,EAErC8H,EAAKxL,MAAM0D,IAA0B,IAAd0uC,EAEvB5mC,EAAKxL,MAAM0D,GAAY0uC,OAEpB,GAAiB,QAAb1uC,EAET8H,EAAKvU,IAAMm7C,OACN,GACqB,IAA1B1uC,EAASpH,QAAQ,MACW,IAA3BoH,EAASpH,QAAQ,OAAeoH,EAASxM,OAAS,EACnD,CAEKsU,EAAK9N,KAAI8N,EAAK9N,GAAK,IACxB,IAAI8K,EACwB,IAA1B9E,EAASpH,QAAQ,KAAaoH,EAASsrB,OAAO,GAAKriB,EAAqBjJ,EAASsrB,OAAO,IACtFnuB,GAAO,EACPwxC,GAAU,EACVl8B,GAAO,EACP3N,EAAUlM,QAAQ,MAAQ,GAC5BkM,EAAUtL,MAAM,KAAKlG,SAAQ,CAACs7C,EAAeC,KACpB,IAAnBA,EAAsB/pC,EAAY8pC,GAEd,SAAlBA,IAA0BzxC,GAAO,GACf,YAAlByxC,IAA6BD,GAAU,GACrB,SAAlBC,IAA0Bn8B,GAAO,GACvC,IAGJ3K,EAAK9N,GAAG8K,GAnEU,SAAC6N,EAAY9C,GAAmC,IAAjC1S,KAAEA,EAAIwxC,QAAEA,EAAOl8B,KAAEA,QAAM,IAAA5C,EAAG,GAAEA,EAC7Di/B,GAAQ,EAYZ,OAVA,WACE,MAAM1vC,EAACxF,UAAApG,QAAAgM,SAAA5F,UAAU,GACb6Y,GAAQq8B,IACR3xC,GAAMiC,EAAE4lB,kBACR2pB,GAASvvC,EAAE6lB,iBACf6pB,GAAQ,EAERn8B,KAAa/Y,WACf,CAGF,CAqD2Bm1C,CAAgBL,EAAW,CAAEvxC,OAAMwxC,UAASl8B,QACnE,KAAwB,UAAbzS,EAEgB,iBAAd0uC,EACT5mC,EAAKtT,MAAQk6C,GAER5mC,EAAKhI,QAAOgI,EAAKhI,MAAQ,IAC9BgI,EAAKhI,MAAMtL,MAAQk6C,IAIhB5mC,EAAKhI,QAAOgI,EAAKhI,MAAQ,IAC9BgI,EAAKhI,MAAME,GAAY0uC,EAGN,OAAb1uC,GAAsB8H,EAAKvU,KAAQq5C,IACrC9kC,EAAKvU,IAAMm7C,GAEf,IAGF,MAAM7B,EAAQF,GAASL,EAAUxkC,EAAM4O,EAAIyb,EAASya,GAkBpD,OAhBAC,EAAMmC,SAAW,CAACzB,EAAUv5B,KACrBu5B,GAAav5B,GACdu5B,GAAYA,EAASzlC,MAAQylC,EAASzlC,KAAKxL,OAC7CrJ,OAAOI,KAAKk6C,EAASzlC,KAAKxL,OAAOhJ,SAASC,IACpC64C,GAAcxzC,QAAQrF,GAAO,IAC5BygB,EAAMlM,OAAMkM,EAAMlM,KAAO,IACzBkM,EAAMlM,KAAKxL,QAAO0X,EAAMlM,KAAKxL,MAAQ,KACT,IAA7BixC,EAASzlC,KAAKxL,MAAM/I,IAAmBA,KAAOygB,EAAMlM,KAAKxL,QAC3D0X,EAAMlM,KAAKxL,MAAM/I,IAAO,GAC1B,GAEJ,EAGFuU,EAAK6Q,KAAOk0B,EAEL/kC,CAAI,EA+CE2mC,CAAQnC,EAAUj2B,EAAWK,EAAIyb,EAASya,GACjDt4C,EAAWm4C,GAAkBH,EAAS/uB,MACxC,GACAswB,GAAYvB,EAAUj2B,EAAWK,EAAIyb,GAEzC,OAAOzmB,GAAE2gC,GAAWC,GAAWxkC,EAAMxT,EAAS,EAGjC,SAAS26C,GAAKC,EAAW74B,EAAW8b,GACjD,YAD+B,IAAJ+c,MAAO,IAC3BlB,GAAgBkB,EAAM74B,EAAWA,EAAUK,GAAIyb,GAAS,EACjE,CCrQE,IAAAgd,GAAa,CACb96C,cAjEF,SAAuB64C,GACrB,OAAO13C,SAASnB,cAAc64C,EAChC,EAgEEv4C,gBA9DF,SAAyBy6C,EAAsBC,GAC7C,OAAO75C,SAASb,gBAAgBy6C,EAAcC,EAChD,EA6DEC,eA3DF,SAAwBpoC,GACtB,OAAO1R,SAAS85C,eAAepoC,EACjC,EA0DEqoC,cAxDF,SAAuBroC,GACrB,OAAO1R,SAAS+5C,cAAcroC,EAChC,EAuDEjF,aArDF,SAAsBhB,EAAkBuuC,EAAeC,GACrDA,GAAWA,EAAsBxuC,aAAeA,GACjDwuC,EAAArC,gBAAAqC,IAAArC,cAAAp1C,IAGCiJ,EAAKgB,aAAmButC,EAAAC,EAC1B,EAgDEvuC,YA9CF,SAAqBwuC,EAAY5tC,GAC1B4tC,GACNA,EAAAxuC,YAAAY,EAED,EA2CEnC,Y,SA1CY+vC,EAAW5tC,GACxB4tC,EAAA/vC,YAAAmC,EAED,EAwCEb,WAvCAA,SAAYyuC,GACb,OAAAA,EAAAzuC,UAED,EAqCEiB,YApCAA,SAAWwtC,GACZ,OAAAA,EAAAxtC,WAED,EAkCEgrC,QAjCKA,SAAAvB,GACN,OAAAA,EAAAuB,OAED,EA+BEyC,e,SA9BYD,EAAYxoC,GACzBwoC,EAAAvuC,YAAA+F,CAED,EA4BY0oC,e,SA3BUF,GACrB,OAAAA,EAAAvuC,WAED,EA0BA0uC,U,SAzBcH,GACb,WAAAA,EAAAv2C,QAED,E,OACE22C,SAAYJ,GACb,WAAAA,EAAAv2C,QAED,E,UACE42C,SAAaL,GACb,OAAe,IAAfA,EAAAv2C,Q,GCzEF,SAAA62C,GAAiBtjC,GAAmB,YAAalN,IAANkN,CAAiB,CAC5D,SAAAujC,GAAevjC,GAAmB,YAAalN,IAANkN,CAAiB,CAI1D,IAAMwjC,GAAYl8B,GAAM,GAAI,GAAI,QAAIxU,OAAWA,GAE/C,SAAA2wC,GAAmBC,EAAeC,GAChC,OAAOD,EAAO78C,MAAQ88C,EAAO98C,KAAO68C,EAAO1E,MAAQ2E,EAAO3E,GAC5D,CAcA,SAAA4E,GAA2Bh8C,EAAwBi8C,EAAkBC,GACnE,IAAIx3C,EAAoCzF,EAAsBk9C,EAA/Cz0C,EAAqB,GACpC,IAAKhD,EAAIu3C,EAAUv3C,GAAKw3C,IAAUx3C,EAEtB,OADVy3C,EAAKn8C,EAAS0E,UAGAwG,KADZjM,EAAMk9C,EAAGl9C,OACcyI,EAAIzI,GAAOyF,GAGtC,OAAOgD,CACT,CAEA,IAAM6wC,GAA0B,CAAC,SAAU,SAAU,SAAU,UAAW,MAAO,QChCjF,SAAA6D,GAAqBnD,EAAiBv5B,GACpC,IAAIzgB,EAAao4C,EAAe33B,EAAM23B,IAClCgF,EAAYpD,EAASzlC,KAAmBhI,MACxCA,EAASkU,EAAMlM,KAAmBhI,MAEtC,IAAK6wC,GAAa7wC,IACd6wC,IAAa7wC,EAAjB,CAKA,IAAKvM,KAJLo9C,EAAWA,GAAY,GACvB7wC,EAAQA,GAAS,GAGE,CACjB,IAAM8wC,EAAM9wC,EAAMvM,GACNo9C,EAASp9C,KACTq9C,KACE,IAARA,EACFjF,EAAIl3C,aAAalB,EAAK,KACL,IAARq9C,EACTjF,EAAI/lC,gBAAgBrS,GApBd,MAyBFA,EAAIizB,WAAW,GAChBmlB,EAAIl3C,aAA8BlB,EAAKq9C,GA3BhC,KA4BCr9C,EAAIizB,WAAW,GAEvBmlB,EAAIkF,eA/BD,uCA+B0Ct9C,EAAKq9C,GA9B3C,KA+BCr9C,EAAIizB,WAAW,GAEvBmlB,EAAIkF,eAnCC,+BAmC0Ct9C,EAAKq9C,GAEpDjF,EAAIl3C,aAA8BlB,EAAKq9C,GAIhD,CAIA,IAAKr9C,KAAOo9C,EACJp9C,KAAOuM,GACX6rC,EAAI/lC,gBAAgBrS,EApCA,CAuC1B,CAEO,IAAMu9C,GAAmB,CAAC18B,OAAQs8B,GAAa3D,OAAQ2D,ICpD9D,SAAAK,GAAqBxD,EAAiBv5B,GACpC,IAAIzgB,EAAaq9C,EAAoBjF,EAAM33B,EAAM23B,IAC7CqF,EAAYzD,EAASzlC,KAAmBxL,MACxCA,EAAS0X,EAAMlM,KAAmBxL,MAEtC,IAAK00C,GAAa10C,IACd00C,IAAa10C,EAAjB,CAIA,IAAK/I,KAFL+I,EAAQA,GAAS,GADjB00C,EAAWA,GAAY,GAIhB10C,EAAM/I,WACDo4C,EAAYp4C,GAGxB,IAAKA,KAAO+I,EACVs0C,EAAMt0C,EAAM/I,GACNy9C,EAASz9C,KACHq9C,GAAgB,UAARr9C,GAAoBo4C,EAAYp4C,KAASq9C,IAC1DjF,EAAYp4C,GAAOq9C,EAbA,CAgB1B,CAEO,IAAMK,GAAc,CAAC78B,OAAQ28B,GAAahE,OAAQgE,ICrBrDG,GAAyB,oBAAXj6C,QAA0BA,OAAON,uBAA0BH,WACzEgT,GAAY,SAASlQ,GAAW43C,IAAI,WAAaA,GAAI53C,EAAK,GAAI,EAElE,SAAA63C,GAAsBp+C,EAAUmL,EAAcoK,GAC5CkB,IAAU,WAAazW,EAAImL,GAAQoK,CAAK,GAC1C,CAEA,SAAA8oC,GAAqB7D,EAAiBv5B,GACpC,IAAI48B,EAAUl3C,EAAciyC,EAAM33B,EAAM23B,IACpC0F,EAAY9D,EAASzlC,KAAmBtT,MACxCA,EAASwf,EAAMlM,KAAmBtT,MAEtC,IAAK68C,GAAa78C,IACd68C,IAAa78C,EAAjB,CAEAA,EAAQA,GAAS,GACjB,IAAI88C,EAAY,YAFhBD,EAAWA,GAAY,IAIvB,IAAK33C,KAAQ23C,EACN78C,EAAMkF,KACO,MAAZA,EAAK,IAA0B,MAAZA,EAAK,GACzBiyC,EAAYn3C,MAAM+8C,eAAe73C,GAEjCiyC,EAAYn3C,MAAMkF,GAAQ,IAIjC,IAAKA,KAAQlF,EAEX,GADAo8C,EAAMp8C,EAAMkF,GACC,YAATA,GAAsBlF,EAAMg9C,QAC9B,IAAK,IAAIC,KAASj9C,EAAMg9C,QACtBZ,EAAMp8C,EAAMg9C,QAAQC,GACfH,GAAaV,IAASS,EAASG,QAAgBC,IAClDN,GAAcxF,EAAYn3C,MAAOi9C,EAAOb,OAG1B,WAATl3C,GAAqBk3C,IAAQS,EAAS33C,KAC/B,MAAZA,EAAK,IAA0B,MAAZA,EAAK,GACzBiyC,EAAYn3C,MAAMmnC,YAAYjiC,EAAMk3C,GAEpCjF,EAAYn3C,MAAMkF,GAAQk3C,EA3BT,CA+B1B,CAiCO,IAAMc,GAAc,CACzBt9B,OAAQg9B,GACRrE,OAAQqE,GACR/7B,QAlCF,SAA2BrB,GACzB,IAAIxf,EAAYkF,EAAciyC,EAAM33B,EAAM23B,IAAKj/B,EAAKsH,EAAMlM,KAAmBtT,MAC7E,GAAKkY,IAAOlY,EAAQkY,EAAE2I,SACtB,IAAK3b,KAAQlF,EACVm3C,EAAYn3C,MAAMkF,GAAQlF,EAAMkF,EAErC,EA6BEqH,OA3BF,SAA0BiT,EAAc29B,GACtC,IAAIjlC,EAAKsH,EAAMlM,KAAmBtT,MAClC,GAAKkY,GAAMA,EAAE3L,OAAb,CAIA,IAAIrH,EAAciyC,EAAM33B,EAAM23B,IAAK3yC,EAAI,EACnCxE,EAAQkY,EAAE3L,OAAQ6wC,EAAS,EAAGC,EAAyB,GAC3D,IAAKn4C,KAAQlF,EACXq9C,EAAQ35C,KAAKwB,GACZiyC,EAAYn3C,MAAMkF,GAAQlF,EAAMkF,GAInC,IADA,IAAI4C,EADQnG,iBAAiBw1C,GACE,uBAAuBnyC,MAAM,MACrDR,EAAIsD,EAAM9I,SAAUwF,GACS,IAA/B64C,EAAQj5C,QAAQ0D,EAAMtD,KAAY44C,IAEtCjG,EAAgBh4C,iBAAiB,iBAAiB,SAAUm+C,GACvDA,EAAG3+C,SAAWw4C,KAAOiG,EACV,IAAXA,GAAcD,GACpB,GAfA,MAFEA,GAkBJ,GC9DA,SAASI,GAAaxE,EAAUv5B,GAC9B,MAAMg+B,EAAQzE,EAASzlC,KAAK9N,GACtBi4C,EAAc1E,EAASvqC,SACvBkvC,EAAS3E,EAAS5B,IAClB3xC,EAAKga,GAASA,EAAMlM,KAAK9N,GACzB2xC,EAAM33B,GAASA,EAAM23B,IAE3B,GAAIqG,IAAUh4C,IAIVg4C,GAASC,IAENj4C,EAKH/G,OAAOI,KAAK2+C,GAAO1+C,SAASoG,IACrBM,EAAGN,IACNnB,EAAE25C,GAAQ7yC,IAAI3F,EAAMu4C,EACtB,IAPFh/C,OAAOI,KAAK2+C,GAAO1+C,SAASoG,IAC1BnB,EAAE25C,GAAQ7yC,IAAI3F,EAAMu4C,EAAY,KAWlCj4C,GAAI,CAEN,MAAMgJ,EAAWuqC,EAASvqC,UAhCrB,SAASO,EAAQJ,GAAgB,IAAAvH,MAAAhC,UAAApG,OAANqG,EAAI,IAAA1C,MAAAyE,MAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJjC,EAAIiC,EAAAlC,aAAAkC,IATxC,SAAqBqH,EAAOtJ,EAAMma,GAChC,MAAMta,EAAOyJ,EAAMoa,KACbvjB,EAAKga,EAAMlM,KAAK9N,GAElBA,GAAMA,EAAGN,IAVf,SAAuB6J,EAASJ,EAAOtJ,GACd,mBAAZ0J,GAETA,EAAQJ,KAAUtJ,EAEtB,CAMIs4C,CAAcn4C,EAAGN,GAAOyJ,EAAOtJ,EAEnC,CAGI8K,CAAYxB,EAAOtJ,EAAM0J,EAAQyQ,M,EAgCjCA,EAAMhR,SAAWA,EAEjBA,EAASgR,MAAQA,EAEZg+B,EAKH/+C,OAAOI,KAAK2G,GAAI1G,SAASoG,IAClBs4C,EAAMt4C,IACTnB,EAAEozC,GAAK3xC,GAAGN,EAAMsJ,EAClB,IAPF/P,OAAOI,KAAK2G,GAAI1G,SAASoG,IACvBnB,EAAEozC,GAAK3xC,GAAGN,EAAMsJ,EAAS,GAS/B,CACF,CC3DA,MAAMovC,GLwCA,SAAe3+B,EAAiC4+B,GACpD,IAAIr5C,EAAWuC,EAAW+2C,EAAO,GAE3BC,OAAyB/yC,IAAX6yC,EAAuBA,EAASlD,GAEpD,IAAKn2C,EAAI,EAAGA,EAAI6zC,GAAMr5C,SAAUwF,EAE9B,IADAs5C,EAAIzF,GAAM7zC,IAAM,GACXuC,EAAI,EAAGA,EAAIkY,EAAQjgB,SAAU+H,EAAG,CACnC,IAAMod,EAAOlF,EAAQlY,GAAGsxC,GAAM7zC,SACjBwG,IAATmZ,GACD25B,EAAIzF,GAAM7zC,IAAmBd,KAAKygB,EAEvC,CAGF,SAAA65B,EAAqB7G,GACnB,IAAM70C,EAAK60C,EAAI70C,GAAK,IAAM60C,EAAI70C,GAAK,GAC7BmF,EAAI0vC,EAAIlqC,UAAY,IAAMkqC,EAAIlqC,UAAUjI,MAAM,KAAKwP,KAAK,KAAO,GACrE,OAAOgL,GAAMu+B,EAAIrF,QAAQvB,GAAKhrC,cAAgB7J,EAAKmF,EAAG,GAAI,QAAIuD,EAAWmsC,EAC3E,CAEA,SAAA8G,EAAoBC,EAAgBC,GAClC,OAAO,WACL,GAAoB,KAAdA,EAAiB,CACrB,IAAMC,EAASL,EAAItxC,WAAWyxC,GAC9BH,EAAIrxC,YAAY0xC,EAAQF,EAC1B,C,CAEJ,CAEA,SAAAG,EAAmB7+B,EAAc8+B,GAC/B,IAAI95C,EAAQ8O,EAAOkM,EAAMlM,UACZtI,IAATsI,GACEmoC,GAAMj3C,EAAI8O,EAAK6Q,OAASs3B,GAAMj3C,EAAIA,EAAEid,QACtCjd,EAAEgb,GACFlM,EAAOkM,EAAMlM,MAGjB,IAAIxT,EAAW0f,EAAM1f,SAAUo3C,EAAM13B,EAAM03B,IAC3C,GAAY,MAARA,EACEsE,GAAQh8B,EAAM9M,QAChB8M,EAAM9M,KAAO,IAEf8M,EAAM23B,IAAM4G,EAAIhD,cAAcv7B,EAAM9M,WAC/B,QAAY1H,IAARksC,EAAmB,CAE5B,IAAMqH,EAAUrH,EAAI9yC,QAAQ,KACtBo6C,EAAStH,EAAI9yC,QAAQ,IAAKm6C,GAC1Bj+C,EAAOi+C,EAAU,EAAIA,EAAUrH,EAAIl4C,OACnCy/C,EAAMD,EAAS,EAAIA,EAAStH,EAAIl4C,OAChCulB,GAAmB,IAAbg6B,IAA8B,IAAZC,EAAgBtH,EAAIzhC,MAAM,EAAGjN,KAAKgC,IAAIlK,EAAMm+C,IAAQvH,EAC5EC,EAAM33B,EAAM23B,IAAMsE,GAAMnoC,IAASmoC,GAAMj3C,EAAK8O,EAAmBikC,IAAMwG,EAAI59C,gBAAgBqE,EAAG+f,GACvBw5B,EAAIl+C,cAAc0kB,GAG7F,IAFIjkB,EAAOm+C,GAAKtH,EAAIl3C,aAAa,KAAMi3C,EAAIzhC,MAAMnV,EAAO,EAAGm+C,IACvDD,EAAS,GAAGrH,EAAIl3C,aAAa,QAASi3C,EAAIzhC,MAAMgpC,EAAM,GAAG90C,QAAQ,MAAO,MACvEnF,EAAI,EAAGA,EAAIs5C,EAAIl+B,OAAO5gB,SAAUwF,EAAGs5C,EAAIl+B,OAAOpb,GAAGk3C,GAAWl8B,GACjE,GAAI/T,GAAS3L,GACX,IAAK0E,EAAI,EAAGA,EAAI1E,EAASd,SAAUwF,EAAG,CACpC,IAAMy3C,EAAKn8C,EAAS0E,GACV,MAANy3C,GACF8B,EAAI5yC,YAAYgsC,EAAKkH,EAAUpC,EAAaqC,GAEhD,MACS7yC,GAAa+T,EAAM9M,OAC5BqrC,EAAI5yC,YAAYgsC,EAAK4G,EAAIjD,eAAet7B,EAAM9M,OAG5C+oC,GADJj3C,EAAKgb,EAAMlM,KAAmB6Q,QAExB3f,EAAEob,QAAQpb,EAAEob,OAAO87B,GAAWl8B,GAC9Bhb,EAAE8zC,QAAQgG,EAAmB56C,KAAK8b,GAE1C,MACEA,EAAM23B,IAAM4G,EAAIjD,eAAet7B,EAAM9M,MAEvC,OAAO8M,EAAM23B,GACf,CAEA,SAAAuH,EAAmBC,EACA/wC,EACAgxC,EACAC,EACA7C,EACAsC,GACjB,KAAOO,GAAY7C,IAAU6C,EAAU,CACrC,IAAM5C,EAAK2C,EAAOC,GACR,MAAN5C,GACF8B,EAAItwC,aAAakxC,EAAWN,EAAUpC,EAAIqC,GAAqB1wC,EAEnE,CACF,CAEA,SAAAkxC,EAA2Bt/B,GACzB,IAAIhb,EAAQuC,EAAWuM,EAAOkM,EAAMlM,KACpC,QAAatI,IAATsI,EAAoB,CAEtB,IADImoC,GAAMj3C,EAAI8O,EAAK6Q,OAASs3B,GAAMj3C,EAAIA,EAAEqc,UAAUrc,EAAEgb,GAC/Chb,EAAI,EAAGA,EAAIs5C,EAAIj9B,QAAQ7hB,SAAUwF,EAAGs5C,EAAIj9B,QAAQrc,GAAGgb,GACxD,QAAuBxU,IAAnBwU,EAAM1f,SACR,IAAKiH,EAAI,EAAGA,EAAIyY,EAAM1f,SAASd,SAAU+H,EAE9B,OADTvC,EAAIgb,EAAM1f,SAASiH,KACW,iBAANvC,GACtBs6C,EAAkBt6C,EAI1B,CACF,CAEA,SAAAu6C,EAAsBJ,EACAC,EACAC,EACA7C,GACpB,KAAO6C,GAAY7C,IAAU6C,EAAU,CACrC,IAAIG,OAAM,EAAEb,OAAiB,EAAEhB,OAAc,EAAElB,EAAK2C,EAAOC,GAC3D,GAAU,MAAN5C,EACF,GAAIR,GAAMQ,EAAG/E,KAAM,CAIjB,IAHA4H,EAAkB7C,GAClBkC,EAAYL,EAAIvxC,OAAOvN,OAAS,EAChCm+C,EAAKc,EAAWhC,EAAG9E,IAAagH,GAC3Ba,EAAI,EAAGA,EAAIlB,EAAIvxC,OAAOvN,SAAUggD,EAAGlB,EAAIvxC,OAAOyyC,GAAG/C,EAAIkB,GACtD1B,GAAMuD,EAAI/C,EAAG3oC,OAASmoC,GAAMuD,EAAIA,EAAE76B,OAASs3B,GAAMuD,EAAIA,EAAEzyC,QACzDyyC,EAAE/C,EAAIkB,GAENA,GAEJ,MACEY,EAAIrxC,YAAYiyC,EAAW1C,EAAG9E,IAGpC,CACF,CA4EA,SAAA8H,EAAoBlG,EAAiBv5B,EAAc8+B,GACjD,IAAI95C,EAAQ2f,EACRs3B,GAAMj3C,EAAIgb,EAAMlM,OAASmoC,GAAMt3B,EAAO3f,EAAE2f,OAASs3B,GAAMj3C,EAAI2f,EAAKq2B,WAClEh2C,EAAEu0C,EAAUv5B,GAEd,IAAM23B,EAAM33B,EAAM23B,IAAO4B,EAAS5B,IAC9B+H,EAAQnG,EAASj5C,SACjBm8C,EAAKz8B,EAAM1f,SACf,GAAIi5C,IAAav5B,EAAjB,CACA,QAAmBxU,IAAfwU,EAAMlM,KAAoB,CAC5B,IAAK9O,EAAI,EAAGA,EAAIs5C,EAAIvF,OAAOv5C,SAAUwF,EAAGs5C,EAAIvF,OAAO/zC,GAAGu0C,EAAUv5B,GAE5Di8B,GADJj3C,EAAIgb,EAAMlM,KAAK6Q,OACCs3B,GAAMj3C,EAAIA,EAAE+zC,SAAS/zC,EAAEu0C,EAAUv5B,EACnD,CACIg8B,GAAQh8B,EAAM9M,MACZ+oC,GAAMyD,IAAUzD,GAAMQ,GACpBiD,IAAUjD,GA1FpB,SAAwB0C,EACAO,EACAC,EACAb,GAatB,IAZA,IAOIc,EACAC,EACAC,EATAC,EAAc,EAAGC,EAAc,EAC/BC,EAAYP,EAAMlgD,OAAS,EAC3B0gD,EAAgBR,EAAM,GACtBS,EAAcT,EAAMO,GACpBG,EAAYT,EAAMngD,OAAS,EAC3B6gD,EAAgBV,EAAM,GACtBW,EAAcX,EAAMS,GAMjBL,GAAeE,GAAaD,GAAeI,GAC3B,MAAjBF,EACFA,EAAgBR,IAAQK,GACA,MAAfI,EACTA,EAAcT,IAAQO,GACI,MAAjBI,EACTA,EAAgBV,IAAQK,GACA,MAAfM,EACTA,EAAcX,IAAQS,GACbjE,GAAU+D,EAAeG,IAClCZ,EAAWS,EAAeG,EAAevB,GACzCoB,EAAgBR,IAAQK,GACxBM,EAAgBV,IAAQK,IACf7D,GAAUgE,EAAaG,IAChCb,EAAWU,EAAaG,EAAaxB,GACrCqB,EAAcT,IAAQO,GACtBK,EAAcX,IAAQS,IACbjE,GAAU+D,EAAeI,IAClCb,EAAWS,EAAeI,EAAaxB,GACvCP,EAAItwC,aAAakxC,EAAWe,EAAcvI,IAAa4G,EAAIrwC,YAAYiyC,EAAYxI,MACnFuI,EAAgBR,IAAQK,GACxBO,EAAcX,IAAQS,IACbjE,GAAUgE,EAAaE,IAChCZ,EAAWU,EAAaE,EAAevB,GACvCP,EAAItwC,aAAakxC,EAAWgB,EAAYxI,IAAauI,EAAcvI,KACnEwI,EAAcT,IAAQO,GACtBI,EAAgBV,IAAQK,UAEJx0C,IAAhBo0C,IACFA,EAActD,GAAkBoD,EAAOK,EAAaE,IAGlDjE,GADJ6D,EAAWD,EAAYS,EAAc9gD,OAEnCg/C,EAAItwC,aAAakxC,EAAWN,EAAUwB,EAAevB,GAAqBoB,EAAcvI,KACxF0I,EAAgBV,IAAQK,MAExBF,EAAYJ,EAAMG,IACJnI,MAAQ2I,EAAc3I,IAClC6G,EAAItwC,aAAakxC,EAAWN,EAAUwB,EAAevB,GAAqBoB,EAAcvI,MAExF8H,EAAWK,EAAWO,EAAevB,GACrCY,EAAMG,QAAYr0C,EAClB+yC,EAAItwC,aAAakxC,EAAYW,EAAUnI,IAAcuI,EAAcvI,MAErE0I,EAAgBV,IAAQK,MAI1BD,GAAeE,GAAaD,GAAeI,KACzCL,EAAcE,EAEhBf,EAAUC,EADqB,MAAtBQ,EAAMS,EAAU,GAAa,KAAOT,EAAMS,EAAU,GAAGzI,IACnCgI,EAAOK,EAAaI,EAAWtB,GAE5DS,EAAaJ,EAAWO,EAAOK,EAAaE,GAGlD,CAkBwBM,CAAe5I,EAAK+H,EAAuBjD,EAAoBqC,GACxE7C,GAAMQ,IACXR,GAAM1C,EAASrmC,OAAOqrC,EAAI5C,eAAehE,EAAK,IAClDuH,EAAUvH,EAAK,KAAM8E,EAAoB,EAAIA,EAAoBj9C,OAAS,EAAGs/C,IACpE7C,GAAMyD,GACfH,EAAa5H,EAAK+H,EAAuB,EAAIA,EAAuBlgD,OAAS,GACpEy8C,GAAM1C,EAASrmC,OACxBqrC,EAAI5C,eAAehE,EAAK,IAEjB4B,EAASrmC,OAAS8M,EAAM9M,MACjCqrC,EAAI5C,eAAehE,EAAK33B,EAAM9M,MAE5B+oC,GAAMt3B,IAASs3B,GAAMj3C,EAAI2f,EAAKq0B,YAChCh0C,EAAEu0C,EAAUv5B,EArBU,CAuB1B,CAEA,OAAO,SAAeu5B,EAA2Bv5B,GAC/C,IAAIhb,EAAW2yC,EAAW/rC,EACpBkzC,EAAiC,GACvC,IAAK95C,EAAI,EAAGA,EAAIs5C,EAAIkC,IAAIhhD,SAAUwF,EAAGs5C,EAAIkC,IAAIx7C,KAoB7C,IAlSJ,SAAiBgb,GACf,YAAqBxU,IAAdwU,EAAM03B,GACf,CA8QS+I,CAAQlH,KACXA,EAAWiF,EAAYjF,IAGrB4C,GAAU5C,EAAUv5B,GACtBy/B,EAAWlG,EAAUv5B,EAAO8+B,IAE5BnH,EAAM4B,EAAS5B,IACf/rC,EAAS2yC,EAAItxC,WAAW0qC,GAExBkH,EAAU7+B,EAAO8+B,GAEF,OAAXlzC,IACF2yC,EAAItwC,aAAarC,EAAQoU,EAAM23B,IAAa4G,EAAIrwC,YAAYypC,IAC5D4H,EAAa3zC,EAAQ,CAAC2tC,GAAW,EAAG,KAInCv0C,EAAI,EAAGA,EAAI85C,EAAmBt/C,SAAUwF,EACxC85C,EAAmB95C,GAAG8O,KAAmB6Q,KAAem0B,OAAegG,EAAmB95C,IAE/F,IAAKA,EAAI,EAAGA,EAAIs5C,EAAIpyB,KAAK1sB,SAAUwF,EAAGs5C,EAAIpyB,KAAKlnB,KAC/C,OAAOgb,C,CAEX,CKnTciC,CAAK,CAAC66B,GAAkBG,GAAaS,GD6DpC,CACbt9B,OAAQ29B,GACRhF,OAAQgF,GACR18B,QAAS08B,MErELvG,GAAiB,EAAC,EAAO,KAAM,QAAIhsC,GCOzC,MAAMk1C,GACJ1hD,YAAYkiB,EAAKmB,EAAW/Z,EAAKuT,QAAA,IAALvT,MAAQ,IAAE,IAAEtE,GAAEA,EAAES,QAAEA,EAAOnE,SAAEA,QAAU,IAAAub,EAAG,GAAEA,EACpE,MAAMra,EAAWF,IACjBsV,EAAM1U,KAAM,CACZwgB,GAAIxB,EACF5Y,MAAOA,GAAS,GAChB7D,QAASA,GAAW,GACpB3B,GAAIuf,EAAUvf,IAAM69C,IACpBrgD,SAAUA,GAAY,GACtB2d,MAAO,CACLhC,IAAmB,QAAdiF,EAAIjD,MACT2iC,GAAkB,OAAd1/B,EAAIjD,MACR4iC,OAAsB,WAAd3/B,EAAIjD,OAEdzd,MAAO6hB,EAAU7hB,MACjBsgD,cAAe,GACfC,gBAAiB,GACjBC,oBAAqB,GACrBC,gBAAiB,GACjBC,YAAa,GACbC,iBAAkB,GAClBC,YAAa,GACbC,kBAAmB,GACnBC,cAAe,KAGjB,MAAMC,EAAkBA,IACfl/B,EAAUngB,KAAKoG,MAAOpG,KAAKs/C,qBAAoB,IAwBxD,OAAO,IAAI57B,SAAQ,CAACC,EAASC,KArBH27B,IACxB,IAAI77B,SAAQ,CAACC,EAASC,KACW,mBAApB27B,EACT57B,EAAQ47B,GACCA,aAA2B77B,QACpC67B,EACGx6B,MAAMtc,IACLkb,EAAQlb,EAAO,IAEhBuc,OAAOC,IACNrB,EAAOqB,EAAI,IAGfrB,EACE,IAAItE,MACF,wGAGN,IAKFkgC,CADwBH,KAErBt6B,MAAMtc,IACLzI,KAAKy/C,eAAiBh3C,EAEtB,MAAMuwC,EAAOh5C,KAAKyI,SAElB,GAAI3G,EAeF,OAdA9B,KAAK8d,MAAQi7B,GAAKC,EAAMh5C,MAAM,GAC1BA,KAAK1B,QACP0B,KAAK6kB,QAAUvlB,EAASnB,cAAc,SACtC6B,KAAK6kB,QAAQhiB,UAAY7C,KAAK1B,OAEhC0B,KAAK8B,GAAKA,EACVo6C,GAAMl8C,KAAK8B,GAAI9B,KAAK8d,OACpB9d,KAAK8B,GAAK9B,KAAK8d,MAAM23B,IACrBz1C,KAAKkf,IAAM7c,EAAErC,KAAK8B,IAElB9B,KAAK87B,eACL97B,KAAK8B,GAAGogB,YAAcliB,KACtBA,KAAK0gB,aACLiD,EAAQ3jB,MAINg5C,IACFh5C,KAAK8d,MAAQi7B,GAAKC,EAAMh5C,MAAM,GAC9BA,KAAK8B,GAAKxC,EAASnB,cAAc6B,KAAK8d,MAAM03B,KAAO,OACnD0G,GAAMl8C,KAAK8B,GAAI9B,KAAK8d,OACpB9d,KAAKkf,IAAM7c,EAAErC,KAAK8B,KAEhB9B,KAAK1B,QACP0B,KAAK6kB,QAAUvlB,EAASnB,cAAc,SACtC6B,KAAK6kB,QAAQhiB,UAAY7C,KAAK1B,OAGhC0B,KAAK87B,eAED97B,KAAK8B,KACP9B,KAAK8B,GAAGogB,YAAcliB,MAGxB2jB,EAAQ3jB,KAAK,IAEdglB,OAAOC,IACNrB,EAAOqB,EAAI,GACX,GAER,CAEAnhB,GAAG8K,EAAWvB,GACPrN,KAAK6+C,iBACV7+C,KAAK6+C,gBAAgB78C,KAAK,CAAE4M,YAAWvB,WACzC,CAEAkP,KAAK3N,EAAWvB,GACTrN,KAAK6+C,iBACV7+C,KAAK8+C,oBAAoB98C,KAAK,CAAE4M,YAAWvB,WAC7C,CAEAqyC,kBACE,MAAMrjC,EAAOrc,KACb,OAAQ2H,IACN,IAAIlG,EAAQkG,EACZ,MAAM9K,EAAM,GAUZ,OATAE,OAAOuE,eAAezE,EAAK,QAAS,CAClC0E,IAAGA,IACME,EAETD,IAAIiwC,GACFhwC,EAAQgwC,EACRp1B,EAAKw6B,QACP,IAEKh6C,CAAG,CAEd,CAEA8iD,oBACE,MAAMjrB,MAAEA,EAAKkrB,cAAEA,EAAaC,SAAEA,GAAa7/C,KAAKwgB,GAAGD,MAC7Cu/B,EAAS,CACbprB,QACAmrB,YAcF,OAZAC,EAAOC,QAAU,IAAIC,MAAMJ,EAAe,CACxCr+C,IAAKA,CAACtE,EAAQ+K,KACZ,MAAMnL,EAAMI,EAAO+K,GAMnB,OADAnL,EAAIojD,WAJcxO,IAChB50C,EAAI4E,MAAQgwC,EACZzxC,KAAK62C,QAAQ,IAGRh6C,CAAG,IAIPijD,CACT,CAEAR,oBAAoBY,GAClB,MAAMC,EAAM,CACVC,SAAUpgD,KAAKuC,QAAQ+xC,QACvB+L,UAAWrgD,KAAKuC,QAAQgyC,SACxBgB,MACAlzC,IACAi+C,IAAKtgD,KAAKY,GACV2/C,IAAKvgD,KAAKwgB,GACVggC,SAAUxgD,KAAKygD,QAAQvpC,KAAKlX,MAC5B0gD,OAAQ1gD,KAAK+b,MACb4kC,MAAO3gD,KAAK4gD,KAAK1pC,KAAKlX,MACtB6gD,QAAS7gD,KAAK62C,OAAO3/B,KAAKlX,MAC1B8gD,MAAO9gD,KAAK0c,KAAKxF,KAAKlX,MACtB8/C,OAAQ9/C,KAAK2/C,oBACboB,KAAM/gD,KAAK0/C,kBACXxgC,IAAK,IAmBP,OAjBAniB,OAAOuE,eAAe6+C,EAAIjhC,IAAK,QAAS,CACtC3d,IAAKA,IACIvB,KAAKkf,MAGZghC,GACFnjD,OAAOsJ,OAAO85C,EAAK,CACjBa,IAAKhhD,KAAK8D,GAAGoT,KAAKlX,MAClBihD,MAAOjhD,KAAKuc,KAAKrF,KAAKlX,MACtBkhD,eAAiB7zC,GAAYrN,KAAK++C,gBAAgB/8C,KAAKqL,GACvD8zC,WAAa9zC,GAAYrN,KAAKg/C,YAAYh9C,KAAKqL,GAC/C+zC,gBAAkB/zC,GAAYrN,KAAKi/C,iBAAiBj9C,KAAKqL,GACzDg0C,WAAah0C,GAAYrN,KAAKk/C,YAAYl9C,KAAKqL,GAC/Ci0C,iBAAmBj0C,GAAYrN,KAAKm/C,kBAAkBn9C,KAAKqL,GAC3Dk0C,aAAel0C,GAAYrN,KAAKo/C,cAAcp9C,KAAKqL,KAGhD8yC,CACT,CAEA13C,SACE,OAAOzI,KAAKy/C,eAAez/C,KAAKs/C,sBAClC,CAEA5iC,KAAKlZ,EAAMoO,GACJ5R,KAAK8B,IACV9B,KAAKkf,IAAIrb,QAAQL,EAAMoO,EACzB,CAEAkqB,eACE,MAAM5c,IAAEA,GAAQlf,KACXA,KAAK6+C,kBACV7+C,KAAK6+C,gBAAgBzhD,SAAQgkB,IAA4B,IAA3BxS,UAAEA,EAASvB,QAAEA,GAAS+T,EAClDlC,EAAIpb,GAAGiP,EAAqBnE,GAAYvB,EAAQ,IAElDrN,KAAK8+C,oBAAoB1hD,SAAQokD,IAA4B,IAA3B5yC,UAAEA,EAASvB,QAAEA,GAASm0C,EACtDtiC,EAAI3C,KAAKxJ,EAAqBnE,GAAYvB,EAAQ,IAEtD,CAEAo0C,eACE,MAAMviC,IAAEA,GAAQlf,KACXA,KAAK6+C,kBACV7+C,KAAK6+C,gBAAgBzhD,SAAQskD,IAA4B,IAA3B9yC,UAAEA,EAASvB,QAAEA,GAASq0C,EAClDxiC,EAAIpb,GAAGiP,EAAqBnE,GAAYvB,EAAQ,IAElDrN,KAAK8+C,oBAAoB1hD,SAAQukD,IAA4B,IAA3B/yC,UAAEA,EAASvB,QAAEA,GAASs0C,EACtDziC,EAAI3C,KAAKxJ,EAAqBnE,GAAYvB,EAAQ,IAEtD,CAEAu0C,mBACE,MAAM7gD,EAASF,IACf,GAAIb,KAAK6hD,0BAA2B,OACpC,MAAMhL,EAASA,KACb72C,KAAKyiB,KAAK,kBACV,MAAMu2B,EAAOh5C,KAAKyI,SAGlB,GAAIuwC,EAAM,CACR,MAAM8I,EAAW/I,GAAKC,EAAMh5C,MAAM,GAClCA,KAAK8d,MAAQo+B,GAAMl8C,KAAK8d,MAAOgkC,EACjC,GAEF9hD,KAAK6hD,0BAA4B9gD,EAAON,uBAAsB,KACxDT,KAAK+hD,mBAAmBlL,IAC5B,IAAImL,EAAY,IAAIhiD,KAAK4+C,eACzB5+C,KAAK4+C,cAAgB,GACrB5+C,KAAK+hD,mBAAoB,EACzBhhD,EAAOJ,qBAAqBX,KAAK6hD,kCAC1B7hD,KAAK6hD,iCACL7hD,KAAK+hD,kBACZC,EAAU5kD,SAAS6kD,GAAaA,MAChCD,EAAY,EAAE,GAElB,CAEApB,KAAKlgD,GACH,OAAO,IAAIgjB,SAASC,IAKlB3jB,KAAK4+C,cAAc58C,MAJnB,WACE2hB,IACIjjB,GAAUA,GAChB,IAEAV,KAAK4hD,kBAAkB,GAE3B,CAEA/K,OAAOn2C,GACL,OAAIV,KAAKkiD,YAAoB,IAAIx+B,SAAQ,SAClC,IAAIA,SAASC,IAKlB3jB,KAAK+hD,mBAAoB,EACzB/hD,KAAK4+C,cAAc58C,MALFigD,KACft+B,IACIjjB,GAAUA,GAAU,IAI1BV,KAAK4hD,kBAAkB,GAE3B,CAEAO,SAASzhD,GACP,OAAOV,KAAK62C,OAAOn2C,EACrB,CAEA+/C,QAAQ//C,GACFV,KAAKwgB,GAAG2B,YACVzhB,EAASV,KAAKwgB,IAGhBxgB,KAAKwgB,GAAGjE,KAAK,QAAQ,KACnB7b,EAASV,KAAKwgB,GAAG,GAErB,CAEAE,MAAM0hC,GACJpiD,KAAKyiB,KAAK,gBAAiBziB,KAAKkf,KAC5Blf,KAAK6kB,SAASxiB,EAAE,QAAQsH,OAAO3J,KAAK6kB,SACpCu9B,GAAaA,EAAYpiD,KAAK8B,IAClC9B,KAAKyiB,KAAK,YAAaziB,KAAKkf,IAC9B,CAEAC,UACE,GAAInf,KAAKkiD,YAAa,OACtB,MAAMnhD,EAASF,IACfb,KAAKyiB,KAAK,mBAENziB,KAAK6kB,SAASxiB,EAAErC,KAAK6kB,SAASha,SAElC7K,KAAKyhD,eACLzhD,KAAKyiB,KAAK,eAENziB,KAAK8B,IAAM9B,KAAK8B,GAAGogB,cACrBliB,KAAK8B,GAAGogB,YAAc,YACfliB,KAAK8B,GAAGogB,aAGbliB,KAAK8d,QACP9d,KAAK8d,MAAQo+B,GAAMl8C,KAAK8d,MAAO,CAAE03B,IAAKx1C,KAAK8d,MAAM03B,IAAK5jC,KAAM,MAG9D7Q,EAAOJ,qBAAqBX,KAAK6hD,2BACjC7hD,KAAK4+C,cAAgB,GACrB5+C,KAAK6+C,gBAAkB,GACvB7+C,KAAK8+C,oBAAsB,GAC3B9+C,KAAK++C,gBAAkB,GACvB/+C,KAAKg/C,YAAc,GACnBh/C,KAAKi/C,iBAAmB,GACxBj/C,KAAKk/C,YAAc,GACnBl/C,KAAKm/C,kBAAoB,GACzBn/C,KAAKo/C,cAAgB,GAErBlsC,EAAYlT,MACZA,KAAKkiD,aAAc,CACrB,CAEAz/B,KAAKjf,GAAe,IAAAkC,MAAAhC,UAAApG,OAANqG,EAAI,IAAA1C,MAAAyE,MAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJjC,EAAIiC,EAAAlC,aAAAkC,GACZ5F,KAAKkiD,aACTliD,KAAM,KAAIwD,KAAQpG,SAASiQ,IACzBA,KAAW1J,EAAK,GAEpB,EC9UF,SAAS0+C,GAAeC,GACtB,MAAMvhD,EAASF,IACTvB,EAAWF,IACXmjD,EAAc3hD,IACd4hD,EAAsB,gCAA+BD,IAG3D,IAAIE,EACgBH,EAAgB53C,MAAM,kCAExC+3C,EAAWH,EACRh/C,MAAM,4BACNnB,QAAO,CAACugD,EAAMj7C,IAAUA,EAAQ,IAChCqL,KAAK,cACLxP,MAAM,eACNnB,QAAO,CAACugD,EAAMj7C,EAAO7F,IAAQ6F,EAAQ7F,EAAItE,OAAS,IAClDwV,KAAK,eACL7K,QAAQ,6BAA8B,qBACtCA,QAAQ,gCAAiC,sBACzCA,QAAQ,oBAAqB,uBAC7BA,QAAQ,sBAAuB,yBAIpC,IAUIoc,EAVA/lB,EAAQ,KAWZ,GATIgkD,EAAgB5/C,QAAQ,YAAc,IACxCpE,EAAQgkD,EAAgBh/C,MAAM,WAAW,GAAGA,MAAM,YAAY,IAE5Dg/C,EAAgB5/C,QAAQ,mBAAqB,IAC/CpE,EAAQgkD,EAAgBh/C,MAAM,kBAAkB,GAAGA,MAAM,YAAY,IAKnEg/C,EAAgB5/C,QAAQ,aAAe,EAAG,CAC5C,MAAMigD,EAAUL,EAAgBh/C,MAAM,YACtC+gB,EAAgBs+B,EAAQA,EAAQrlD,OAAS,GAAGgG,MAAM,cAAa,GAAGb,MACpE,MACE4hB,EAAgB,gCAEbA,GAAkBA,EAAc5hB,SAAQ4hB,EAAgB,iCAGzDo+B,IACFp+B,EAAgBA,EACbpc,QACC,UACC,yZAYcw6C,4BAIhBx6C,QAAQ,kBAAmB,WAIhCoc,EAAiB,UAASm+B,oBAAqCn+B,KAG/D,MAAME,EAAWjlB,EAASnB,cAAc,UACxComB,EAAS1hB,UAAYwhB,EACrBhiB,EAAE,QAAQsH,OAAO4a,GAEjB,MAAMpE,EAAYpf,EAAOyhD,KAczB,OAXAngD,EAAEkiB,GAAU1Z,SACZ9J,EAAOyhD,GAAsB,YACtBzhD,EAAOyhD,GAGVlkD,IACF6hB,EAAU7hB,MAAQA,GAIpB6hB,EAAUvf,GAAK2hD,EACRpiC,CACT,CCzFA,SAASyiC,GAAkB5L,EAAS72B,GAClC41B,GAAiBiB,GAAW72B,CAC9B,CAEA,SAAS0iC,GAAoB7L,UACpBjB,GAAiBiB,EAC1B,CF0UAwH,GAAU57B,KDjVG,SAACyE,EAAMjhB,GAAuB,IAAAV,MAAAhC,UAAApG,OAAbc,EAAQ,IAAA6C,MAAAyE,MAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAARxH,EAAQwH,EAAAlC,aAAAkC,GACpC,MAAMk9C,EAAe3rC,IAClB/Y,GAAY,IAAI+D,QAAQyJ,GAAU0pC,GAAe5yC,QAAQkJ,GAAS,KAErE,MAAa,aAATyb,EACKy7B,EAEF,CACLz7B,OACAjhB,MAAOA,GAAS,GAChBhI,SAAU0kD,EAEd,EGFA,IAAAC,GAAe,CACbv/C,KAAM,YACN+a,OAAQ,CACNigC,aACA6D,kBACAO,qBACAC,wBAEF3kC,SACE,MAAMc,EAAMhf,KACZgf,EAAImB,UAAY,CACdyiC,qBACAC,uBACAv5B,MAAMg5B,GACGD,GAAeC,GAExBpkC,OAAOiC,EAAW/Z,EAAKgb,GAAmC,IAAjC0e,KAAEA,EAAIh+B,GAAEA,EAAES,QAAEA,EAAOnE,SAAEA,GAAUgjB,EACtD,OAAO,IAAIo9B,GAAUx/B,EAAKmB,EAAW/Z,EAAO,CAAE05B,OAAMh+B,KAAIS,UAASnE,YACnE,EAEJ,GChCF4kD,GAAe,CACbx/C,KAAM,UACN+a,OAAQ,CACN7e,QAASk0B,IAEX9vB,GAAI,CACFic,OACE6T,GAAQ7T,KAAK/f,KACf,ICPJ,MAAMijD,GAAK,CACTC,cAAe,GACfC,SAAStyB,EAAMuyB,GACb,MAAMpkC,EAAMhf,KAGZ,MAAM,kBAFSa,IAEiBrB,WAAewf,EAAIqkC,cAAct7C,UAK1D,IAAI2b,SAAQ,CAACC,EAASC,KAC3B5E,EAAIqkC,cAAct7C,UACfo7C,SAAStyB,EAAMuyB,EAAQ,CAAEA,SAAU,IACnCr+B,MAAMu+B,IACLL,GAAGC,cAAclhD,KAAKshD,GACtBtkC,EAAItC,KAAK,+BAAgC4mC,GACzC3/B,EAAQ2/B,EAAI,IAEbt+B,OAAO+E,IACN/K,EAAItC,KAAK,6BAA8BqN,GACvCnG,EAAOmG,EAAM,GACb,IAfG,IAAIrG,SAAQ,CAACC,EAASC,KAC3BA,EAAO,IAAItE,MAAM,mCAAmC,G,EAiB1DikC,WAAWC,GACT,MAAMxkC,EAAMhf,KAEZ,KAAM,kBADSa,IACiBrB,aAAewf,EAAIqkC,cAAct7C,UAC/D,OAAO,IAAI2b,SAAQ,CAACC,EAASC,KAC3BA,EAAO,IAAItE,MAAM,mCAAmC,IAGxD,IAAI4jC,EAIJ,OAFsCA,EADjCM,EACIviD,MAAMc,QAAQyhD,GAA+BA,EACjC,CAACA,GAFaP,GAAGC,cAG/Bx/B,QAAQoB,IACbo+B,EAAcp9C,KACXw9C,GACC,IAAI5/B,SAAQ,CAACC,EAASC,KACpB0/B,EACGC,aACAx+B,MAAK,KACAk+B,GAAGC,cAAcxgD,QAAQ4gD,IAAQ,GACnCL,GAAGC,cAAc11C,OAAOy1C,GAAGC,cAAcxgD,QAAQ4gD,GAAM,GAEzDtkC,EAAItC,KAAK,iCAAkC4mC,GAC3C3/B,GAAS,IAEVqB,OAAO+E,IACN/K,EAAItC,KAAK,+BAAgC4mC,EAAKv5B,GAC9CnG,EAAOmG,EAAM,GACb,MAId,GAGF,IAAA05B,GAAe,CACbjgD,KAAM,KACN8C,OAAQ,CACN+8C,cAAe,CACbxyB,UAAMvnB,EACN85C,WAAO95C,IAGX4U,SACE,MAAMc,EAAMhf,KACNe,EAASF,IACf7D,EAAOgiB,EAAK,CACVqkC,cAAe,CACbt7C,UAAW,kBAAmBhH,EAAOvB,UAAYuB,EAAOvB,UAAU6jD,mBAAgB/5C,EAClF45C,cAAeD,GAAGC,cAClBC,SAAUF,GAAGE,SAASjsC,KAAK8H,GAC3BukC,WAAYN,GAAGM,WAAWrsC,KAAK8H,K,EAIrClb,GAAI,CACFic,OACE,MAAMhf,EAASF,IACf,KAAM,kBAAmBE,EAAOvB,WAAY,OAC5C,MAAMwf,EAAMhf,KACZ,GAAIgf,EAAIlF,OAAOa,SAAY5Z,EAAO+Z,WAAa/Z,EAAO+Z,UAAUgV,SAAW,OAC3E,IAAK9Q,EAAIqkC,cAAct7C,UAAW,OAClC,MAAM0rB,EAAQzU,EAAI1Y,OAAO+8C,cAAcxyB,KACjCuyB,EAAQpkC,EAAI1Y,OAAO+8C,cAAcD,MACvC,IAAK3vB,GAAUxyB,MAAMc,QAAQ0xB,KAAWA,EAAMn2B,OAAS,QACpC2D,MAAMc,QAAQ0xB,GAASA,EAAQ,CAACA,IACxCr2B,SAASyzB,IAClB7R,EAAIqkC,cAAcF,SAAStyB,EAAMuyB,EAAM,GAE3C,IC9FJ,SAAS5hC,GAAYkiC,QAAW,IAAXA,MAAc,IACjC,MAAMnjC,EAAQ,CACZgB,SAAS,GAELoiC,EAAgB,IAAMD,EAAYhvB,OAAS,IAC3CkvB,EAAU,IAAMF,EAAYE,SAAW,IACvC7D,EAAU,IAAM2D,EAAY3D,SAAW,IACvCrrB,EAAQ13B,EAAO,GAAI2mD,GAEzB,IAAIE,EAAa,GACjB,MAAMC,EAAsB,GACtBC,EAAmB,GAEzBhnD,OAAOI,KAAK4iD,GAAS3iD,SAAS4mD,IAC5BF,EAAoBE,GAAa,GACjCD,EAAiBC,GAAa,EAAE,IAGlC,MAAMC,EAAkBD,GACfjE,EAAQiE,GAAW,CAAEtvB,MAAOnU,EAAMmU,QAYrCwvB,EAAoBA,CAACF,EAAWtjD,KAC/BqjD,EAAiBC,KAAYD,EAAiBC,GAAa,IAChED,EAAiBC,GAAWhiD,KAAKtB,EAAS,EA0B5C6f,EAAM4jC,iBAAoBzjD,IAXIA,KAC5B3D,OAAOI,KAAK4mD,GAAkB3mD,SAASgnD,IACrC,MAAMC,EAAYN,EAAiBK,GAE/BC,EAAU3hD,QAAQhC,IAAa,GACjC2jD,EAAU72C,OAAO62C,EAAU3hD,QAAQhC,GAAW,EAChD,GACA,EAKF4jD,CAAqB5jD,EAAS,EAGhC,MAAM6jD,EAAc,SAACP,EAAWQ,GAC9B,QADyC,IAAXA,OAAc,GAC1B,gBAAdR,EAA6B,OACjCH,EAAa,GACb,MAAMpiD,EAAQwiD,EAAeD,GA5CDS,EAACT,EAAWU,KACnCZ,EAAoBE,KAAYF,EAAoBE,GAAa,IACtEU,EAAKtnD,SAASunD,IACRb,EAAoBE,GAAWthD,QAAQiiD,GAAO,GAChDb,EAAoBE,GAAWhiD,KAAK2iD,EACtC,GACA,EAuCFF,CAAsBT,EAAWH,GACjC,MAIMhnD,EAAM,CACV4E,QACAw+C,UANiBv/C,IACjBwjD,EAAkBF,EAAWtjD,EAAS,GAQxC,IAAK8jD,EACH,OAAO3nD,EAGT,MAAM6D,EAAY+wC,IAChB50C,EAAI4E,MAAQgwC,CAAC,EAMf,OAHA50C,EAAI+nD,WAAalkD,EACjBwjD,EAAkBF,EAAWtjD,GAEtB7D,C,EA8CT,OA3CA0jB,EAAMmU,MAAQ,IAAIsrB,MAAMtrB,EAAO,CAC7BlzB,IAAKA,CAACvE,EAAQ+K,EAAMvG,KAxDM2iD,MA2DxB,OAFAnnD,EAAO+K,GAAQvG,EAzDS2iD,EA0DLp8C,EAzDRjL,OAAOI,KAAK2mD,GAAqB3hD,QAAQ6hD,GAC7CF,EAAoBE,GAAWthD,QAAQ0hD,IAAa,IAExDhnD,SAAS4mD,IACPD,EAAiBC,IAAeD,EAAiBC,GAAW1mD,QACjEymD,EAAiBC,GAAW5mD,SAASsD,IACnCA,EAASujD,EAAeD,GAAW,GACnC,KAmDK,CAAI,EAEbziD,IAAKA,CAACtE,EAAQ+K,KACZ67C,EAAW7hD,KAAKgG,GACT/K,EAAO+K,MAIlBuY,EAAMw/B,QAAU,IAAIC,MAAMD,EAAS,CACjCv+C,IAAKA,KAAM,EACXD,IAAKA,CAACtE,EAAQ+K,KACZ,GAAK/K,EAAO+K,GAGZ,OAAOu8C,EAAYv8C,GAAM,EAAK,IAIlCuY,EAAMq/B,cAAgB,IAAII,MAAMD,EAAS,CACvCv+C,IAAKA,KAAM,EACXD,IAAKA,CAACtE,EAAQ+K,KACZ,GAAK/K,EAAO+K,GAGZ,OAAOu8C,EAAYv8C,GAAM,EAAM,IAInCuY,EAAMs/B,SAAW,CAACgF,EAAYjzC,IACrB,IAAI8R,SAAQ,CAACC,EAASC,KAC3B,IAAKggC,EAAQiB,GAEX,MADAjhC,IACM,IAAItE,MAAO,0BAAyBulC,mBAG5ClhC,EADeigC,EAAQiB,GAAY,CAAEnwB,MAAOnU,EAAMmU,MAAOmrB,SAAUt/B,EAAMs/B,UAAYjuC,GACtE,IAIZ2O,CACT,CCvIA,IAAAukC,GAAe,CACbthD,KAAM,QACN+a,OAAQ,CAAEiD,gBACVpgB,MAAO,CAAEogB,iBCDX,MAAMujC,GAAcA,KAClB,MAAMhkD,EAASF,IACf,OACEE,EAAO+Z,WACP/Z,EAAO+Z,UAAUgV,UACjB/uB,EAAO+Z,UAAUm4B,SACjBlyC,EAAO+Z,UAAUm4B,QAAQ+R,SAAS,EAIhCC,GAAY,CAChBC,OACE,MAAMnkD,EAASF,IACA2Y,KACJmB,SAAW5Z,EAAOikD,WAC3BjkD,EAAOikD,UAAUE,OAEfH,MACFhkD,EAAO+Z,UAAUm4B,QAAQ+R,UAAUE,M,EAGvC1X,OACE,MAAMzsC,EAASF,IACA2Y,KACJmB,SAAW5Z,EAAOikD,WAC3BjkD,EAAOikD,UAAUxX,OAEfuX,MACFhkD,EAAO+Z,UAAUm4B,QAAQ+R,UAAUxX,M,EAGvC2X,UACE,MAAMnmC,EAAMhf,KACZ,IAAIqiC,EAGFA,EAFEhgC,EAAE,mBAAmB/E,OAAS,EAElB+E,EAAE,mBACbs1B,KAAK,0DACLA,KAAK,iBACCt1B,EAAE,mBAAmB/E,OAAS,EAEzB+E,EAAE,mBACbs1B,KAAK,0DACLA,KAAK,iBACCt1B,EAAE,6BAA6B/E,OAAS,EAEnC+E,EAAE,6BACbs1B,KAAK,0DACLA,KAAK,iBACCt1B,EAAE,UAAU/E,OAAS,EAChB+E,EAAE,UACbs1B,KAAK,0DACLA,KAAK,iBAEM3Y,EAAIE,IACf9gB,SAAS,SACTu5B,KAAK,0DACLA,KAAK,iBAGN0K,GAAeA,EAAY/kC,OAAS,IAElC+kC,EAAY1V,SAAS,SACvB0V,EAAcA,EAAY34B,OAAO,SAAStL,SAAS,6BAEjDikC,EAAY/kC,OAAS,GAAG+kC,EAAYx0B,UAAU,EAAG,K,EAGzDu3C,aAAaC,GACX,MAAMtkD,EAASF,IACA2Y,KACJmB,SAAW5Z,EAAOikD,YACb,UAAVK,EACFtkD,EAAOikD,UAAUM,oBAEjBvkD,EAAOikD,UAAUO,gBAGjBR,OACY,UAAVM,EACFtkD,EAAO+Z,UAAUm4B,QAAQ+R,UAAUQ,SAAS,CAAElnD,MAAO,SAErDyC,EAAO+Z,UAAUm4B,QAAQ+R,UAAUQ,SAAS,CAAElnD,MAAO,U,EAI3DmnD,mBAAmBJ,GACjB,MAAMtkD,EAASF,IACA2Y,KACJmB,SAAW5Z,EAAOikD,WAC3BjkD,EAAOikD,UAAUU,2BAA2BL,GAE1CN,MACFhkD,EAAO+Z,UAAUm4B,QAAQ+R,UAAUS,mBAAmB,CAAEJ,S,EAG5DM,YACE,MAAM5kD,EAASF,IACTiZ,EAASN,KACf,OAAO,IAAIkK,SAASC,IACd7J,EAAOa,SAAW5Z,EAAOikD,WAC3BrhC,EAAQ5iB,EAAOikD,UAAUW,WAEvBZ,MACFhkD,EAAO+Z,UAAUm4B,QAAQ+R,UAAUY,UAAU7gC,MAAM8gC,IACjDliC,EAAQkiC,EAAKC,QAAQ,IAGzBniC,GAAQ,EAAM,G,EAGlBoiC,gBAAgBC,QAAQ,IAARA,OAAW,GACzB,MAAMjlD,EAASF,IACA2Y,KACJmB,SAAW5Z,EAAOikD,WAC3BjkD,EAAOikD,UAAUe,gBAAgBC,GAE/BjB,MACFhkD,EAAO+Z,UAAUm4B,QAAQ+R,UAAUiB,mBAAmB,CAAEC,QAASF,G,EAGrEjmC,OACE,MAAMf,EAAMhf,KACNe,EAASF,IACTiZ,EAASN,KACTlT,EAAS0Y,EAAI1Y,OAAO6/C,UAC1B,IAAK7/C,EAAO8/C,QAAS,OACrB,MAAMC,EAAYvsC,EAAOa,SAAW5Z,EAAOikD,UACrCsB,EAAQvB,MAEVsB,GAAaC,KACXhgD,EAAOigD,kBACTlkD,EAAEtB,GAAQ+C,GAAG,YAAamhD,GAAUE,QAAQjuC,KAAK8H,IAE/ClF,EAAOC,MACLzT,EAAOkgD,mBACTvB,GAAUc,iBAAgB,GAE1Bd,GAAUc,iBAAgB,GAEA,UAAxBz/C,EAAOmgD,aACTxB,GAAUG,aAAa,SAEvBH,GAAUG,aAAa,UAGvBtrC,EAAOE,UACL1T,EAAOogD,uBACTzB,GAAUc,iBAAgB,GAE1Bd,GAAUc,iBAAgB,GAEI,UAA5Bz/C,EAAOqgD,iBACT1B,GAAUG,aAAa,SAEvBH,GAAUG,aAAa,WAIzB9+C,EAAOsgD,oBAAsB9sC,EAAOC,KACtCkrC,GAAUQ,mBAAmBn/C,EAAOsgD,oBAElCtgD,EAAOugD,wBAA0B/sC,EAAOE,SAC1CirC,GAAUQ,mBAAmBn/C,EAAOugD,uBAExC,GAGF,IAAAC,GAAe,CACbtjD,KAAM,YACN8C,OAAQ,CACN6/C,UAAW,CACTC,SAAS,EAETG,kBAAkB,EAElBC,oBAAoB,EACpBC,aAAc,QACdG,mBAAoB,KAEpBF,wBAAwB,EACxBC,iBAAkB,QAClBE,uBAAwB,OAG5B3oC,SAEEnH,GADY/W,KACK,CACfmmD,UAAWlB,I,EAGfnhD,GAAI,CACFic,OAEEklC,GAAUllC,KAAK3d,KADHpC,KAEd,ICjKJ,IAAA8xC,GAAe,CACbtuC,KAAM,OACN8C,OAAQ,CACNwuB,KAAM,CACJ/U,MAAM,EACN0yB,qBAAqB,EACrBjvC,UAAM8F,EACN2oC,MAAM,EACNnwB,QAAQ,EACR4xB,UAAW,KACXnY,YAAY,EACZiN,UAAU,EACVM,eAAgB,GAChBD,6BAA6B,EAC7BG,iBAAkB,IAClB6L,gBAAgB,EAChBjZ,qBAAqB,EACrBiG,oBAAoB,EACpBvE,aAAa,EACbI,cAAc,EACdpG,uBAAwB,EACxBib,uBAAuB,EACvBxM,gBAAgB,EAChBC,2BAA2B,EAC3BC,sBAAuB,EACvB0D,wBAAwB,EACxByE,kBAAkB,EAClBzF,yBAAyB,EACzBC,0BAA0B,EAC1B4C,iBAAiB,EAEjBN,cAAc,EACd6b,2BAA2B,EAC3BC,4BAA4B,EAC5BC,uBAAwB,GACxBC,sBAAuB,EACvB/b,aAAa,EACbgc,0BAA0B,EAC1BC,2BAA2B,EAC3BC,sBAAuB,GACvBC,qBAAsB,EACtBlc,iBAAiB,EACjBmc,8BAA8B,EAC9BC,+BAA+B,EAC/BC,0BAA2B,GAC3BC,yBAA0B,EAE1BpzB,gBAAgB,EAChBgM,wBAAoBh3B,EACpB+qB,uBAAuB,EACvBgX,6BAA6B,EAC7B9K,wBAAyB,KACzBwK,sBAAsB,EACtBO,4BAA4B,EAC5BlB,4BAA4B,EAC5BiD,mBAAoB,UAEpB7lC,SAAS,EAETk8B,kBAAkB,EAElB9K,0BAA0B,EAE1B+uB,iBAAkB,EAClBC,gBAAiB,EACjBC,oBAAqB,EAErBrrB,kBAAmB,KACnBE,kBAAmB,OAGvBne,OAAQ,CACNuzB,SAEF5zB,SACE,MAAMc,EAAMhf,KACZhD,EAAOgiB,EAAK,CACV6V,MAAO73B,EAAO,GAAI,CAChBkhB,OAAMA,CAACpc,EAAIwE,IACF,IAAIwrC,GAAK9yB,EAAKld,EAAIwE,GAE3B/E,IAAIixC,GACF,MAAM9T,EAAUr8B,EAAEmwC,GAClB,GAAI9T,EAAQphC,QAAUohC,EAAQ,GAAGwT,OAAQ,OAAOxT,EAAQ,GAAGwT,MAE7D,MAGJn1C,OAAOuE,eAAe0d,EAAI6V,MAAO,UAAW,CAC1Czf,YAAY,EACZwuB,cAAc,EACdriC,IAAGA,IA9HT,SAAwByd,GACtB,MAAM8oC,EAAezlD,EAAE,2BACjB0lD,EAAa1lD,EAAE,yBACf2lD,EAAa3lD,EAAE,yBACrB,IAAI4lD,EAAW5lD,EAAE,UACO,IAApB4lD,EAAS3qD,SAAc2qD,EAAWjpC,EAAIE,KAE1C,IAAIwf,EAAUupB,EAAS7pD,SAAS,SAgBhC,GAfuB,IAAnBsgC,EAAQphC,SACVohC,EAAUupB,EAAS7pD,SAAS,SAASA,SAAS,UAG5CsgC,EAAQphC,OAAS,GACfohC,EAAQ/R,SAAS,SAEnB+R,EAAUupB,EAAS7pD,SAAS,oBACL,IAAnBsgC,EAAQphC,SACVohC,EAAUupB,EAAS7pD,SAAS,SAASA,SAAS,sBAMhD0pD,EAAaxqD,OAAS,GAAKwqD,EAAa,GAAG5V,OAAQ,OAAO4V,EAAa,GAAG5V,OAC9E,GAAI6V,EAAWzqD,OAAS,GAAKyqD,EAAW,GAAG7V,OAAQ,OAAO6V,EAAW,GAAG7V,OACxE,GAAI8V,EAAW1qD,OAAS,GAAK0qD,EAAW,GAAG9V,OAAQ,OAAO8V,EAAW,GAAG9V,OACxE,GAAIxT,EAAQphC,OAAS,EAAG,CACtB,GAAuB,IAAnBohC,EAAQphC,QAAgBohC,EAAQ,GAAGwT,OAAQ,OAAOxT,EAAQ,GAAGwT,OACjE,GAAIxT,EAAQphC,OAAS,EACnB,OAAO0hB,EAAI6V,MAAMod,IAErB,CAEF,CA8FeiW,CAAelpC,KAI1BA,EAAI8V,KAAO9V,EAAI6V,K,EAEjB/wB,GAAI,CACFic,OACE,MAAMf,EAAMhf,KACZqC,EAAE,cAAc8E,MAAMqrC,IACpB,GAAIA,EAAON,OAAQ,OACnB,MAAMH,EAAa1vC,EAAEmwC,GAAQnoC,UAC7B2U,EAAI6V,MAAM3W,OAAOs0B,EAAQT,EAAW,G,EAGxC,sBAAuB,SAAgB/6B,GACrC,MAAMgI,EAAMhf,KACZgX,EAASkI,IAAIyY,KAAK,cAAcxwB,MAAMqrC,IACpC,GAAIA,EAAON,OAAQ,OACnB,MAAMH,EAAa1vC,EAAEmwC,GAAQnoC,UAC7B2U,EAAI6V,MAAM3W,OAAOs0B,EAAQT,EAAW,G,EAGxC,wCAAyC,SAAiB/6B,GACnDA,GAAaA,EAASkI,KAC3BlI,EAASkI,IAAIyY,KAAK,cAAcxwB,MAAMqrC,IACpC,MAAM1d,EAAO0d,EAAON,OACfpd,GACLA,EAAK3V,SAAS,GAElB,GAEFrB,MAAO,CACL,YAAa,CACX84B,OAAO94B,GACL,MACM00B,EAAS10B,EAAM23B,IACrB,GAAIjD,EAAON,OAAQ,OACnB,MAAMH,EAAa1vC,EAAEmwC,GAAQnoC,UAHjBrK,KAIR60B,MAAM3W,OAAOs0B,EAAQT,E,EAE3B5yB,QAAQrB,GACN,MACMgX,EADShX,EAAM23B,IACDvD,OACfpd,GACLA,EAAK3V,SACP,KC7KN,MAAMgpC,GAAS,CACbC,KAAKtmD,GACH,MAAMkd,EAAMhf,KAEZ,IAAIkf,EAAM7c,EAAEP,GAEZ,GAAIod,EAAIyN,SAAS,WAIf,YAHAzN,EAAMA,EAAI9gB,SAAS,WAAW+I,MAAM+4B,IAClClhB,EAAIghB,OAAOooB,KAAKloB,EAAS,KAK7B,MAAMmoB,EAAWnpC,EAAI9gB,SAAS,iBAC9B,IAAKiqD,EAAS/qD,OAAQ,OAEtB,MAAMgrD,EACJD,EAAS17B,SAAS,gCAClB3N,EAAI1Y,OAAO05B,OAAQ,GAAEhhB,EAAIjD,oBACrBwsC,EAA8B,QAAdvpC,EAAIjD,QAAoBiD,EAAI1Y,OAAO05B,OAAQ,GAAEhhB,EAAIjD,oBAEvE,IAAKusC,IAAoBC,EAAe,OAExC,GACErpC,EAAIyN,SAAS,YACbzN,EAAIjV,QAAQ,YAAY3M,OAAS,GACjC4hB,EAAIjV,QAAQ,yBAAyB3M,OAAS,GAC9C4hB,EAAIjV,QAAQ,yBAAyB3M,OAAS,EAE9C,OAGgB,QAAd0hB,EAAIjD,OAAmBiD,EAAI1Y,OAAO05B,OAAQ,GAAEhhB,EAAIjD,qBAClDssC,EAASjmC,SAAS,+BAEF,QAAdpD,EAAIjD,OAAoBiD,EAAI1Y,OAAO05B,OAAOwoB,gBAC5CH,EAASjmC,SAAS,2BAGpB,MAAMsc,EAAUxf,EAAIjV,QAAQ,SAASC,GAAG,GAClCgE,EAAO8Q,EAAI6B,IAAMwnC,EAASjqD,SAAS,UAAYiqD,EAASjqD,SAAS,SACjEqqD,EAAQzpC,EAAI6B,IAAMwnC,EAASjqD,SAAS,SAAWiqD,EAASjqD,SAAS,UACjEsqD,EAAQL,EAASjqD,SAAS,UAC1BuqD,EAAYN,EAASjqD,SAAS,cAC9BwqD,EAAyB,IAAhB16C,EAAK5Q,OACdurD,EAA2B,IAAjBJ,EAAMnrD,OAChBwrD,EAAYF,EAAS,EAAI16C,EAAK66C,YAAW,GACzCC,EAAaH,EAAU,EAAIJ,EAAMM,YAAW,GAC5CE,EAAaP,EAAMK,YAAW,GAC9BG,EAAeb,EAASn5C,SAExBi6C,EADcd,EAAS,GAAGj5C,YAG9B4G,SAASkzC,EAAaE,YAAa,IACnCpzC,SAASkzC,EAAaG,aAAc,IAChCC,EAAapqC,EAAIyN,SAAS,mBAC1B48B,EAAUlB,EAAS17B,SAAS,WAElC,IAAI7K,EACAgU,EAOA0zB,EACAC,EANA/qB,EAAQphC,OAAS,GAAKohC,EAAQ,GAAGwT,SACnCpwB,EAAS4c,EAAQ,GAAGwT,OAAOpwB,OAC3BgU,EAAgBhU,GAAUA,EAAOgU,eAK/B+yB,IACFW,EAAWL,EAAmBF,GAE5BL,IACFY,EAAW,GAERZ,GAAWC,IACdW,GAAYL,EAAmBH,EAAaC,EAAaH,GAAa,GAExE,IAAIY,GAAgBP,EAAmBF,GAAc,EACjDE,EAAmBL,EAAYE,EAAaC,GAC1CS,EAAeZ,IACjBY,EAAeZ,GAEbY,EAAeT,EAAaE,EAAmBH,IACjDU,EAAeP,EAAmBH,EAAaC,GAEjDQ,EAAOC,EAAeF,GAEtBC,EAAO,EAIT,MAAM5xB,EAAW7Y,EAAI6B,KAAO,EAAI,EAEhC,GAAIiV,GAA+B,QAAd9W,EAAIjD,MAAiB,CACxC,GAAI2sC,EAAM/7B,SAAS,YAAe+7B,EAAMprD,OAAS,GAAKisD,EAAU,CAC9D,IAAII,IAAoBH,EAAWC,GAAQ5xB,EAC3C,MAAM+xB,GAAoBT,EAAmBK,EAAWC,EAAOR,GAAcpxB,EAE7E,GAAIyxB,GACExnC,GAAUA,EAAOxb,OAAOsyB,yBAA0B,CACpD,MAAMixB,EAAuB3qC,EAC1BxV,SACAiuB,KAAK,mBACLv5B,SAAS,iBACTu5B,KAAK,sBACJkyB,EAAqBvsD,OAAS,IAChCqsD,GAAmBE,EAAqB,GAAG/kB,WAE/C,CAEF4jB,EAAM,GAAG7vB,mBAAqB8wB,EAC9BjB,EAAM,GAAG/uB,oBAAsBiwB,CACjC,CACA,IAAKhB,IAAW16C,EAAKye,SAAS,YAAc48B,GAC1C,GAAIvqC,EAAI6B,IACN3S,EAAK,GAAG2qB,qBAAwBswB,EAAmBj7C,EAAK,GAAGkB,aAAe,EAAKyoB,EAC/E3pB,EAAK,GAAGyrB,oBAAsBmvB,EAAYjxB,OAI1C,GAFA3pB,EAAK,GAAG2qB,oBAAsBiwB,EAC9B56C,EAAK,GAAGyrB,qBAAuBwvB,EAAmBj7C,EAAK,GAAGkB,aAAe,EAEvE0S,GACAA,EAAOxb,OAAOsyB,0BACd1qB,EAAKypB,KAAK,eAAer6B,OAAS,GAE9B4Q,EAAKypB,KAAK,sBAAsBr6B,OAAQ,CAC1C,MAAMknC,EAAat2B,EAAK,GAAG2qB,mBACrB4L,EAAcv2B,EAAK,GAAGyrB,oBAC5BzrB,EAAK,GAAG2qB,mBAAqB,EAC7B3qB,EAAK,GAAGyrB,oBAAsB,EAC9BzrB,EAAKypB,KAAK,sBAAsB,GAAGkB,mBAAqB2L,EACxDt2B,EAAKypB,KAAK,sBAAsB,GAAGgC,oBACjC8K,EAAcv2B,EAAKypB,KAAK,eAAe,GAAGvoB,WAC9C,CAIDy5C,IAAYJ,EAAM97B,SAAS,aAAc48B,IACxCvqC,EAAI6B,KACN4nC,EAAM,GAAG5vB,oBAAsBmwB,EAAanxB,EAC5C4wB,EAAM,GAAG9uB,qBAAwBwvB,EAAmBV,EAAM,GAAGr5C,aAAe,EAAKyoB,IAEjF4wB,EAAM,GAAG5vB,qBAAuBswB,EAAmBV,EAAM,GAAGr5C,aAAe,EAC3Eq5C,EAAM,GAAG9uB,oBAAsBqvB,IAG/BL,EAAUrrD,SAAWqrD,EAAUh8B,SAAS,YAAc48B,KACxDZ,EAAU,GAAG9vB,mBAAqB7Z,EAAI6B,IAClC8nC,EAAU,GAAGv5C,aACZu5C,EAAU,GAAGv5C,YAClBu5C,EAAU,GAAGhvB,qBAAuBgvB,EAAU,GAAG9vB,mBAErD,CAGA,GAAIyvB,EAAiB,CACnB,IAAIwB,EAAYL,EACZzqC,EAAI6B,KAAO+nC,GAAUC,GAAWH,EAAMprD,OAAS,IAAGwsD,GAAaA,GACnEpB,EAAMh9C,IAAI,CAAEwC,KAAO,GAAE47C,OACvB,C,EAEF5E,KAAKpjD,EAAI0F,EAAgBuiD,EAAuBC,QAAhC,IAAPxiD,OAAU,QAAmB,IAAbuiD,OAAgB,QAAsB,IAAfC,OAAkB,GAChE,MAAMhrC,EAAMhf,KACZ,IAAIkf,EAAM7c,EAAEP,GACZ,MAAMmoD,EAAY/qC,EAAIyN,SAAS,WAAazN,EAAIxV,OAAO,YAAYpM,SAAW0sD,EAE9E,GADIC,IAAW/qC,EAAMA,EAAIjV,QAAQ,cAC5BiV,EAAI5hB,OAAQ,OACjB,GAAI4hB,EAAIyN,SAAS,iBAAkB,OACnC,IAAIphB,EAAa,iBAAe/D,EAAU,wBAA0B,KAC7CyiD,EACnB/qC,EAAIyY,KAAK,gCAAgCr6B,OACzC4hB,EAAIyY,KAAK,gBAAgBr6B,UAE3BiO,GAAa,wBAEXw+C,IACFx+C,GAAa,4BAEf2T,EAAImc,eAAc,KAChBnc,EAAImD,YAAY,uBAAuB,IAEzCnD,EAAIkD,SAAS7W,GACT0+C,EACF/qC,EAAI9gB,SAAS,WAAW+I,MAAM+iD,IAC5B7nD,EAAE6nD,GAAOrmD,QAAQ,eACjBmb,EAAItC,KAAK,aAAcwtC,EAAM,KAG/BhrC,EAAIrb,QAAQ,eACZmb,EAAItC,KAAK,aAAcwC,EAAI,I,EAG/BsuB,KAAK1rC,EAAuB0F,EAAgBwiD,QAArC,IAAFloD,MAAK,uBAAyB,IAAP0F,OAAU,QAAqB,IAAfwiD,OAAkB,GAC5D,MAAMhrC,EAAMhf,KACZ,IAAIkf,EAAM7c,EAAEP,GACZ,MAAMmoD,EAAY/qC,EAAIyN,SAAS,WAAazN,EAAIxV,OAAO,YAAYpM,SAAW0sD,EAC1EC,IAAW/qC,EAAMA,EAAIjV,QAAQ,aAC5BiV,EAAI5hB,QACJ4hB,EAAIyN,SAAS,mBACdnlB,IACF0X,EAAIkD,SAAS,wBACblD,EAAImc,eAAc,KAChBnc,EAAImD,YAAY,uBAAuB,KAG3CnD,EAAImD,YAAY,6DACZ4nC,EACF/qC,EAAI9gB,SAAS,WAAW+I,MAAM+iD,IAC5B7nD,EAAE6nD,GAAOrmD,QAAQ,eACjBmb,EAAItC,KAAK,aAAcwtC,EAAM,KAG/BhrC,EAAIrb,QAAQ,eACZmb,EAAItC,KAAK,aAAcwC,EAAI,K,EAG/B+gB,YAAYyJ,GACV,IAAIJ,EACArK,EACAkrB,EAaJ,GAZIzgB,EAAKzK,WAAayK,EAAKxqB,KACzBirC,EAAWzgB,EACXJ,EAAUI,EAAKxqB,MAEfoqB,EAAUjnC,EAAEqnC,GACRJ,EAAQhsC,OAAS,IAAG6sD,EAAW7gB,EAAQ,GAAGrO,SAE5CkvB,GAAYA,EAASlrB,WAAakrB,EAASlrB,UAAU3hC,OAAS,EAChE2hC,EAAYkrB,EAASlrB,UACZqK,IACTrK,EAAYqK,EAAQlrC,SAAS,YAE1B6gC,KAAcA,GAAkC,IAArBA,EAAU3hC,QAC1C,OAAO2hC,EAAU,E,EAEnBmrB,YAAYlqB,GACV,MAAMjB,EAAY58B,EAAE69B,GACpB,GAAIjB,EAAUh1B,QAAQ,SAAS3M,OAC7B,OAAO2hC,EAAUh1B,QAAQ,SAAS,GAEpC,IAAIm1B,EASJ,OARAH,EACGh1B,QAAQ,SACR0tB,KAAK,SACLxwB,MAAMrF,IACDA,GAAMA,EAAGm5B,QAAUn5B,EAAGm5B,OAAOiF,UAAYjB,EAAU,KAAOn9B,EAAGm5B,OAAOiF,WACtEd,EAASt9B,EACX,IAEGs9B,C,EAGTirB,mBAAmBnqB,GACjB,MAAMlhB,EAAMhf,KACZ,IAAIi/B,EAAY58B,EAAE69B,GAClB,GAAIjB,EAAUtS,SAAS,aACrBsS,EAAYA,EAAUtH,KAAK,WACvBsH,EAAU3hC,OAAS,IACrB2hC,EAAY58B,EAAE69B,GAAUvI,KAAK,iCAE3BsH,EAAU3hC,OAAS,IAAM2hC,EAAU3hC,QACrC,OAGJ,MAAMgsC,EAAUjnC,EAAE2c,EAAIghB,OAAOoqB,YAAYnrB,IACzCA,EAAU7c,SAAS,0BACnBknB,EAAQp/B,GAAG,GAAGkY,SAAS,oCAAoCve,QAAQ,6BACnEmb,EAAItC,KAAK,2BAA4B4sB,EAAQ,IAC7CrK,EAAUp7B,QAAQ,mBAClBmb,EAAItC,KAAK,iBAAkBuiB,EAAU,G,EAEvCqrB,iBAAiBpqB,GACf,MAAMlhB,EAAMhf,KACZ,IAAIi/B,EAAY58B,EAAE69B,GAClB,GAAIjB,EAAUtS,SAAS,aACrBsS,EAAYA,EAAUtH,KAAK,iBACvBsH,EAAU3hC,OAAS,IACrB2hC,EAAY58B,EAAE69B,GAAUvI,KAAK,iCAE3BsH,EAAU3hC,OAAS,IAAM2hC,EAAU3hC,QACrC,OAGJ,MAAMgsC,EAAUjnC,EAAE2c,EAAIghB,OAAOoqB,YAAYnrB,IACzCA,EAAU5c,YAAY,0BACtBinB,EACGp/B,GAAG,GACHmY,YAAY,oCACZxe,QAAQ,4BACXmb,EAAItC,KAAK,0BAA2B4sB,EAAQ,IAC5CrK,EAAUp7B,QAAQ,iBAClBmb,EAAItC,KAAK,eAAgBuiB,EAAU,G,EAErCsrB,iBAAiBrqB,GACf,MAAMlhB,EAAMhf,KACZ,IAAIi/B,EAAY58B,EAAE69B,GACdjB,EAAUtS,SAAS,aACrBsS,EAAYA,EAAUtH,KAAK,iBACvBsH,EAAU3hC,OAAS,IACrB2hC,EAAY58B,EAAE69B,GAAUvI,KAAK,iCAE3BsH,EAAU3hC,OAAS,IAAM2hC,EAAU3hC,UAIrC2hC,EAAUtS,SAAS,0BACrB3N,EAAIghB,OAAOsqB,iBAAiBrrB,GAE5BjgB,EAAIghB,OAAOqqB,mBAAmBprB,G,EAGlCurB,mBAAmBprB,EAAQc,EAAUuqB,EAAUC,EAAcC,GAC3D,MAAM3rC,EAAMhf,KACN2Y,EAAUE,KACVywB,EAAUjnC,EAAE+8B,GACZH,EAAY58B,EAAE69B,GACd0qB,EAAgB3rB,EAAUtH,KAAK,gBAC/BkzB,EAAUD,EAActtD,QAAU2hC,EAAUtS,SAAS,iBAC3D,IAAIm+B,EAAmB,GACvB,MAAMC,EAA6B/rC,EAAI1Y,OAAO05B,OAAO+qB,2BAC/CC,EAAoChsC,EAAI1Y,OAAO05B,OAAOgrB,kCAE5D,IAAIC,EACAC,EAEAx6C,EACAvB,EACAg8C,EACA/2B,EACAg3B,EAEAC,EACAC,EAEAC,EA4BAC,EACAC,EACAC,EACAC,GA7BAjB,GAAiBD,GAAYI,KAC/BS,EAAyBrsB,EAAUvzB,IAAI,kCAEnC4/C,GAA0BA,EAAuB5oD,QAAQ,OAAS,GACpE4oD,EAAyBt1C,SAASs1C,EAAwB,IACtD10C,OAAOC,MAAMy0C,IAA2BV,EAActtD,OACxDguD,EAAyBV,EAAc,GAAGz7C,aACjCyH,OAAOC,MAAMy0C,KACJ,QAAdtsC,EAAIjD,MAAiBuvC,EAAyB,GAC3B,OAAdtsC,EAAIjD,MAAgBuvC,EAAyB,GAC/B,WAAdtsC,EAAIjD,QAAoBuvC,EAAyB,MAEnDV,EAActtD,OACvBguD,EAAyBV,EAAc,GAAGz7C,aAGxB,QAAd6P,EAAIjD,MAAiBuvC,EAAyB,GAC3B,OAAdtsC,EAAIjD,MAAgBuvC,EAAyB,GAC/B,WAAdtsC,EAAIjD,QAAoBuvC,EAAyB,KAI1Db,GAAYI,IACdC,GAAoBQ,GAUtB,SAASM,IACPtiB,EAAQ3R,KAAK,iBAAiBxwB,MAAM+iC,IAClCA,EAAc2hB,qBACZ3hB,EAAcx5B,aAAew5B,EAAc/6B,YAAY,GAE7D,CAEA,SAAS28C,IACqB7sB,EAAUtS,SAAS,uCAE1C8+B,GAAiBP,EAAmB,IAEvCA,GAAoBI,EAAyB,GAC7CJ,EAAmBI,EAEnBjpD,EAAEopD,GAAe59C,UAAUy9C,EAAwB,KAC1CJ,EAAmBI,GAC5BjpD,EAAEopD,GAAe59C,UAAU,EAAG,KAElC,CAEA,SAASk+C,IACqB9sB,EAAUtS,SAAS,uCAE1C8+B,GAAiBP,EAAmB,IACrCA,GAAoBK,EAAqB,GAAKL,EAAmBK,EACnElpD,EAAEopD,GAAe59C,UAAU09C,EAAoB,KACtCL,EAAmBK,GAC5BlpD,EAAEopD,GAAe59C,UAAU,EAAG,KAElC,CAsDA,IAAIm+C,EAA2B,KAC3BC,EAAmB,KAoHvB,SAASC,EAAahjD,GACpBuiD,EAAgBzrD,KACZkJ,GAAKA,EAAEjM,QAAUiM,EAAEjM,SAAWwuD,IAGlCP,EAAmBO,EAAc59C,UACjC29C,EAAgBN,EACZR,EA1HN,SAAmCxgB,GAIjC,GAFEjL,EAAUtS,SAAS,kBACnBsS,EAAUv1B,OAAO,YAAYijB,SAAS,iBAC1B,OACd,MAAMw/B,EACJltB,EAAUtS,SAAS,6BAClBsS,EAAUtS,SAAS,iBAAmBsS,EAAUtS,SAAS,sBAC5Dq/B,EAA2BC,EAC3B,MAAMG,EAAqBtlD,KAAKgC,IAC9BwiD,EACAphB,EAAc2hB,sBAAwBP,GAExCW,EAAmBnlD,KAAKgC,IAAIhC,KAAK+B,IAAIqiD,EAAmBkB,EAAoB,GAAI,GAChF,MAAMC,EACJL,EAA2B,GAAKA,EAA2B,EACjC/sB,EAAUtS,SAAS,uCAE/C0+B,EAAkBpsB,EAAUtS,SAAS,0BACZ,IAArBs/B,GAA0BZ,EAC5BrsC,EAAIghB,OAAOsqB,iBAAiBrrB,EAAU,IACR,IAArBgtB,GAA2BZ,GACpCrsC,EAAIghB,OAAOqqB,mBAAmBprB,EAAU,IAGlB,IAArBgtB,GAA0BZ,GACL,IAArBY,GAA0BI,GACL,IAArBJ,IAA2BZ,GACN,IAArBY,GAA0BI,GAET,OAAdrtC,EAAIjD,OACNkjB,EAAUtH,KAAK,iBAAiBjsB,IAAI,WAAY,IAElDuzB,EAAUtH,KAAK,UAAUjsB,IAAI,UAAW,IACxCuzB,EAAUtH,KAAK,iCAAiCjsB,IAAI,YAAa,IAC7DygD,EACFltB,EAAUtH,KAAK,cAAcjsB,IAAI,UAAW,IAE5CuzB,EAAUtH,KAAK,cAAcjsB,IAAI,YAAa,KAEvCugD,EAAmB,GAAKA,EAAmB,IAClC,OAAdjtC,EAAIjD,OACNkjB,EAAUtH,KAAK,iBAAiBjsB,IAAI,WAAY,WAElDuzB,EAAUtH,KAAK,UAAUjsB,IAAI,UAAWugD,GACxChtB,EACGtH,KAAK,iCACLjsB,IACC,YACC,qBAAoB,EAAIugD,EAAmBX,WAE5Ca,EACFltB,EAAUtH,KAAK,cAAcjsB,IAAI,UAAWugD,GAE5ChtB,EACGtH,KAAK,cACLjsB,IACC,YACC,qBAAoB,EAAIugD,EAAmBX,YAKhDP,IACGpyC,EAAQG,MAKF6yC,IACTprD,aAAaorD,GACbA,EAAoB,KACpBA,EAAoBrrD,YAAW,KAC7BwrD,IACAvrD,aAAaorD,GACbA,EAAoB,IAAI,GApKP,MA0JnBprD,aAAamrD,GACbA,EAAkBprD,YAAW,KAC3BwrD,GAAiB,GA3JE,OAuK3B,CA4CIQ,CAA0Bb,GACjBd,GAlLb,WACE,MAAM4B,EACJttB,EAAUtS,SAAS,kBACnBsS,EAAUv1B,OAAO,YAAYijB,SAAS,iBAExC,GAD4BsS,EAAUtS,SAAS,sCACpB4/B,EAAU,OAChChB,IACHA,EAAqBrrB,EAAS/wB,cAEhC,IAAImqB,EAAU4xB,EAAmBK,EACjC,MAAMiB,EAAiBvtB,EAAUtS,SAAS,8BAG1C,GAFA2M,EAAUxyB,KAAK+B,IAAI/B,KAAKgC,IAAIwwB,EAAS,GAAI,GAEpCkzB,GAA8B,IAAZlzB,IAAoBkzB,GAA8B,IAAZlzB,EAC3D2F,EAAUtH,KAAK,sBAAsBjsB,IAAI,UAAW,QADtD,CAIA,GAAI8gD,GAA8B,IAAZlzB,EAKpB,OAJA2F,EAAUp7B,QAAQ,0BAClBmb,EAAItC,KAAK,wBAAyBuiB,EAAU,IAC5CA,EAAU5c,YAAY,mCACtB4c,EAAUtH,KAAK,sBAAsBjsB,IAAI,UAAW,IAGtD,IAAK8gD,GAA8B,IAAZlzB,EAKrB,OAJA2F,EAAUp7B,QAAQ,0BAClBmb,EAAItC,KAAK,wBAAyBuiB,EAAU,IAC5CA,EAAU7c,SAAS,mCACnB6c,EAAUtH,KAAK,sBAAsBjsB,IAAI,UAAW,IAItDuzB,EAAUtH,KAAK,sBAAsBjsB,IAAI,UAAW4tB,GAEhD0xB,IACGryC,EAAQG,MAKF6yC,IACTprD,aAAaorD,GACbA,EAAoB,KACpBA,EAAoBrrD,YAAW,KAC7ByrD,IACAxrD,aAAaorD,GACbA,EAAoB,IAAI,GAjFP,MAuEnBprD,aAAamrD,GACbA,EAAkBprD,YAAW,KAC3ByrD,GAAuB,GAxEJ,MAkDzB,CAkCF,CAiIIU,GAEEnjB,EAAQ3c,SAAS,kBACjB89B,IA9CAnhB,EAAQ3c,SAAS,2BACrBjc,EAAe+6C,EAAc/6C,aAC7BvB,EAAes8C,EAAct8C,aAC7Bg8C,EAAWD,EAAmB/7C,GAAgBuB,EAC9C06C,EACEnsB,EAAUtS,SAAS,kBACnBsS,EAAUv1B,OAAO,YAAYijB,SAAS,iBACpCw+B,EACEnsC,EAAI1Y,OAAO05B,OAAO0sB,sBACpBt4B,EAAS,QAITA,EAFO62B,EAAoBC,EACzBlsC,EAAI1Y,OAAO05B,OAAO2sB,qBAAuBzB,GAAoBJ,EACtD,OAEA,OAEFI,EAAmBJ,EACnB,OAEA,OAGI,SAAX12B,GAAqBg3B,GACvBpsC,EAAIghB,OAAOwN,KAAKvO,GAAW,GAAM,GACjCmsB,GAAe,GACK,SAAXh3B,GAAsBg3B,IAC/BpsC,EAAIghB,OAAOklB,KAAKjmB,GAAW,GAAM,GAAO,GACxCmsB,GAAe,GAEjBH,EAAoBC,IAmBtB,CACA,SAAS0B,IACPpB,GAAgB,CAClB,CACA,SAAS9wB,IACPn6B,aAAaorD,GACbA,EAAoB,KACpBA,EAAoBrrD,YAAW,MACP,IAAlBkrD,IACEb,IAAoBD,EACtBqB,IAEAD,IAEFvrD,aAAaorD,GACbA,EAAoB,KACtB,GA5OqB,GA8OzB,CACAriB,EAAQxlC,GAAG,SAAU,gBAAiBooD,GAAc,GAGlDvzC,EAAQG,QACN4xC,GAAgBK,GACfJ,GAAmBK,KAEtBhsC,EAAIlb,GAAG,qBAAsB8oD,GAC7B5tC,EAAIlb,GAAG,mBAAoB42B,IAE7BkxB,KACIlB,GAAgBC,IAClBrhB,EAAQ3R,KAAK,iBAAiBxwB,MAAM+iC,IAC9BA,EAAcr8B,UAAY,GAAGq+C,EAAa9pD,KAAK8nC,EAAc,IAGrElrB,EAAIlb,GAAG,SAAU8nD,GACjBtiB,EAAQ,GAAGujB,6BAA+B,WACxC7tC,EAAI7V,IAAI,SAAUyiD,UACXtiB,EAAQ,GAAGujB,6BAClBvjB,EAAQngC,IAAI,SAAU,gBAAiB+iD,GAAc,GAEnDvzC,EAAQG,QACN4xC,GAAgBK,GACfJ,GAAmBK,KAEtBhsC,EAAI7V,IAAI,qBAAsByjD,GAC9B5tC,EAAI7V,IAAI,mBAAoBuxB,G,CAGlC,GAEF,IAAAoyB,GAAe,CACbtpD,KAAM,SACN0a,SAEEnH,GADY/W,KACK,CACfggC,OAAQmoB,I,EAGZ7hD,OAAQ,CACN05B,OAAQ,CACN+sB,uBAAuB,EACvBvE,gBAAgB,EAChBwE,eAAe,EACfC,mBAAmB,EACnBC,kBAAkB,EAClBR,qBAAqB,EACrBC,qBAAqB,EACrBQ,4BAA4B,EAC5BpC,4BAA4B,EAC5BC,mCAAmC,IAGvClnD,GAAI,CACF,oGACE,WACE,MAAMkb,EAAMhf,KACZqC,EAAE,WAAW8E,MAAM+4B,IACjBlhB,EAAIghB,OAAOooB,KAAKloB,EAAS,G,EAG/BktB,iBAAiB1jB,GACXA,EAAKxqB,IAAI,GAAG2tC,8BACdnjB,EAAKxqB,IAAI,GAAG2tC,8B,EAGhBQ,aAAa3jB,GACX,MAAM1qB,EAAMhf,KACZ,GAAkB,QAAdgf,EAAIjD,MAAiB,OACzB,IAAIyZ,EACJ,MAAMV,EAAO4U,EAAKxqB,IAAIjV,QAAQ,SAAS,GAAGioC,OACpChS,EAAWlhB,EAAIghB,OAAOC,YAAYyJ,GAMxC,GAFElU,EAHG0K,EAGU79B,EAAE69B,GAAUj2B,QAAQ,YAFpBy/B,EAAKxqB,IAAIjV,QAAQ,SAAS7L,SAAS,YAI9CsrC,EAAKxqB,IAAIyN,SAAS,cAAiBmI,EAAKhT,OAAOgU,gBAAkBoK,EAAW,CAC9E,MAAM14B,KAAakiC,EAAKH,UAAYG,EAAK5nB,OAAOpiB,QAAQpC,OAAS,GACjE0hB,EAAIghB,OAAOklB,KAAK1vB,EAAYhuB,EAC9B,MACEwX,EAAIghB,OAAOwN,KAAKhY,E,EAGpB83B,WAAW5jB,GACT,MACMzK,EAAY58B,EADNrC,KACYggC,OAAOC,YAAYyJ,IACtCzK,GAAkC,IAArBA,EAAU3hC,QAFhB0C,KAGRggC,OAAOooB,KAAKnpB,E,EAElBsuB,SAAS7jB,GACP,MAAM1qB,EAAMhf,KACNi/B,EAAY58B,EAAE2c,EAAIghB,OAAOC,YAAYyJ,IAC3C,IAAKzK,GAAkC,IAArBA,EAAU3hC,OAAc,OAM1C,IAAIkwD,EAUAC,EAMAC,EAnBJ1uC,EAAIghB,OAAOooB,KAAKnpB,GAIZA,EAAUtH,KAAK,gBAAgBr6B,OAAS,GAC1C2hC,EAAU7c,SAAS,gBAEjB6c,EAAUtS,SAAS,kBACjB3N,EAAI1Y,OAAO05B,OAAOmtB,6BAA4BK,GAA8B,GAChF9jB,EAAKxqB,IAAIkD,SAAS,4BAKforC,GAA+BvuB,EAAUtS,SAAS,wBACrD8gC,GAA0B,IAM1BzuC,EAAI1Y,OAAO05B,OAAOktB,kBAClBxjB,EAAKxqB,IAAIyY,KAAK,0BAA0Br6B,QACxCosC,EAAKxqB,IAAIyN,SAAS,0BAClB+c,EAAKxqB,IAAIyY,KAAK,wBAAwBr6B,QACtCosC,EAAKxqB,IAAIyN,SAAS,0BAQhB+gC,IALAhkB,EAAKxqB,IAAIyY,KAAK,0BAA0Br6B,QACxCosC,EAAKxqB,IAAIyN,SAAS,0BAClB+c,EAAKxqB,IAAIyY,KAAK,wBAAwBr6B,QACtCosC,EAAKxqB,IAAIyN,SAAS,0BAQlB6gC,GAA+BE,GAA2BD,IAC5DzuC,EAAIghB,OAAOwqB,mBACT9gB,EAAK5nC,GACLm9B,EAAU,GACVyuB,EACAF,EACAC,E,EAIN,qCAAsC,SAA0Bz2C,GAC9D,MAAMgI,EAAMhf,KACZgX,EAASkI,IAAIyY,KAAK,+CAA+CxwB,MAAM+4B,IACrElhB,EAAIghB,OAAOooB,KAAKloB,EAAS,G,EAG7BytB,QAAQ9nB,GACN,MAAM7mB,EAAMhf,KACZqC,EAAEwjC,GACClO,KAAK,+CACLxwB,MAAM+4B,IACLlhB,EAAIghB,OAAOooB,KAAKloB,EAAS,GAE/B,GAEFyS,OAAQ,CACN,iBAAkB,SAAsBE,EAAY+a,EAAa1kD,GAE/D,IADYlJ,KACHsG,OAAO05B,OAAO+sB,sBAAuB,OAC9C,GAAI1qD,EAAE6G,EAAEjM,QAAQ+M,QAAQ,aAAa1M,OAAS,EAC5C,OAEF,IAAIuwD,EAGJ,MAAM5uB,EAAY4T,EAAW5oC,QAAQ,WAC/BurB,EAAayJ,EAAUh1B,QAAQ,YAGrC4jD,EAAiB5uB,EAAUh1B,QAAQ,iBAEL,IAA1B4jD,EAAevwD,SAEb2hC,EAAUh1B,QAAQ,SAAS3M,OAAS,IACtCuwD,EAAiB5uB,EAAUh1B,QAAQ,SAAS0tB,KAAK,kBAGrB,IAA1Bk2B,EAAevwD,QAAgBk4B,EAAWl4B,QACxCk4B,EAAW1kB,QAAQ,+BAA+BxT,OAAS,IAC7DuwD,EAAiBr4B,EACd1kB,QAAQ,+BACR6mB,KAAK,kBAIkB,IAA1Bk2B,EAAevwD,QACb2hC,EAAUnuB,QAAQ,+BAA+BxT,OAAS,IAC5DuwD,EAAiB5uB,EAAUnuB,QAAQ,+BAA+B6mB,KAAK,mBAIzEk2B,GAAkBA,EAAevwD,OAAS,IAExCuwD,EAAelhC,SAAS,SAC1BkhC,EAAiBA,EAAenkD,OAAO,SAAStL,SAAS,6BAEvDyvD,EAAevwD,OAAS,GAAGuwD,EAAehgD,UAAU,EAAG,KAE/D,GAEFiQ,MAAO,CACLkiB,OAAQ,CACN8W,UAAUh5B,GACI9d,KACRggC,OAAOooB,KAAKtqC,EAAM23B,IACxB,KCjzBN,MAAMqY,GAAU,CACdC,aAAaC,GACX,MAAMhvC,EAAMhf,KACNiuD,EAAY5rD,EAAE2rD,GACpB,GAAkB,QAAdhvC,EAAIjD,QAAoBkyC,EAAUthC,SAAS,oBAAqB,OAEpE,GACuB,IAArBshC,EAAU3wD,SACR2wD,EAAUthC,SAAS,YAAashC,EAAUthC,SAAS,iBAErD,OAEF,IAAIuhC,EAAeD,EAAUt2B,KAAK,uBAClC,MAAMw2B,EAAgBF,EAAUt2B,KAAK,aAAar6B,OAClD,GAAsB,IAAlB6wD,EAEF,YADAD,EAAarjD,SAIa,IAAxBqjD,EAAa5wD,QACf2wD,EAAU7vD,SAAS,kBAAkBuL,OAAO,4CAC5CukD,EAAeD,EAAUt2B,KAAK,wBACrBu2B,EAAazhD,OAAOnP,QAC7B2wD,EAAU7vD,SAAS,kBAAkBuL,OAAOukD,GAG9C,MAAME,EAAcH,EAAUt2B,KAAK,oBACnC,IAAI02B,EACAC,EAEJ,GAAIL,EAAUthC,SAAS,sBAAwByhC,GAAeA,EAAY,GACxEC,EAAkB,GAAED,EAAY,GAAGh/C,gBACnCk/C,EAAsB,GAAEF,EAAY,GAAGtpB,mBAClC,CACL,MAAMypB,EAAcH,EAAY3mD,QAChC4mD,EAAoB,IAAMF,EAAR,IAClBG,EAAiE,KAAxCtvC,EAAI6B,KAAO0tC,EAAcA,GAA5B,GACxB,CAEAj7C,GAAU,KACR46C,EAAaxiD,IAAI,QAAS2iD,GAAgBj9C,UAAW,eAAck9C,SAA0B,G,EAGjGvuC,KAAKiuC,GACShuD,KACRwuD,QAAQT,aAAaC,E,EAE3B9I,KAAKpjD,EAAI0F,QAAO,IAAPA,OAAU,GACjB,MACM0X,EAAM7c,EAAEP,GACd,GAAIod,EAAIyN,SAAS,kBAAmB,OACpC,MAAMphB,EAAa,kBAAgB/D,EAAU,yBAA2B,IACxE0X,EAAImc,eAAc,KAChBnc,EAAImD,YAAY,wBAAwB,IAE1CnD,EAAIkD,SAAS7W,GACb2T,EAAIrb,QAAQ,gBARA7D,KASR0c,KAAK,cAAewC,EAAI,G,EAE9BsuB,KAAK1rC,EAAI0F,QAAO,IAAPA,OAAU,GACjB,MACM0X,EAAM7c,EAAEP,GACTod,EAAIyN,SAAS,oBACdnlB,IACF0X,EAAIkD,SAAS,yBACblD,EAAImc,eAAc,KAChBnc,EAAImD,YAAY,wBAAwB,KAG5CnD,EAAImD,YAAY,kBAChBnD,EAAIrb,QAAQ,gBAVA7D,KAWR0c,KAAK,cAAewC,EAAI,I,EAE9BuvC,oBAAoBrvB,GAClB,MAAMpgB,EAAMhf,KACNspC,EAAUjnC,EAAE+8B,GAClB,IAWI6rB,EACAC,EAEAx6C,EACAvB,EACAg8C,EACA/2B,EACAs6B,EAlBAC,EAAarlB,EAAQr/B,QAAQ,SAAS7L,SAAS,YAmBnD,SAAS8tD,EAAahjD,GACpB,GAAIogC,EAAQ3c,SAAS,yBAA0B,OAC/C,GAAI2c,EAAQ3c,SAAS,iBAAkB,OACvC,MAAM8+B,EAAgBzrD,KAClBkJ,GAAKA,EAAEjM,QAAUiM,EAAEjM,SAAWwuD,IAGlCP,EAAmBO,EAAc59C,UACjC6C,EAAe+6C,EAAc/6C,aAC7BvB,EAAes8C,EAAct8C,aAC7Bg8C,EAAWD,EAAmB/7C,GAAgBuB,EAC9Cg+C,EAAgBC,EAAWhiC,SAAS,kBAEhCw+B,EACEnsC,EAAI1Y,OAAOkoD,QAAQ9B,sBACrBt4B,EAAS,QAITA,EAFO62B,EAAoBC,EACzBlsC,EAAI1Y,OAAOkoD,QAAQ7B,qBAAuBzB,GAAoB,GACvD,OAEA,OAEFA,EAAmB,GACnB,OAEA,OAGI,SAAX92B,GAAqBs6B,GACvB1vC,EAAIwvC,QAAQhhB,KAAKmhB,GACjBD,GAAgB,GACI,SAAXt6B,GAAsBs6B,IAC/B1vC,EAAIwvC,QAAQtJ,KAAKyJ,GACjBD,GAAgB,GAGlBzD,EAAoBC,EACtB,CAxD0B,IAAtByD,EAAWrxD,SACbqxD,EAAarlB,EAAQ3R,KAAK,aAEF,IAAtBg3B,EAAWrxD,SACbqxD,EAAarlB,EAAQr/B,QAAQ,UAAU7L,SAAS,4BAExB,IAAtBuwD,EAAWrxD,SAmDfgsC,EAAQxlC,GAAG,SAAU,gBAAiBooD,GAAc,GACpD5iB,EAAQ,GAAGslB,uBAAyB1C,EACtC,GAEF,IAAA2C,GAAe,CACbrrD,KAAM,UACN0a,SAEEnH,GADY/W,KACK,CACfwuD,QAASV,I,EAGbxnD,OAAQ,CACNkoD,QAAS,CACPtB,kBAAkB,EAClBR,qBAAqB,EACrBC,qBAAqB,IAGzB7oD,GAAI,CACFspD,iBAAiB1jB,GACXA,EAAKxqB,IAAI,GAAG0vC,wBACdllB,EAAKxqB,IAAI/V,IAAI,SAAU,gBAAiBugC,EAAKxqB,IAAI,GAAG0vC,wBAAwB,E,EAGhFvB,aAAa3jB,GACX,MAAM1qB,EAAMhf,KACZ,IAAI2uD,EAAajlB,EAAKxqB,IAAIjV,QAAQ,SAAS7L,SAAS,YAC1B,IAAtBuwD,EAAWrxD,SACbqxD,EAAajlB,EAAKxqB,IAAIjV,QAAQ,UAAU7L,SAAS,4BAEzB,IAAtBuwD,EAAWrxD,SACbqxD,EAAajlB,EAAKxqB,IAAIyY,KAAK,aAEH,IAAtBg3B,EAAWrxD,SAGXosC,EAAKxqB,IAAIyN,SAAS,cACpB3N,EAAIwvC,QAAQtJ,KAAKyJ,GAEjB3vC,EAAIwvC,QAAQhhB,KAAKmhB,G,EAGrBpB,SAAS7jB,GACP,MAAM1qB,EAAMhf,KAIZ,GAHA0pC,EAAKxqB,IAAIyY,KAAK,2BAA2BxwB,MAAM6mD,IAC7ChvC,EAAIwvC,QAAQzuC,KAAKiuC,EAAS,IAG1BhvC,EAAI1Y,OAAOkoD,QAAQtB,kBACnBxjB,EAAKxqB,IAAIyY,KAAK,2BAA2Br6B,QACzCosC,EAAKxqB,IAAIyN,SAAS,2BAClB+c,EAAKxqB,IAAIyY,KAAK,wBAAwBr6B,QACtCosC,EAAKxqB,IAAIyN,SAAS,uBAClB,CACA,GACE+c,EAAKxqB,IAAIyY,KAAK,2BAA2Br6B,QACzCosC,EAAKxqB,IAAIyN,SAAS,2BAClB+c,EAAKxqB,IAAIyY,KAAK,wBAAwBr6B,QACtCosC,EAAKxqB,IAAIyN,SAAS,uBAElB,OAEF3N,EAAIwvC,QAAQC,oBAAoB/kB,EAAK5nC,GACvC,C,EAEFie,OACE,MAAMf,EAAMhf,KACZgf,EAAIE,IAAIyY,KAAK,2BAA2BxwB,MAAM6mD,IAC5ChvC,EAAIwvC,QAAQzuC,KAAKiuC,EAAS,GAE9B,GAEFlwC,MAAO,CACLgxC,OAAQ,CACNlY,OAAO94B,GACO9d,KACRwuD,QAAQzuC,KAAKjC,EAAM23B,IACzB,KCrNNsZ,GAAe,CACbvrD,KAAM,YACNM,GAAI,CACFypD,SAAS7jB,GACHA,EAAKzK,WAAayK,EAAKzK,UAAU3hC,QAAUosC,EAAKzK,UAAUtH,KAAK,cAAcr6B,QAC/EosC,EAAKxqB,IAAIkD,SAAS,uBAEKsnB,EAAKxqB,IAAIyY,KAAK,cAAcx1B,QAAQ6sD,GACpD3sD,EAAE2sD,GAAa/kD,QAAQ,SAAS,KAAOy/B,EAAKxqB,IAAI,KAEpC5hB,QACnBosC,EAAKxqB,IAAIkD,SAAS,sBAEtB,ICbW,MAAM6sC,GACnBnyD,YAAYkiB,EAAKE,EAAKxI,EAAGsW,GACvB,MAAMkiC,EAASlvD,KAEf,IAAKkf,EAAK,OAEV,MAAMhR,KAAEA,EAAID,IAAEA,EAAGgN,MAAEA,EAAKE,OAAEA,GAAW+D,EAAI,GAAGxR,wBACtCyhD,EACDz4C,EAAIxI,EADHihD,EAEDniC,EAAI/e,EAET,IAAImhD,EAAWtoD,KAAK+B,KAAKsS,GAAU,EAAIF,GAAS,IAAM,GAAK,IAEvDo0C,GAAU,EACd,MAAMC,EAAgBtwC,EAAI1Y,OAAOwS,MAAMsS,0BAA4B,GAQnE,GAPIkkC,GAAiBpwC,EAAInV,GAAGulD,KAC1BD,GAAU,GAERA,IACFD,EAAWtoD,KAAK+B,IAAI/B,KAAKgC,IAAImS,EAAOE,GAAS,KAG1Ck0C,GAAmC,WAAxBnwC,EAAIxT,IAAI,YAOtBwjD,EAAOK,gBAAmB,eAA0Bt0C,EAAQ,EAAnBk0C,QAAuCh0C,EAAS,EAApBg0C,uBAPrB,CAChD,MAEMK,GAASJ,EAAW,IADtBD,EAAWl0C,EAAQ,IAAM,GAAKk0C,EAAWh0C,EAAS,IAAM,IAAM,KACbi0C,EAAW,GAChEF,EAAOK,gBAAmB,kCAAiCC,IAC7D,CA2BA,OAvBIH,GACFnwC,EAAIkD,SAAS,gBAGf8sC,EAAOO,cAAgBptD,EACpB,0CAAyC+sD,gBAAuBA,oBAC/DA,EAAW,qBACOA,EAAW,aAAaD,YAC1CA,+BAC4BD,EAAOK,2BAGvCrwC,EAAI7P,QAAQ6/C,EAAOO,eAEnBP,EAAOO,cAActqB,cAAa,KAC3B+pB,EAAOO,gBACRP,EAAOO,cAAc9iC,SAAS,qBAClCuiC,EAAOO,cAAcrtC,SAAS,kBAC1B8sC,EAAOQ,iBACTR,EAAOS,OACT,IAGKT,CACT,CAEA/vC,UACE,IAAI+vC,EAASlvD,KACTkvD,EAAOO,eACTP,EAAOO,cAAc5kD,SAEvB9N,OAAOI,KAAK+xD,GAAQ9xD,SAASC,IAC3B6xD,EAAO7xD,GAAO,YACP6xD,EAAO7xD,EAAI,IAEpB6xD,EAAS,IACX,CAEAS,MACE,MAAMT,EAASlvD,MACTyvD,cAAEA,GAAkBzvD,KAC1BO,aAAa2uD,EAAOU,eACpBH,EAAcrtC,SAAS,mBAEvB8sC,EAAOU,cAAgBtvD,YAAW,KAChC4uD,EAAO/vC,SAAS,GACf,KAEHswC,EAActqB,cAAa,KACzB5kC,aAAa2uD,EAAOU,eACpBV,EAAO/vC,SAAS,GAEpB,CAEAtU,SACE,MAAMqkD,EAASlvD,KACXkvD,EAAOQ,kBACXR,EAAOU,cAAgBtvD,YAAW,KAChC4uD,EAAO/vC,SAAS,GACf,KACH+vC,EAAOQ,iBAAkB,EACrBR,EAAOO,cAAc9iC,SAAS,mBAChCuiC,EAAOS,MAEX,EC/FF,IAAAV,GAAe,CACbzrD,KAAM,eACN+a,OAAQ,CACN0wC,gBAEF/wC,SACcle,KACRitB,YAAc,CAChB/O,SAAgB,QAAAxY,EAAAhC,UAAApG,OAANqG,EAAI1C,UAAAyE,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJjC,EAAIiC,GAAAlC,UAAAkC,GACZ,OAAO,IAAIqpD,MAAetrD,EAC5B,EAEJ,GCTF,MAAMksD,GAAe,GACfC,GAAe,GAMrB,MAAMC,WAAc/yC,GAClBlgB,YAAYkiB,EAAK1Y,GACfnF,MAAMmF,EAAQ,CAAC0Y,IAEf,MAAMmf,EAAQn+B,KAERyf,EAAW,GAGjB0e,EAAM7gB,iBAAiBmC,GAEvB0e,EAAM73B,OAAStJ,EAAOyiB,EAAUnZ,GAChC63B,EAAM6xB,QAAS,EAEf,IAAIC,EAAe9xB,EAAM73B,OAAO4pD,YAAc7tD,EAAE87B,EAAM73B,OAAO4pD,aAAahmD,GAAG,GAAK8U,EAAIE,IAStF,OARK+wC,EAAa3yD,SAAQ2yD,EAAejxC,EAAIE,KAE7Cif,EAAM8xB,aAAeA,EACrB9xB,EAAM+xB,YAAcD,EAAa,GAGjC9xB,EAAMhgB,aAECne,IACT,CAEAmwD,SACE,MAAMhyB,EAAQn+B,KACdm+B,EAAM6xB,QAAS,EACfH,GAAa7tD,KAAKm8B,GAClB97B,EAAE,QAAQ+f,SAAU,cAAa+b,EAAM9W,KAAK5c,iBAC5C0zB,EAAMjf,IAAIrb,QAAS,cAAas6B,EAAM9W,KAAK5c,sBAC3C0zB,EAAMzhB,KAAM,yBAAwByhB,EAAM9W,WAAY8W,EACxD,CAEAiyB,WACE,MAAMjyB,EAAQn+B,KACdm+B,EAAMjf,IAAIrb,QAAS,gBAAes6B,EAAM9W,KAAK5c,wBAC7C0zB,EAAMzhB,KAAM,6BAA4ByhB,EAAM9W,aAAc8W,EAC9D,CAEAkyB,UACE,MAAMlyB,EAAQn+B,KACdm+B,EAAM6xB,QAAS,EACV7xB,EAAM9W,MAAS8W,EAAMjf,MAC1B2wC,GAAariD,OAAOqiD,GAAantD,QAAQy7B,GAAQ,GACjD97B,EAAE,QAAQggB,YAAa,cAAa8b,EAAM9W,KAAK5c,iBAC/C0zB,EAAMjf,IAAIrb,QAAS,eAAcs6B,EAAM9W,KAAK5c,uBAC5C0zB,EAAMzhB,KAAM,2BAA0ByhB,EAAM9W,YAAa8W,GAC3D,CAEAmyB,WACE,MAAMnyB,EAAQn+B,KACTm+B,EAAM9W,MAAS8W,EAAMjf,MAC1Bif,EAAMjf,IAAImD,YAAY,aACtB8b,EAAMjf,IAAIgmC,OAER/mB,EAAM73B,OAAOiqD,WACZpyB,EAAM73B,OAAOkqD,gBAAkBryB,EAAMsyB,sBACtCtyB,EAAMuyB,aAENvyB,EAAMuyB,YAAY7lD,SAEpBszB,EAAMjf,IAAIrb,QAAS,gBAAes6B,EAAM9W,KAAK5c,wBAC7C0zB,EAAMzhB,KAAM,6BAA4ByhB,EAAM9W,aAAc8W,GAC9D,CAEAnb,KAAK2tC,GACH,MAAMxyB,EAAQn+B,KACRV,EAAWF,IACX4f,EAAMmf,EAAMnf,IACZE,EAAMif,EAAMjf,IACZwxC,EAAcvyB,EAAMuyB,YACpBrpC,EAAO8W,EAAM9W,KACnB,IAAI7f,GAAU,EAMd,QAL4B,IAAjBmpD,EAA8BnpD,EAAUmpD,OACV,IAAzBxyB,EAAM73B,OAAOkB,UAC3BA,EAAU22B,EAAM73B,OAAOkB,UAGpB0X,GAAOA,EAAIyN,SAAS,YAIvB,OAHqB,IAAjBgkC,GAA0BzxC,EAAI,IAAe,WAATmI,IACtCnI,EAAI,GAAG5gB,MAAMqN,QAAU,SAElBwyB,EAGT,GAAa,WAAT9W,GAAqBrI,EAAI1Y,OAAO63B,MAAMyyB,aAAc,CACtD,IAAIC,EAQJ,GAPIxuD,EAAE,oBAAoB/E,OAAS,EACjCuzD,GAAc,EACLhB,GAAavyD,OAAS,GAC/BuyD,GAAazyD,SAAS0zD,IACK,WAArBA,EAAYzpC,OAAmBwpC,GAAc,EAAI,IAGrDA,EAEF,OADAf,GAAa9tD,KAAKm8B,GACXA,CAEX,CAEA,MAAM4yB,EAAiB7xC,EAAIxV,SACrBsnD,EAAW9xC,EAAIjV,QAAQ3K,GAAUhC,OAAS,EA0BhD,SAAS+9B,IACHnc,EAAIyN,SAAS,aACfwR,EAAMmyB,WACGpxC,EAAIyN,SAAS,aACtBwR,EAAMiyB,UAEV,CAuBA,OAtDKW,EAAehnD,GAAGo0B,EAAM8xB,gBAC3B9xB,EAAM8xB,aAAatmD,OAAOuV,GAC1Bif,EAAM5hB,KAAM,GAAE8K,WAAc,KACtB2pC,EACFD,EAAepnD,OAAOuV,GAEtBA,EAAIrU,QACN,KAIJqU,EAAIsuB,OAGFrP,EAAM73B,OAAOiqD,WACZpyB,EAAM73B,OAAOkqD,gBAAkBryB,EAAMsyB,sBACtCtyB,EAAMuyB,aAENvyB,EAAMuyB,YAAY3kD,aAAamT,GAIjCif,EAAMnH,YAAc9X,EAAI,GAAGtR,WAUvBpG,GACEkpD,IACFA,EAAYruC,YAAY,gBACxBquC,EAAYtuC,SAAS,gBAEvBlD,EAAIimB,cAAa,KACf9J,GAAe,IAEjBnc,EAAImc,eAAc,KAChBA,GAAe,IAEjBnc,EAAImD,YAAY,0BAA0BD,SAAS,YACnD+b,EAAMgyB,WAEFO,GACFA,EAAYtuC,SAAS,4BAEvBlD,EAAImD,YAAY,aAAaD,SAAS,yBACtC+b,EAAMgyB,SACNhyB,EAAMiyB,YAGDjyB,CACT,CAEA7a,MAAMqtC,GACJ,MAAMxyB,EAAQn+B,KACRkf,EAAMif,EAAMjf,IACZwxC,EAAcvyB,EAAMuyB,YAE1B,IAAIlpD,GAAU,EAMd,QAL4B,IAAjBmpD,EAA8BnpD,EAAUmpD,OACV,IAAzBxyB,EAAM73B,OAAOkB,UAC3BA,EAAU22B,EAAM73B,OAAOkB,UAGpB0X,IAAQA,EAAIyN,SAAS,YAIxB,OAHImjC,GAAaptD,QAAQy7B,IAAU,GACjC2xB,GAAatiD,OAAOsiD,GAAaptD,QAAQy7B,GAAQ,GAE5CA,EAIT,GAAIuyB,EAAa,CACf,IAAIO,GAAqB,EACN,UAAf9yB,EAAM9W,MACR8W,EAAMjf,IACHnO,QAAQ,mBACR9K,IAAIk4B,EAAMjf,IAAIpO,QAAQ,oBACtB3J,MAAM+pD,IACL,MAAMC,EAAgBD,EAAQ7tC,QACzB8tC,GAEHA,EAAc7qD,OAAO8qD,sBACrBD,EAAc7qD,OAAOiqD,UACrBY,EAAcE,aAAelzB,EAAMkzB,aAEnCJ,GAAqB,EACvB,IAGFA,IACFP,EAAYlpD,EAAU,cAAgB,YAAY,gBAClDkpD,EAAYruC,YAAY,eAE5B,CAKA,SAASgZ,IACHnc,EAAIyN,SAAS,aACfwR,EAAMmyB,WACGpxC,EAAIyN,SAAS,aACtBwR,EAAMiyB,UAEV,CAsBA,OA9BAlxC,EAAI1X,EAAU,cAAgB,YAAY,gBAStCA,GACF0X,EAAIimB,cAAa,KACf9J,GAAe,IAEjBnc,EAAImc,eAAc,KAChBA,GAAe,IAEjBnc,EAAImD,YAAY,YAAYD,SAAS,aAErC+b,EAAMkyB,YAENnxC,EAAIkD,SAAS,gBAAgBC,YAAY,YAAYD,SAAS,aAE9D+b,EAAMkyB,UACNlyB,EAAMmyB,YAGW,WAAfnyB,EAAM9W,MA5Od,WACE,GAA4B,IAAxByoC,GAAaxyD,OAAc,OAChBwyD,GAAavoD,QACrByb,MACT,CAyOMsuC,GAGKnzB,CACT,CAEAhf,UACE,MAAMgf,EAAQn+B,KACVm+B,EAAMozB,YACVpzB,EAAMzhB,KAAM,2CAA0CyhB,EAAM9W,oBAAqB8W,GAC7EA,EAAMjf,MACRif,EAAMjf,IAAIrb,QAAS,uBAAsBs6B,EAAM9W,KAAK5c,+BAChD0zB,EAAMjf,IAAI5hB,QAAU6gC,EAAMjf,IAAI,GAAGmE,gBAC5B8a,EAAMjf,IAAI,GAAGmE,SAGxBnQ,EAAYirB,GACZA,EAAMozB,WAAY,EACpB,EClQF,MAAMC,WAAoBzB,GACxBjzD,YAAYkiB,EAAK1Y,GACf,MAAMmrD,EAAiBz0D,EACrB,CACEuzD,UAAU,EACVa,sBAAsB,EACtBttD,GAAI,IAENwC,GAIFnF,MAAM6d,EAAKyyC,GAEX,MAAMC,EAAc1xD,KAKpB,IAAIkf,EAcAwxC,EAPJ,GAVAgB,EAAYprD,OAASmrD,EAOnBvyC,EAHGwyC,EAAYprD,OAAOxE,GAGhBO,EAAEqvD,EAAYprD,OAAOxE,IAFrBO,EAAEqvD,EAAYprD,OAAO8e,SAKzBlG,GAAOA,EAAI5hB,OAAS,GAAK4hB,EAAI,GAAGmE,QAClC,OAAOnE,EAAI,GAAGmE,QAGhB,GAAmB,IAAfnE,EAAI5hB,OACN,OAAOo0D,EAAYvyC,UAWrB,SAASwyC,EAAYzoD,GACdwoD,IAAeA,EAAYH,WAC5Bb,GAAexnD,EAAEjM,SAAWyzD,EAAY,IAC1CgB,EAAYpuC,OAEhB,CAwBA,OArCIouC,EAAYprD,OAAOiqD,WACrBG,EAAc1xC,EAAIE,IAAI9gB,SAAS,0BACJ,IAAvBsyD,EAAYpzD,SACdozD,EAAcruD,EAAE,6CAChB2c,EAAIE,IAAIvV,OAAO+mD,KAWnBgB,EAAY5tD,GAAG,qBAAqB,KAC9B4tD,EAAYprD,OAAO8qD,sBAAwBM,EAAYprD,OAAOiqD,UAChEvxC,EAAIlb,GAAG,QAAS6tD,EAClB,IAEFD,EAAY5tD,GAAG,oBAAoB,KAC7B4tD,EAAYprD,OAAO8qD,sBAAwBM,EAAYprD,OAAOiqD,UAChEvxC,EAAI7V,IAAI,QAASwoD,EACnB,IAGF30D,EAAO00D,EAAa,CAClB1yC,MACAE,MACApd,GAAIod,EAAI,GACRwxC,cACAW,WAAYX,GAAeA,EAAY,GACvCrpC,KAAM,gBAGRnI,EAAI,GAAGmE,QAAUquC,EAEVA,CACT,ECzEF,IAAA3B,GAAe,CACbvsD,KAAM,QACN+a,OAAQ,C,MACNwxC,GACAyB,gBAEFtzC,SACE,MAAMc,EAAMhf,KACZgf,EAAI0yC,YAAc,CAChBxzC,OAAO5X,GACE,IAAIkrD,GAAYxyC,EAAK1Y,G,EAIlCA,OAAQ,CACN63B,MAAO,CACLyyB,cAAc,K,MCaE,oBAAX7vD,SAEJA,OAAO2hB,QAAO3hB,OAAO2hB,MAAQrgB,IAIpCihC,GAAOhlB,IAAI,CAACw1B,KAEZz0B,GAAQf,IAAI,CACV4G,GACAG,GACAC,GACAE,GACA8E,GACAC,GACAmoB,GACA5B,GACAkS,GACAD,GACAU,GACAqB,GACAG,GACAnT,GACAqW,GACA2F,GACAiB,GACAE,GACAc,K"}